{"version":3,"file":"swag-migration-assistant-Cm7ShlMW.js","sources":["../../../app/administration/src/core/service/api/swag-migration.api.service.js","../../../app/administration/src/core/service/index.js","../../../app/administration/src/module/swag-migration/mixin/swag-wizard.mixin.js","../../../app/administration/src/module/swag-migration/component/swag-migration-dashboard-card/swag-migration-dashboard-card.html.twig","../../../app/administration/src/module/swag-migration/component/swag-migration-dashboard-card/index.js","../../../app/administration/src/module/swag-migration/component/card/swag-migration-shop-information/swag-migration-shop-information.html.twig","../../../app/administration/src/module/swag-migration/component/card/swag-migration-shop-information/index.js","../../../app/administration/src/module/swag-migration/component/card/swag-migration-premapping/swag-migration-premapping.html.twig","../../../app/administration/src/module/swag-migration/component/card/swag-migration-premapping/index.js","../../../app/administration/src/module/swag-migration/component/card/swag-migration-progress-bar/swag-migration-progress-bar.html.twig","../../../app/administration/src/module/swag-migration/component/card/swag-migration-progress-bar/index.js","../../../app/administration/src/module/swag-migration/component/card/swag-migration-assistant/swag-migration-assistant.html.twig","../../../app/administration/src/module/swag-migration/component/card/swag-migration-assistant/index.js","../../../app/administration/src/module/swag-migration/component/card/swag-migration-confirm-warning/swag-migration-confirm-warning.html.twig","../../../app/administration/src/module/swag-migration/component/card/swag-migration-confirm-warning/index.js","../../../app/administration/src/module/swag-migration/component/swag-migration-grid-extended/swag-migration-grid-extended.html.twig","../../../app/administration/src/module/swag-migration/component/swag-migration-grid-extended/index.js","../../../app/administration/src/module/swag-migration/component/swag-migration-tab-card/swag-migration-tab-card.html.twig","../../../app/administration/src/module/swag-migration/component/swag-migration-tab-card/index.js","../../../app/administration/src/module/swag-migration/component/swag-migration-tab-card-item/swag-migration-tab-card-item.html.twig","../../../app/administration/src/module/swag-migration/component/swag-migration-tab-card-item/index.js","../../../app/administration/src/module/swag-migration/component/swag-migration-grid-selection/swag-migration-grid-selection.html.twig","../../../app/administration/src/module/swag-migration/component/swag-migration-grid-selection/index.js","../../../app/administration/src/module/swag-migration/component/swag-migration-expand-div/swag-migration-expand-div.html.twig","../../../app/administration/src/module/swag-migration/component/swag-migration-expand-div/index.js","../../../app/administration/src/module/swag-migration/component/swag-migration-settings-icon/swag-migration-settings-icon.html.twig","../../../app/administration/src/module/swag-migration/component/swag-migration-settings-icon/index.js","../../../app/administration/src/module/swag-migration/component/loading-screen/swag-migration-loading-screen/swag-migration-loading-screen.html.twig","../../../app/administration/src/module/swag-migration/component/loading-screen/swag-migration-loading-screen/index.js","../../../app/administration/src/module/swag-migration/component/loading-screen/swag-migration-result-screen/swag-migration-result-screen.html.twig","../../../app/administration/src/module/swag-migration/component/loading-screen/swag-migration-result-screen/index.js","../../../app/administration/src/module/swag-migration/page/swag-migration-base/swag-migration-base.html.twig","../../../app/administration/src/module/swag-migration/page/swag-migration-base/index.js","../../../app/administration/src/module/swag-migration/page/swag-migration-index/swag-migration-index.html.twig","../../../app/administration/src/module/swag-migration/page/swag-migration-index/index.js","../../../app/administration/src/module/swag-migration/page/swag-migration-main-page/swag-migration-main-page.html.twig","../../../app/administration/src/module/swag-migration/page/swag-migration-main-page/index.js","../../../app/administration/src/module/swag-migration/page/wizard/swag-migration-wizard/swag-migration-wizard.html.twig","../../../app/administration/src/module/swag-migration/page/wizard/swag-migration-wizard/index.js","../../../app/administration/src/module/swag-migration/page/wizard/swag-migration-wizard-page-introduction/swag-migration-wizard-page-introduction.html.twig","../../../app/administration/src/module/swag-migration/page/wizard/swag-migration-wizard-page-introduction/index.js","../../../app/administration/src/module/swag-migration/page/wizard/swag-migration-wizard-page-profile-installation/swag-migration-wizard-page-profile-installation.html.twig","../../../app/administration/src/module/swag-migration/page/wizard/swag-migration-wizard-page-profile-installation/index.js","../../../app/administration/src/module/swag-migration/page/wizard/swag-migration-wizard-page-connection-select/swag-migration-wizard-page-connection-select.html.twig","../../../app/administration/src/module/swag-migration/page/wizard/swag-migration-wizard-page-connection-select/index.js","../../../app/administration/src/module/swag-migration/page/wizard/swag-migration-wizard-page-connection-create/swag-migration-wizard-page-connection-create.html.twig","../../../app/administration/src/module/swag-migration/page/wizard/swag-migration-wizard-page-connection-create/index.js","../../../app/administration/src/module/swag-migration/page/wizard/swag-migration-wizard-page-profile-information/swag-migration-wizard-page-profile-information.html.twig","../../../app/administration/src/module/swag-migration/page/wizard/swag-migration-wizard-page-profile-information/index.js","../../../app/administration/src/module/swag-migration/page/wizard/swag-migration-wizard-page-credentials/swag-migration-wizard-page-credentials.html.twig","../../../app/administration/src/module/swag-migration/page/wizard/swag-migration-wizard-page-credentials/index.js","../../../app/administration/src/module/swag-migration/page/wizard/swag-migration-wizard-page-credentials-success/swag-migration-wizard-page-credentials-success.html.twig","../../../app/administration/src/module/swag-migration/page/wizard/swag-migration-wizard-page-credentials-success/index.js","../../../app/administration/src/module/swag-migration/page/wizard/swag-migration-wizard-page-credentials-error/swag-migration-wizard-page-credentials-error.html.twig","../../../app/administration/src/module/swag-migration/page/wizard/swag-migration-wizard-page-credentials-error/index.js","../../../app/administration/src/module/swag-migration/page/swag-migration-history/swag-migration-history.html.twig","../../../app/administration/src/module/swag-migration/page/swag-migration-history/index.js","../../../app/administration/src/module/swag-migration/page/swag-migration-history-detail/swag-migration-history-detail.html.twig","../../../app/administration/src/module/swag-migration/page/swag-migration-history-detail/index.js","../../../app/administration/src/module/swag-migration/page/swag-migration-history-detail-errors/swag-migration-history-detail-errors.html.twig","../../../app/administration/src/module/swag-migration/page/swag-migration-history-detail-errors/index.js","../../../app/administration/src/module/swag-migration/page/swag-migration-history-detail-data/swag-migration-history-detail-data.html.twig","../../../app/administration/src/module/swag-migration/page/swag-migration-history-detail-data/index.js","../../../app/administration/src/module/swag-migration/page/swag-migration-process-screen/swag-migration-process-screen.html.twig","../../../app/administration/src/module/swag-migration/page/swag-migration-process-screen/index.js","../../../app/administration/src/module/swag-migration/page/swag-migration-data-selector/swag-migration-data-selector.html.twig","../../../app/administration/src/module/swag-migration/page/swag-migration-data-selector/index.js","../../../app/administration/src/module/swag-migration/extension/sw-dashboard-index/sw-dashboard-index.html.twig","../../../app/administration/src/module/swag-migration/extension/sw-dashboard-index/index.js","../../../app/administration/src/module/swag-migration/profile/shopware/api/swag-migration-profile-shopware-api-credential-form/swag-migration-profile-shopware-api-credential-form.html.twig","../../../app/administration/src/module/swag-migration/profile/shopware/api/swag-migration-profile-shopware-api-credential-form/index.js","../../../app/administration/src/module/swag-migration/profile/shopware/api/swag-migration-profile-shopware-api-page-information/swag-migration-profile-shopware-api-page-information.html.twig","../../../app/administration/src/module/swag-migration/profile/shopware/api/swag-migration-profile-shopware-api-page-information/index.js","../../../app/administration/src/module/swag-migration/profile/shopware/local/swag-migration-profile-shopware-local-credential-form/swag-migration-profile-shopware-local-credential-form.html.twig","../../../app/administration/src/module/swag-migration/profile/shopware/local/swag-migration-profile-shopware-local-credential-form/index.js","../../../app/administration/src/module/swag-migration/profile/shopware54/api/swag-migration-profile-shopware54-api-credential-form/index.js","../../../app/administration/src/module/swag-migration/profile/shopware54/api/swag-migration-profile-shopware54-api-page-information/index.js","../../../app/administration/src/module/swag-migration/profile/shopware54/local/swag-migration-profile-shopware54-local-credential-form/index.js","../../../app/administration/src/module/swag-migration/profile/shopware55/api/swag-migration-profile-shopware55-api-credential-form/index.js","../../../app/administration/src/module/swag-migration/profile/shopware55/api/swag-migration-profile-shopware55-api-page-information/index.js","../../../app/administration/src/module/swag-migration/profile/shopware55/local/swag-migration-profile-shopware55-local-credential-form/index.js","../../../app/administration/src/module/swag-migration/profile/shopware56/api/swag-migration-profile-shopware56-api-credential-form/index.js","../../../app/administration/src/module/swag-migration/profile/shopware56/api/swag-migration-profile-shopware56-api-page-information/index.js","../../../app/administration/src/module/swag-migration/profile/shopware56/local/swag-migration-profile-shopware56-local-credential-form/index.js","../../../app/administration/src/module/swag-migration/profile/shopware57/api/swag-migration-profile-shopware57-api-credential-form/index.js","../../../app/administration/src/module/swag-migration/profile/shopware57/api/swag-migration-profile-shopware57-api-page-information/index.js","../../../app/administration/src/module/swag-migration/profile/shopware57/local/swag-migration-profile-shopware57-local-credential-form/index.js","../../../app/administration/src/module/swag-migration/profile/shopware6/api/swag-migration-profile-shopware6-api-credential-form/swag-migration-profile-shopware6-api-credential-form.html.twig","../../../app/administration/src/module/swag-migration/profile/shopware6/api/swag-migration-profile-shopware6-api-credential-form/index.js","../../../app/administration/src/module/swag-migration/profile/shopware6/api/swag-migration-profile-shopware6-api-page-information/swag-migration-profile-shopware6-api-page-information.html.twig","../../../app/administration/src/module/swag-migration/profile/shopware6/api/swag-migration-profile-shopware6-api-page-information/index.js","../../../app/administration/src/module/swag-migration/profile/index.js","../../../app/administration/src/core/data/migration.store.js","../../../app/administration/src/module/swag-migration/index.js","../../../app/administration/src/init/translation.init.ts"],"sourcesContent":["const ApiService = Shopware.Classes.ApiService;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nexport const MIGRATION_STEP = Object.freeze({\n    IDLE: 'idle',\n    FETCHING: 'fetching',\n    WRITING: 'writing',\n    MEDIA_PROCESSING: 'media-processing',\n    CLEANUP: 'cleanup',\n    INDEXING: 'indexing',\n    WAITING_FOR_APPROVE: 'waiting-for-approve',\n    ABORTING: 'aborting',\n});\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nclass MigrationApiService extends ApiService {\n    constructor(httpClient, loginService, apiEndpoint = 'migration') {\n        super(httpClient, loginService, apiEndpoint);\n        this.basicConfig = {\n            timeout: 30000,\n            version: Shopware.Context.api.apiVersion,\n        };\n    }\n\n    updateConnectionCredentials(connectionId, credentialFields, additionalHeaders = {}) {\n        const headers = this.getBasicHeaders(additionalHeaders);\n\n        return this.httpClient.post(`_action/${this.getApiBasePath()}/update-connection-credentials`, {\n            connectionId,\n            credentialFields,\n        }, {\n            ...this.basicConfig,\n            headers,\n        }).then((response) => {\n            return ApiService.handleResponse(response);\n        });\n    }\n\n    checkConnection(connectionId, additionalHeaders = {}) {\n        const headers = this.getBasicHeaders(additionalHeaders);\n\n        return this.httpClient.post(`_action/${this.getApiBasePath()}/check-connection`, { connectionId }, {\n            ...this.basicConfig,\n            headers,\n        }).then((response) => {\n            return ApiService.handleResponse(response);\n        });\n    }\n\n    getDataSelection(connectionId, additionalHeaders = {}) {\n        const headers = this.getBasicHeaders(additionalHeaders);\n\n        return this.httpClient.get(`_action/${this.getApiBasePath()}/data-selection`, {\n            ...this.basicConfig,\n            params: {\n                connectionId,\n            },\n            headers,\n        }).then((response) => {\n            return ApiService.handleResponse(response);\n        });\n    }\n\n    /**\n     * @param {string[]} dataSelectionIds\n     */\n    generatePremapping(dataSelectionIds) {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient.post(`_action/${this.getApiBasePath()}/generate-premapping`, { dataSelectionIds }, {\n            ...this.basicConfig,\n            headers,\n        }).then((response) => {\n            return ApiService.handleResponse(response);\n        });\n    }\n\n    writePremapping(premapping) {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient.post(`_action/${this.getApiBasePath()}/write-premapping`, { premapping }, {\n            ...this.basicConfig,\n            headers,\n        }).then((response) => {\n            return ApiService.handleResponse(response);\n        });\n    }\n\n    /**\n     * @param {string[]} dataSelectionNames\n     */\n    startMigration(dataSelectionNames) {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient.post(`_action/${this.getApiBasePath()}/start-migration`, {\n            dataSelectionNames,\n        }, {\n            ...this.basicConfig,\n            headers,\n        }).then((response) => {\n            return ApiService.handleResponse(response);\n        });\n    }\n\n    getState() {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient.get(`_action/${this.getApiBasePath()}/get-state`, {\n            ...this.basicConfig,\n            headers,\n        }).then((response) => {\n            return ApiService.handleResponse(response);\n        });\n    }\n\n    approveFinishedMigration() {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient.post(`_action/${this.getApiBasePath()}/approve-finished`, {}, {\n            ...this.basicConfig,\n            headers,\n        }).then((response) => {\n            return ApiService.handleResponse(response);\n        });\n    }\n\n    abortMigration() {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient.post(`_action/${this.getApiBasePath()}/abort-migration`, {}, {\n            ...this.basicConfig,\n            headers,\n        }).then((response) => {\n            return ApiService.handleResponse(response);\n        });\n    }\n\n    getProfiles() {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient.get(`_action/${this.getApiBasePath()}/get-profiles`, {\n            ...this.basicConfig,\n            headers,\n        }).then((response) => {\n            return ApiService.handleResponse(response);\n        });\n    }\n\n    getGateways(profileName) {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient.get(`_action/${this.getApiBasePath()}/get-gateways`, {\n            ...this.basicConfig,\n            params: {\n                profileName,\n            },\n            headers,\n        }).then((response) => {\n            return ApiService.handleResponse(response);\n        });\n    }\n\n    getProfileInformation(profileName, gatewayName) {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient.get(`_action/${this.getApiBasePath()}/get-profile-information`, {\n            ...this.basicConfig,\n            params: {\n                profileName,\n                gatewayName,\n            },\n            headers,\n        }).then((response) => {\n            return ApiService.handleResponse(response);\n        });\n    }\n\n    getGroupedLogsOfRun(runUuid) {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient.get(`${this.getApiBasePath()}/get-grouped-logs-of-run`, {\n            ...this.basicConfig,\n            params: {\n                runUuid,\n            },\n            headers,\n        }).then((response) => {\n            return ApiService.handleResponse(response);\n        });\n    }\n\n    clearDataOfRun(runUuid) {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient.post(`_action/${this.getApiBasePath()}/clear-data-of-run`, {\n            runUuid,\n        }, {\n            ...this.basicConfig,\n            headers,\n        }).then((response) => {\n            return ApiService.handleResponse(response);\n        });\n    }\n\n    resetChecksums(connectionId, additionalHeaders = {}) {\n        const headers = this.getBasicHeaders(additionalHeaders);\n\n        return this.httpClient.post(`_action/${this.getApiBasePath()}/reset-checksums`, {\n            connectionId,\n        }, {\n            ...this.basicConfig,\n            headers,\n        }).then((response) => {\n            return ApiService.handleResponse(response);\n        });\n    }\n\n    cleanupMigrationData(additionalHeaders = {}) {\n        const headers = this.getBasicHeaders(additionalHeaders);\n        return this.httpClient.post(`_action/${this.getApiBasePath()}/cleanup-migration-data`, {\n            ...this.basicConfig,\n            headers,\n        });\n    }\n\n    isMediaProcessing(additionalHeaders = {}) {\n        const headers = this.getBasicHeaders(additionalHeaders);\n        return this.httpClient.get(`_action/${this.getApiBasePath()}/is-media-processing`, {\n            ...this.basicConfig,\n            headers,\n        });\n    }\n}\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nexport default MigrationApiService;\n","import MigrationApiService from './api/swag-migration.api.service';\n\nconst { Application } = Shopware;\n\n/**\n * @sw-package fundamentals@after-sales\n * @private\n */\n\nApplication.addServiceProvider('migrationApiService', (container) => {\n    const initContainer = Application.getContainer('init');\n    return new MigrationApiService(initContainer.httpClient, container.loginService);\n});\n","const { Mixin } = Shopware;\nconst { debug } = Shopware.Utils;\n\n/**\n * Mixin for the navigation logic inside a wizard.\n * See swag-migration-wizard as an example.\n *\n * @private\n * @sw-package fundamentals@after-sales\n */\nMixin.register('swag-wizard', {\n    inject: [\n        'feature',\n    ],\n    data() {\n        return {\n            routes: {},\n            /* Example routes\n            routes: {\n                introduction: {\n                    name: 'swag.migration.wizard.introduction',\n                    index: 0 // the index defines the order of the navigation (it can be changed a runtime)\n                },\n                profile: {\n                    name: 'swag.migration.wizard.profile',\n                    index: 1\n                },\n                profileCreate: {\n                    name: 'swag.migration.wizard.profileCreate',\n                    index: 1.1 // not available through nextRoute (child from profile)\n                },\n                profileSelect: {\n                    name: 'swag.migration.wizard.profileSelect',\n                    index: 1.1 // not available through nextRoute (child from profile)\n                },\n                profileInformation: {\n                    name: 'swag.migration.wizard.profileInformation',\n                    index: 2\n                }\n            } */\n            currentRoute: {\n                name: '',\n                index: 0,\n            },\n        };\n    },\n\n    computed: {\n        /**\n         * Current route index (wizard step).\n         * This does not include child routes like 5.1\n         *\n         * @returns {number}\n         */\n        routeIndex() {\n            return Math.floor(this.currentRoute.index);\n        },\n\n        /**\n         * Get the number of steps that the wizard runs through.\n         * This includes all routes except for the child routes like 5.1\n         *\n         * @returns {number}\n         */\n        routeCount() {\n            const routeIndices = [];\n            Object.keys(this.routes).forEach((routeIndex) => {\n                if (!routeIndices.includes(Math.floor(this.routes[routeIndex].index))) {\n                    routeIndices.push(Math.floor(this.routes[routeIndex].index));\n                }\n            });\n\n            return routeIndices.length;\n        },\n\n        /**\n         * Returns the previous route (next round number that is smaller than the current index).\n         * If the user is on a child route for example 5.1 it will return the route with index of 5.\n         *\n         * @returns {Object|boolean<false>}\n         */\n        routePrevious() {\n            let previousRoute;\n\n            Object.keys(this.routes).forEach((route) => {\n                if (this.routes[route].index < this.currentRoute.index) {\n                    if (previousRoute === undefined ||\n                        Math.floor(this.routes[route].index) > previousRoute.index\n                    ) {\n                        previousRoute = this.routes[route];\n                    }\n                }\n            });\n\n            return previousRoute !== undefined ? previousRoute : false;\n        },\n\n        /**\n         * Returns the next route (next round number that is bigger than the current index).\n         * (except for child routes which are excluded like 5.1).\n         *\n         * @returns {Object|boolean<false>}\n         */\n        routeNext() {\n            let nextRoute;\n            Object.keys(this.routes).forEach((route) => {\n                if (Math.floor(this.routes[route].index) > this.routeIndex) {\n                    if (nextRoute === undefined ||\n                        Math.floor(this.routes[route].index) < nextRoute.index\n                    ) {\n                        nextRoute = this.routes[route];\n                    }\n                }\n            });\n\n            return nextRoute !== undefined ? nextRoute : false;\n        },\n\n        /**\n         * Checks if there is a previous route we can navigate to.\n         *\n         * @returns {boolean}\n         */\n        navigateToPreviousPossible() {\n            return this.routePrevious !== false;\n        },\n\n        /**\n         * Checks if there is a next route we can navigate to.\n         *\n         * @returns {boolean}\n         */\n        navigateToNextPossible() {\n            return this.routeNext !== false;\n        },\n    },\n\n    /**\n     * Match the current route when the component gets created.\n     */\n    created() {\n        // don't trigger the callback when the wizard is created.\n        // but set the right current route.\n        this.matchCurrentRoute(false);\n    },\n\n    updated() {\n        this.matchCurrentRoute(true);\n    },\n\n    methods: {\n        /**\n         * Logic for matching the current route.\n         * It searches for the route inside this.routes.\n         */\n        matchCurrentRoute(notifyCallback = true) {\n            const routerCurrentRoute = this.$router.currentRoute.value;\n\n            // check for current child route\n            let currentRoute;\n            const currentRouteFound = Object.keys(this.routes).some((routeIndex) => {\n                if (this.routes[routeIndex].name === routerCurrentRoute.name) {\n                    currentRoute = this.routes[routeIndex];\n                    return true;\n                }\n\n                return false;\n            });\n\n            if (currentRouteFound) {\n                this.currentRoute = currentRoute;\n                if (notifyCallback) {\n                    this.onChildRouteChanged();\n                }\n            }\n        },\n\n        /**\n         * Gets called when a route change has happened. This is useful to update texts inside the modal but\n         * outside of the router view (for example headlines, buttons, ...)\n         * Note: does not get called on created (to allow loading things from the api first)\n         */\n        onChildRouteChanged() {\n            debug.warn(\n                'swag-wizard Mixin',\n                'When using the wizard mixin you have to implement your custom \"onChildRouteChanged()\" method.',\n            );\n        },\n\n        /**\n         * Navigate to the specified route. You can get the route from this.routes\n         *\n         * @param {Object} route\n         */\n        navigateToRoute(route) {\n            this.$router.push({ name: route.name }).catch((error) => {\n                console.error(error.message);\n            });\n        },\n\n        /**\n         * Navigate to the previous route inside this.routes.\n         * It will skip route child indices like '3.1'\n         * It will return false if there is nothing to navigate to.\n         *\n         * @returns {boolean}\n         */\n        navigateToPrevious() {\n            if (this.navigateToPreviousPossible) {\n                this.navigateToRoute(this.routePrevious);\n                return true;\n            }\n\n            return false;\n        },\n\n        /**\n         * Navigate to the next route inside this.routes.\n         * It will skip route child indices like '3.1'.\n         * It will return false if there is nothing to navigate to.\n         *\n         * @returns {boolean}\n         */\n        navigateToNext() {\n            if (this.navigateToNextPossible) {\n                this.navigateToRoute(this.routeNext);\n                return true;\n            }\n\n            return false;\n        },\n    },\n});\n","{% block swag_migration_dashboard_card %}\n    <mt-card class=\"swag-migration-dashboard-card\"\n             position-identifier=\"swag-migration-dashboard-card\">\n\n        {% block swag_migration_dashboard_card_wrapper %}\n            {%  block swag_migration_dashboard_card_title %}\n                <template #title>\n                    <span class=\"swag-migration-dashboard-card__title\">\n                        {{ $tc('swag-migration.dashboard.title') }}\n                    </span>\n                </template>\n            {% endblock %}\n\n            {% block swag_migration_dashboard_card_container %}\n                <sw-container class=\"swag-migration-shop-information\"\n                              rows=\"auto auto\">\n                    {% block fuuuu %}\n                    {% endblock %}\n\n                    {%  block swag_migration_dashboard_card_content %}\n                        <div class=\"swag-migration-dashboard-card__content\">\n\n                            {%  block swag_migration_dashboard_card_wrapper %}\n                                <div class=\"swag-migration-dashboard-card__wrapper\">\n\n                                    {%  block swag_migration_dashboard_card_left_content %}\n                                        <div class=\"swag-migration-dashboard-card__left-content\">\n\n                                            {%  block swag_migration_dashboard_card_headline %}\n                                                <div class=\"swag-migration-dashboard-card__headline\">\n                                                    {{ $tc('swag-migration.dashboard.headline') }}\n                                                </div>\n                                            {% endblock %}\n\n                                            {%  block swag_migration_dashboard_card_information %}\n                                                <div class=\"swag-migration-dashboard-card__information\">\n                                                    {{ $tc('swag-migration.dashboard.information') }}\n                                                </div>\n                                            {% endblock %}\n\n                                            {%  block swag_migration_dashboard_card_button %}\n                                                <mt-button variant=\"primary\"\n                                                           @click=\"goToMigrationIndexPage\"\n                                                >\n                                                    {{ $tc('swag-migration.dashboard.button') }}\n                                                </mt-button>\n                                            {%  endblock %}\n                                        </div>\n                                    {% endblock %}\n\n                                    {%  block swag_migration_dashboard_card_right_content %}\n                                        <div class=\"swag-migration-dashboard-card__right-content\">\n                                            <img :src=\"assetFilter('/swagmigrationassistant/administration/static/img/wizard-introduction.svg')\"\n                                                 alt=\"\">\n                                        </div>\n                                    {% endblock %}\n                                </div>\n                            {% endblock %}\n                        </div>\n                    {% endblock %}\n                </sw-container>\n            {% endblock %}\n        {% endblock %}\n    </mt-card>\n{% endblock %}\n","import template from './swag-migration-dashboard-card.html.twig';\nimport './swag-migration-dashboard-card.scss';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-dashboard-card', {\n    template,\n\n    computed: {\n        assetFilter() {\n            return Shopware.Filter.getByName('asset');\n        },\n    },\n\n    methods: {\n        goToMigrationIndexPage() {\n            this.$router.push({ name: 'swag.migration.index' });\n        },\n    },\n});\n","{% block swag_migration_shop_information %}\n    <mt-card\n        class=\"swag-migration-shop-information\"\n        :title=\"$tc('swag-migration.index.shopInfoCard.cardTitle')\"\n        position-identifier=\"swag-migration-shop-information\"\n    >\n        <template #header-right>\n            <mt-button\n                v-tooltip=\"{ message: $tc('swag-migration.index.shopInfoCard.refreshTooltip') }\"\n                class=\"swag-migration-shop-information__refresh-connection\"\n                size=\"x-small\"\n                square\n                variant=\"secondary\"\n                @click=\"onClickRefreshConnection\"\n            >\n                <mt-icon\n                    name=\"regular-redo-s\"\n                    size=\"16px\"\n                />\n            </mt-button>\n        </template>\n\n        {% block swag_migration_shop_information_content %}\n            <template #grid>\n                <sw-container rows=\"auto auto\">\n                    <sw-card-section :divider=\"showMoreInformation ? 'bottom' : ''\">\n\n                        {% block swag_migration_shop_information_connection %}\n                            <div class=\"swag-migration-shop-information__connection\">\n\n                                {% block swag_migration_shop_information_connection_avatar %}\n                                    <template v-if=\"profileIcon !== null && profileIcon !== ''\">\n                                        <img class=\"swag-migration-shop-information__profile-avatar\"\n                                             :src=\"assetFilter(profileIcon)\"\n                                             alt=\"\"\n                                             size=\"80px\">\n                                    </template>\n\n                                    <template v-else>\n                                        <img class=\"swag-migration-shop-information__profile-avatar\"\n                                             :src=\"assetFilter('/swagmigrationassistant/administration/static/img/migration-assistant-plugin.svg')\"\n                                             alt=\"\"\n                                             size=\"80px\">\n                                    </template>\n                                {% endblock %}\n\n                                {% block swag_migration_shop_information_connection_info %}\n                                    <div class=\"swag-migration-shop-information__connection-info\">\n\n                                        {% block swag_migration_shop_information_shop_system %}\n                                            <div class=\"swag-migration-shop-information__connection-name\">\n                                                {{ connectionName }}\n                                            </div>\n                                        {% endblock %}\n\n                                        {% block swag_migration_shop_information_shop_domain %}\n                                            <div v-if=\"shopUrl !== ''\"\n                                                 class=\"swag-migration-shop-information__shop-domain\">\n                                                <span class=\"swag-migration-shop-information__shop-domain-prefix\"\n                                                      :class=\"shopUrlPrefixClass\">\n                                                    <mt-icon v-if=\"sslActive\"\n                                                             class=\"swag-migration-shop-information__shop-domain-prefix-icon\"\n                                                             name=\"regular-lock\"\n                                                             size=\"12px\" />\n                                                    <mt-icon v-else\n                                                             class=\"swag-migration-shop-information__shop-domain-prefix-icon\"\n                                                             name=\"regular-lock-open-s\"\n                                                             size=\"12px\" />\n                                                    {{ shopUrlPrefix }}</span>{{ shopUrl }}\n                                            </div>\n                                        {% endblock %}\n\n                                        {% block swag_migration_shop_information_actions %}\n                                            <div class=\"swag-migration-shop-information__actions\">\n\n                                                {% block swag_migration_shop_information_actions_editSettings %}\n                                                    <template v-if=\"!connection\">\n                                                        <mt-button size=\"small\"\n                                                                   variant=\"secondary\"\n                                                                   @click=\"onClickCreateInitialConnection\">\n                                                            {{ $tc('swag-migration.index.shopInfoCard.buttonCreateInitialConnection') }}\n                                                        </mt-button>\n                                                    </template>\n                                                    <template v-else>\n                                                        <mt-button size=\"small\"\n                                                                   variant=\"secondary\"\n                                                                   @click=\"onClickEditConnectionCredentials\">\n                                                            {{ $tc('swag-migration.index.shopInfoCard.buttonEditSettings') }}\n                                                        </mt-button>\n                                                    </template>\n                                                {% endblock %}\n\n                                                {% block swag_migration_shop_information_actions_contextMenu %}\n                                                    <sw-context-button v-if=\"connection\">\n                                                        <template #button>\n                                                            <mt-button size=\"small\"\n                                                                       variant=\"secondary\"\n                                                                       square\n                                                            >\n                                                                <mt-icon name=\"solid-ellipsis-h-s\" />\n                                                            </mt-button>\n                                                        </template>\n\n                                                        {% block swag_migration_shop_information_actions_createConnectionItem %}\n                                                            <sw-context-menu-item @click=\"onClickCreateConnection\">\n                                                                {{ $tc('swag-migration.index.shopInfoCard.buttonCreateConnection') }}\n                                                            </sw-context-menu-item>\n                                                        {% endblock %}\n\n                                                        {% block swag_migration_shop_information_actions_selectConnectionItem %}\n                                                            <sw-context-menu-item @click=\"onClickSelectConnection\">\n                                                                {{ $tc('swag-migration.index.shopInfoCard.buttonSelectConnection') }}\n                                                            </sw-context-menu-item>\n                                                        {% endblock %}\n\n                                                        {% block swag_migration_shop_information_actions_profileInstallationItem %}\n                                                            <sw-context-menu-item @click=\"onClickProfileInstallation\">\n                                                                {{ $tc('swag-migration.index.shopInfoCard.buttonProfileInstallation') }}\n                                                            </sw-context-menu-item>\n                                                        {% endblock %}\n\n                                                        {% block swag_migration_shop_information_actions_removeCredentialsItem %}\n                                                            <sw-context-menu-item variant=\"danger\"\n                                                                                  @click=\"showRemoveCredentialsConfirmModal = true\">\n                                                                {{ $tc('swag-migration.index.shopInfoCard.buttonRemoveCredentials') }}\n                                                            </sw-context-menu-item>\n                                                        {% endblock %}\n\n                                                        {% block swag_migration_shop_information_actions_resetChecksumsItem %}\n                                                            <sw-context-menu-item variant=\"danger\"\n                                                                                  @click=\"showResetChecksumsConfirmModal = true\">\n                                                                {{ $tc('swag-migration.index.shopInfoCard.buttonResetChecksums') }}\n                                                            </sw-context-menu-item>\n                                                        {% endblock %}\n\n                                                        {% block swag_migration_shop_information_actions_divider %}\n                                                            <sw-context-menu-divider />\n                                                        {% endblock %}\n\n                                                        {% block swag_migration_shop_information_actions_resetMigrationItem %}\n                                                            <sw-context-menu-item @click=\"openResetMigrationModal\">\n                                                                {{ $tc('swag-migration.index.shopInfoCard.buttonResetMigration') }}\n                                                            </sw-context-menu-item>\n                                                        {% endblock %}\n                                                    </sw-context-button>\n                                                {% endblock %}\n                                            </div>\n                                        {% endblock %}\n                                    </div>\n                                {% endblock %}\n\n                                {% block swag_migration_shop_information_connection %}\n                                    <div class=\"swag-migration-shop-information__connection\">\n                                        <div class=\"swag-migration-shop-information__connection-badge\">\n                                            <sw-label class=\"swag-migration-shop-information__connection-status\"\n                                                      :variant=\"connectionBadgeVariant\"\n                                                      appearance=\"pill\">\n                                                <sw-color-badge class=\"swag-migration-shop-information__connection-status-dot\"\n                                                                :variant=\"connectionBadgeVariant\"\n                                                                rounded />\n                                                <span class=\"swag-migration-shop-information__connection-status-text\">\n                                                    {{ $tc(connectionBadgeLabel) }}\n                                                </span>\n                                            </sw-label>\n                                        </div>\n                                    </div>\n                                {% endblock %}\n                            </div>\n                        {% endblock %}\n                    </sw-card-section>\n\n                    <sw-card-section v-if=\"showMoreInformation\"\n                                     secondary\n                                     slim>\n                        <sw-container class=\"swag-migration-shop-information__metadata\"\n                                      columns=\"repeat(auto-fit, minmax(250px, 1fr)\"\n                                      gap=\"0px 15px\">\n\n                            {% block swag_migration_shop_information_metadata_columns %}\n                                <div class=\"swag-migration-shop-information__metadata-columns\">\n\n                                    {% block swag_migration_shop_information_metadata_column_left %}\n                                        {% block swag_migration_shop_information_metadata_profile %}\n                                            <sw-description-list>\n                                                <dt>{{ $tc('swag-migration.index.shopInfoCard.profile') }}</dt>\n                                                <dd>{{ profile }}</dd>\n                                            </sw-description-list>\n                                        {% endblock %}\n\n                                        {% block swag_migration_shop_information_metadata_gateway %}\n                                            <sw-description-list>\n                                                    <dt>{{ $tc('swag-migration.index.shopInfoCard.gateway') }}</dt>\n                                                    <dd>{{ $tc(gateway) }}</dd>\n                                            </sw-description-list>\n                                        {% endblock %}\n                                    {% endblock %}\n                                </div>\n                                <div class=\"swag-migration-shop-information__metadata-columns\">\n\n                                    {% block swag_migration_shop_information_column_right %}\n                                        {% block swag_migration_shop_information_metadata_lastConnectionCheck %}\n                                            <sw-description-list>\n                                                <dt>\n                                                    {{ $tc('swag-migration.index.shopInfoCard.connectionCheck') }}\n                                                </dt>\n                                                <dd v-if=\"lastConnectionCheck\">\n                                                    {{ formattedLastConnectionCheckDate }}\n                                                </dd>\n                                                <dd v-else>\n                                                    -\n                                                </dd>\n                                            </sw-description-list>\n                                        {% endblock %}\n\n                                        {% block swag_migration_shop_information_metadata_lastMigration %}\n                                            <sw-description-list>\n                                                    <dt>{{ $tc('swag-migration.index.shopInfoCard.lastMigration') }}</dt>\n                                                    <dd v-if=\"lastMigrationDate !== '-'\">\n                                                        {{ formattedLastMigrationDateTime }}\n                                                    </dd>\n                                                    <dd v-else>\n                                                        {{ $tc('swag-migration.index.shopInfoCard.noMigrationDoneYet') }}\n                                                    </dd>\n                                            </sw-description-list>\n                                        {% endblock %}\n                                    {% endblock %}\n                                </div>\n                            {% endblock %}\n                        </sw-container>\n                    </sw-card-section>\n                </sw-container>\n\n                {% block swag_migration_shop_information_remove_credentials_confirm_modal %}\n                    <sw-modal v-if=\"showRemoveCredentialsConfirmModal\"\n                              class=\"swag-migration-shop-information__confirm-modal\"\n                              :title=\"$tc('swag-migration.index.shopInfoCard.removeCredentialsConfirmDialog.title')\"\n                              :is-loading=\"confirmModalIsLoading\"\n                              size=\"460px\"\n                              @modal-close=\"showRemoveCredentialsConfirmModal = false\">\n\n                        {% block swag_migration_shop_information_remove_credentials_confirm_modal_content %}\n                            <p class=\"swag-migration-shop-information__confirm-modal-content\">\n                                {{ $tc('swag-migration.index.shopInfoCard.removeCredentialsConfirmDialog.content') }}\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_shop_information_remove_credentials_confirm_modal_content_hint %}\n                            <p class=\"swag-migration-shop-information__confirm-modal-content-hint\">\n                                {{ $tc('swag-migration.index.shopInfoCard.removeCredentialsConfirmDialog.contentHint') }}\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_shop_information_remove_credentials_confirm_modal_footer %}\n                            <template #modal-footer>\n\n                                {% block swag_migration_shop_information_remove_credentials_confirm_modal_abort %}\n                                    <mt-button size=\"small\"\n                                               variant=\"secondary\"\n                                               :disabled=\"confirmModalIsLoading\"\n                                               @click=\"showRemoveCredentialsConfirmModal = false\">\n                                        {{ $tc('swag-migration.index.shopInfoCard.removeCredentialsConfirmDialog.abortButtonText') }}\n                                    </mt-button>\n                                {% endblock %}\n\n                                {% block swag_migration_shop_information_remove_credentials_confirm_modal_confirm %}\n                                    <mt-button size=\"small\"\n                                               variant=\"primary\"\n                                               :disabled=\"confirmModalIsLoading\"\n                                               @click=\"onClickRemoveConnectionCredentials\">\n                                        {{ $tc('swag-migration.index.shopInfoCard.removeCredentialsConfirmDialog.confirmButtonText') }}\n                                    </mt-button>\n                                {% endblock %}\n                            </template>\n                        {% endblock %}\n                    </sw-modal>\n                {% endblock %}\n\n                {% block swag_migration_shop_information_reset_checksums_confirm_modal %}\n                    <sw-modal v-if=\"showResetChecksumsConfirmModal\"\n                              class=\"swag-migration-shop-information__confirm-modal\"\n                              :title=\"$tc('swag-migration.index.shopInfoCard.resetChecksumsConfirmDialog.title')\"\n                              :is-loading=\"confirmModalIsLoading\"\n                              size=\"460px\"\n                              @modal-close=\"showResetChecksumsConfirmModal = false\">\n\n                        {% block swag_migration_shop_information_reset_checksums_confirm_modal_content %}\n                            <p class=\"swag-migration-shop-information__confirm-modal-content\"\n                               v-html=\"$tc('swag-migration.index.shopInfoCard.resetChecksumsConfirmDialog.content')\">\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_shop_information_reset_checksums_confirm_modal_content_hint %}\n                            <p class=\"swag-migration-shop-information__confirm-modal-content-hint\">\n                                {{ $tc('swag-migration.index.shopInfoCard.resetChecksumsConfirmDialog.contentHint') }}\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_shop_information_reset_checksums_confirm_modal_footer %}\n                            <template #modal-footer>\n\n                                {% block swag_migration_shop_information_reset_checksums_confirm_modal_abort %}\n                                    <mt-button size=\"small\"\n                                               variant=\"secondary\"\n                                               :disabled=\"confirmModalIsLoading\"\n                                               @click=\"showResetChecksumsConfirmModal = false\">\n                                        {{ $tc('swag-migration.index.shopInfoCard.resetChecksumsConfirmDialog.abortButtonText') }}\n                                    </mt-button>\n                                {% endblock %}\n\n                                {% block swag_migration_shop_information_reset_checksums_confirm_modal_confirm %}\n                                    <mt-button size=\"small\"\n                                               variant=\"primary\"\n                                               :disabled=\"confirmModalIsLoading\"\n                                               @click=\"onClickResetChecksums\">\n                                        {{ $tc('swag-migration.index.shopInfoCard.resetChecksumsConfirmDialog.confirmButtonText') }}\n                                    </mt-button>\n                                {% endblock %}\n                            </template>\n                        {% endblock %}\n                    </sw-modal>\n                {% endblock %}\n\n                {% block swag_migration_shop_information_reset_migration_confirm_modal %}\n                    <sw-modal v-if=\"showResetMigrationConfirmModal\"\n                              class=\"swag-migration-shop-information__reset-confirm-modal\"\n                              :title=\"$tc('swag-migration.index.shopInfoCard.resetMigrationConfirmDialog.title')\"\n                              :is-loading=\"confirmModalIsLoading\"\n                              @modal-close=\"onCloseResetModal\">\n\n                        {% block swag_migration_shop_information_reset_migration_confirm_modal_icon %}\n                            <div class=\"swag-migration-shop-information__reset-confirm-modal-icon-wrapper\">\n                                <mt-icon class=\"swag-migration-shop-information__confirm-modal-icon\"\n                                         name=\"regular-trophy\"\n                                         color=\"#37D046\"\n                                         size=\"40\" />\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_shop_information_reset_migration_confirm_modal_header %}\n                            <p class=\"swag-migration-shop-information__reset-confirm-modal-header\"\n                               v-html=\"$tc('swag-migration.index.shopInfoCard.resetMigrationConfirmDialog.header')\">\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_shop_information_reset_migration_confirm_modal_content %}\n                            <p class=\"swag-migration-shop-information__reset-confirm-modal-content\"\n                               v-html=\"$tc('swag-migration.index.shopInfoCard.resetMigrationConfirmDialog.content')\">\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_shop_information_reset_migration_confirm_modal_content_hint %}\n                            <p class=\"swag-migration-shop-information__reset-confirm-modal-content-hint\">\n                                {{ $tc('swag-migration.index.shopInfoCard.resetMigrationConfirmDialog.contentHint') }}\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_shop_information_reset_migration_confirm_modal_footer %}\n                        <template #modal-footer>\n\n                            {% block swag_migration_shop_information_reset_migration_confirm_modal_abort %}\n                                <mt-button size=\"small\"\n                                           variant=\"secondary\"\n                                           :disabled=\"confirmModalIsLoading\"\n                                           @click=\"onCloseResetModal\">\n                                    {{ $tc('swag-migration.index.shopInfoCard.resetMigrationConfirmDialog.abortButtonText') }}\n                                </mt-button>\n                            {% endblock %}\n\n                            {% block swag_migration_shop_information_reset_migration_confirm_modal_confirm %}\n                                <mt-button size=\"small\"\n                                           variant=\"primary\"\n                                           :disabled=\"confirmModalIsLoading\"\n                                           @click=\"onClickResetMigration\">\n                                    {{ $tc('swag-migration.index.shopInfoCard.resetMigrationConfirmDialog.confirmButtonText') }}\n                                </mt-button>\n                            {% endblock %}\n                        </template>\n                        {% endblock %}\n                    </sw-modal>\n                {% endblock %}\n            </template>\n        {% endblock %}\n    </mt-card>\n{% endblock %}\n","import template from './swag-migration-shop-information.html.twig';\nimport './swag-migration-shop-information.scss';\n\nconst { Component, Mixin, Store } = Shopware;\nconst { mapState } = Shopware.Component.getComponentHelper();\nconst { format } = Shopware.Utils;\nconst { Criteria } = Shopware.Data;\n\nconst BADGE_TYPE = Object.freeze({\n    SUCCESS: 'success',\n    DANGER: 'danger',\n});\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-shop-information', {\n    template,\n    inject: {\n        /** @var {MigrationApiService} migrationApiService */\n        migrationApiService: 'migrationApiService',\n        repositoryFactory: 'repositoryFactory',\n    },\n\n    mixins: [\n        Mixin.getByName('notification'),\n    ],\n\n    filters: {\n        localizedNumberFormat(value) {\n            const locale = `${this.adminLocaleLanguage}-${this.adminLocaleRegion}`;\n            const formatter = new Intl.NumberFormat(locale);\n            return formatter.format(value);\n        },\n    },\n\n    props: {\n        connected: {\n            type: Boolean,\n            default: false,\n        },\n    },\n\n    data() {\n        return {\n            confirmModalIsLoading: false,\n            showRemoveCredentialsConfirmModal: false,\n            showResetChecksumsConfirmModal: false,\n            showResetMigrationConfirmModal: false,\n            lastMigrationDate: '-',\n            connection: null,\n            context: Shopware.Context.api,\n        };\n    },\n\n    computed: {\n        ...mapState(() => Store.get('swagMigration'), [\n            'connectionId',\n            'environmentInformation',\n            'lastConnectionCheck',\n            'adminLocaleLanguage',\n            'adminLocaleRegion',\n        ]),\n\n        displayEnvironmentInformation() {\n            return this.environmentInformation === null ? {} :\n                this.environmentInformation;\n        },\n\n        migrationRunRepository() {\n            return this.repositoryFactory.create('swag_migration_run');\n        },\n\n        migrationConnectionRepository() {\n            return this.repositoryFactory.create('swag_migration_connection');\n        },\n\n        connectionName() {\n            return this.connection !== null ?\n                this.connection.name :\n                this.$tc('swag-migration.index.shopInfoCard.noConnection');\n        },\n\n        shopUrl() {\n            return this.displayEnvironmentInformation.sourceSystemDomain === undefined ? '' :\n                this.displayEnvironmentInformation.sourceSystemDomain.replace(/^\\s*https?:\\/\\//, '');\n        },\n\n        shopUrlPrefix() {\n            if (this.displayEnvironmentInformation.sourceSystemDomain === undefined) {\n                return '';\n            }\n\n            const match = this.displayEnvironmentInformation.sourceSystemDomain.match(/^\\s*https?:\\/\\//);\n            if (match === null) {\n                return '';\n            }\n\n            return match[0];\n        },\n\n        sslActive() {\n            return (this.shopUrlPrefix === 'https://');\n        },\n\n        shopUrlPrefixClass() {\n            return this.sslActive ? 'swag-migration-shop-information__shop-domain-prefix--is-ssl' : '';\n        },\n\n        connectionBadgeLabel() {\n            if (this.serverUnreachable) {\n                return 'swag-migration.index.shopInfoCard.serverUnreachable';\n            }\n\n            if (this.connected) {\n                return 'swag-migration.index.shopInfoCard.connected';\n            }\n\n            return 'swag-migration.index.shopInfoCard.notConnected';\n        },\n\n        connectionBadgeVariant() {\n            if (this.connected) {\n                return BADGE_TYPE.SUCCESS;\n            }\n\n            return BADGE_TYPE.DANGER;\n        },\n\n        shopFirstLetter() {\n            return this.displayEnvironmentInformation.sourceSystemName === undefined ? 'S' :\n                this.displayEnvironmentInformation.sourceSystemName[0];\n        },\n\n        profile() {\n            return this.connection === null || this.connection.profile === undefined ? '' :\n                // eslint-disable-next-line max-len\n                `${this.connection.profile.sourceSystemName} ${this.connection.profile.version} - ${this.connection.profile.author}`;\n        },\n\n        profileIcon() {\n            return this.connection === null ||\n                this.connection.profile === undefined ||\n                this.connection.profile.icon === undefined ? null : this.connection.profile.icon;\n        },\n\n        gateway() {\n            return this.connection === null || this.connection.gateway === undefined ? '' :\n                this.connection.gateway.snippet;\n        },\n\n        formattedLastConnectionCheckDate() {\n            return format.date(this.lastConnectionCheck);\n        },\n\n        formattedLastMigrationDateTime() {\n            return format.date(this.lastMigrationDate);\n        },\n\n        assetFilter() {\n            return Shopware.Filter.getByName('asset');\n        },\n\n        showMoreInformation() {\n            return this.connection !== null && this.connection !== undefined;\n        },\n    },\n\n    watch: {\n        $route: {\n            immediate: true,\n            handler() {\n                this.showResetMigrationConfirmModal = this.$route.meta.resetMigration;\n            },\n        },\n\n        connectionId: {\n            immediate: true,\n            /**\n             * @param {string} newConnectionId\n             */\n            handler(newConnectionId) {\n                this.fetchConnection(newConnectionId);\n            },\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.updateLastMigrationDate();\n        },\n\n        openResetMigrationModal() {\n            this.showResetMigrationConfirmModal = true;\n            this.$router.push({\n                name: 'swag.migration.index.resetMigration',\n            });\n        },\n\n        onCloseResetModal() {\n            this.showResetMigrationConfirmModal = false;\n            this.$router.push({\n                name: 'swag.migration.index.main',\n            });\n        },\n\n        updateLastMigrationDate() {\n            const criteria = new Criteria(1, 1);\n            criteria.addSorting(Criteria.sort('createdAt', 'DESC'));\n\n            return this.migrationRunRepository.search(criteria, this.context).then((runs) => {\n                if (runs.length > 0) {\n                    this.lastMigrationDate = runs.first().createdAt;\n                } else {\n                    this.lastMigrationDate = '-';\n                }\n            });\n        },\n\n        /**\n         * @param {string} connectionId\n         */\n        fetchConnection(connectionId) {\n            if (!connectionId) {\n                return Promise.resolve();\n            }\n\n            return this.migrationConnectionRepository.get(connectionId, this.context)\n                .then((connection) => {\n                    if (!connection) {\n                        return Promise.resolve(null);\n                    }\n                    delete connection.credentialFields;\n                    this.connection = connection;\n\n                    return this.migrationApiService.getProfileInformation(\n                        connection.profileName,\n                        connection.gatewayName,\n                    );\n                }).then((profileInformation) => {\n                    if (!profileInformation) {\n                        return;\n                    }\n\n                    this.connection.profile = profileInformation.profile;\n                    this.connection.gateway = profileInformation.gateway;\n                });\n        },\n\n        onClickEditConnectionCredentials() {\n            this.$router.push({\n                name: 'swag.migration.wizard.credentials',\n                params: {\n                    connectionId: this.connectionId,\n                },\n            });\n        },\n\n        onClickCreateConnection() {\n            this.$router.push({\n                name: 'swag.migration.wizard.connectionCreate',\n            });\n        },\n\n        onClickCreateInitialConnection() {\n            this.$router.push({\n                name: 'swag.migration.wizard.introduction',\n            });\n        },\n\n        onClickSelectConnection() {\n            this.$router.push({\n                name: 'swag.migration.wizard.connectionSelect',\n            });\n        },\n\n        onClickProfileInstallation() {\n            this.$router.push({\n                name: 'swag.migration.wizard.profileInstallation',\n            });\n        },\n\n        onClickRemoveConnectionCredentials() {\n            this.confirmModalIsLoading = true;\n            return this.migrationApiService.updateConnectionCredentials(\n                this.connectionId,\n                { },\n            ).then(() => {\n                this.$router.go(); // Refresh the page\n            });\n        },\n\n        onClickResetChecksums() {\n            this.confirmModalIsLoading = true;\n            return this.migrationApiService.resetChecksums(this.connectionId).then(() => {\n                this.showResetChecksumsConfirmModal = false;\n                this.confirmModalIsLoading = false;\n            });\n        },\n\n        onClickResetMigration() {\n            this.confirmModalIsLoading = true;\n            return this.migrationApiService.cleanupMigrationData().then(() => {\n                this.showResetMigrationConfirmModal = false;\n                this.confirmModalIsLoading = false;\n\n                this.$nextTick(() => {\n                    this.$router.go(); // reload page\n                });\n            }).catch(() => {\n                this.showResetMigrationConfirmModal = false;\n                this.confirmModalIsLoading = false;\n\n                this.createNotificationError({\n                    title: this.$t(\n                        'swag-migration.index.shopInfoCard.resetMigrationConfirmDialog.errorNotification.title',\n                    ),\n                    message: this.$t(\n                        'swag-migration.index.shopInfoCard.resetMigrationConfirmDialog.errorNotification.message',\n                    ),\n                    variant: 'error',\n                    growl: true,\n                });\n            });\n        },\n\n        onClickRefreshConnection() {\n            return Store.get('swagMigration').init(true);\n        },\n    },\n});\n","{% block swag_migration_premapping %}\n    <div class=\"swag-migration-premapping\">\n\n        {% block swag_migration_premapping_unfilled_card %}\n            <mt-card\n                v-if=\"!isPremappingValid\"\n                class=\"swag-migration-premapping__unfilled-card\"\n                position-identifier=\"swag-migration-premapping\"\n            >\n\n                {% block swag_migration_premapping_unfilled_title %}\n                    <div class=\"swag-migration-premapping__unfilled-title\">\n                        {{ $tc('swag-migration.index.premappingCard.unfilledTitle') }}\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_premapping_unfilled_caption %}\n                    <div class=\"swag-migration-premapping__unfilled-caption\">\n                        {{ $tc('swag-migration.index.premappingCard.unfilledCaption') }}\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_premapping_unfilled_alert %}\n                    <mt-banner v-if=\"!isPremappingValid\"\n                              class=\"swag-migration-premapping__alert\"\n                              variant=\"critical\">\n                        {{ $tc('swag-migration.index.premappingCard.unfilledAlert') }}\n                    </mt-banner>\n                {% endblock %}\n            </mt-card>\n        {% endblock %}\n\n        {% block swag_migration_premapping_success_card %}\n            <mt-card v-if=\"!isLoading && isPremappingValid\"\n                     class=\"swag-migration-premapping__success-card\"\n                     position-identifier=\"swag-migration-premapping__success-card\">\n\n                {% block swag_migration_premapping_success_bubble %}\n                    <div class=\"swag-migration-premapping__success-bubble\">\n                        <mt-icon class=\"swag-migration-premapping__success-icon\"\n                                 name=\"regular-checkmark\"\n                                 size=\"36px\"\n                                 decorative />\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_premapping_success_title %}\n                    <div class=\"swag-migration-premapping__success-title\">\n                        {{ $tc('swag-migration.index.premappingCard.validTitle') }}\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_premapping_success_caption %}\n                    <div class=\"swag-migration-premapping__success-caption\">\n                        {{ $tc('swag-migration.index.premappingCard.validCaption') }}\n                    </div>\n                {% endblock %}\n            </mt-card>\n        {% endblock %}\n\n        {% block swag_migration_premapping_unfilled_mapping %}\n            <swag-migration-tab-card\n                v-if=\"!isLoading && premapping.length > 0\"\n                class=\"swag-migration-premapping__tab-card\"\n                :title=\"$tc('swag-migration.index.premappingCard.cardTitle')\"\n                :items=\"premapping\"\n            >\n                <template #items=\"{ item }\">\n                    <swag-migration-grid-selection\n                        :choices=\"item.choices\"\n                        :mapping=\"item.mapping\"\n                        @update:value=\"onPremappingChanged\"\n                    />\n                </template>\n            </swag-migration-tab-card>\n        {% endblock %}\n\n        <mt-card v-if=\"isLoading\"\n                 class=\"swag-migration-premapping__loading-card\"\n                 position-identifier=\"swag-migration-premapping__loading-card\">\n            <div>\n\n                {% block swag_migration_premapping_loader %}\n                    <mt-loader class=\"swag-migration-premapping__loader\" />\n                {% endblock %}\n\n                {% block swag_migration_premapping_loading_title %}\n                    <div class=\"swag-migration-premapping__loading-title\">\n                        {{ $tc('swag-migration.index.premappingCard.loadingTitle') }}\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_premapping_loading_caption %}\n                    <div class=\"swag-migration-premapping__loading-caption\">\n                        {{ $tc('swag-migration.index.premappingCard.loadingCaption') }}\n                    </div>\n                {% endblock %}\n            </div>\n        </mt-card>\n    </div>\n{% endblock %}\n","import template from './swag-migration-premapping.html.twig';\nimport './swag-migration-premapping.scss';\n\nconst { Component, Store } = Shopware;\nconst { mapState } = Shopware.Component.getComponentHelper();\nconst { debounce } = Shopware.Utils;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-premapping', {\n    template,\n\n    inject: {\n        /** @var {MigrationApiService} migrationApiService */\n        migrationApiService: 'migrationApiService',\n    },\n\n    data() {\n        return {\n            isLoading: false,\n            premappingInput: [],\n        };\n    },\n\n    computed: {\n        ...mapState(() => Store.get('swagMigration'), [\n            'premapping',\n            'dataSelectionIds',\n            'isPremappingValid',\n        ]),\n    },\n\n    watch: {\n        dataSelectionIds() {\n            this.fetchPremapping();\n        },\n    },\n\n    methods: {\n        fetchPremapping() {\n            Store.get('swagMigration').setIsLoading(true);\n            this.isLoading = true;\n\n            return this.migrationApiService.generatePremapping(this.dataSelectionIds)\n                .then((premapping) => {\n                    Store.get('swagMigration').setPremapping(premapping);\n                    return this.savePremapping();\n                }).finally(() => {\n                    Store.get('swagMigration').setIsLoading(false);\n                    this.isLoading = false;\n                });\n        },\n\n        async savePremapping() {\n            if (!this.premapping || this.premapping.length === 0) {\n                return;\n            }\n\n            const filledOut = this.premapping.every(\n                (group) => group.mapping.every(\n                    (mapping) => mapping.destinationUuid !== null &&\n                        mapping.destinationUuid !== undefined &&\n                        mapping.destinationUuid !== '',\n                ),\n            );\n\n            if (!filledOut) {\n                return;\n            }\n\n            await this.migrationApiService.writePremapping(this.premapping);\n        },\n\n        onPremappingChanged() {\n            Store.get('swagMigration').setIsLoading(true);\n            debounce(async () => {\n                await this.savePremapping();\n                Store.get('swagMigration').setIsLoading(false);\n            }, 500)();\n        },\n    },\n});\n","{% block swag_migration_progress_bar %}\n    <div class=\"swag-migration-progress-bar\">\n\n        {% block swag_migration_progress_bar_heading %}\n            <div class=\"swag-migration-progress-bar__heading\">\n                {{ title }}\n            </div>\n        {% endblock %}\n\n        {% block swag_migration_progress_bar %}\n            <div class=\"swag-migration-progress-bar__progress-bar-container\">\n\n                {% block swag_migration_progress_bar_left_point %}\n                    <div class=\"swag-migration-progress-bar__point swag-migration-progress-bar__left-point\">\n\n                        {% block swag_migration_progress_bar_left_bubble %}\n                            <div class=\"swag-migration-progress-bar__bubble swag-migration-progress-bar__bubble--active\">\n                                <mt-icon class=\"swag-migration-progress-bar__icon\"\n                                         name=\"regular-circle-xs\"\n                                         size=\"16px\"\n                                />\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_progress_bar_left_description %}\n                            <div class=\"swag-migration-progress-bar__left-description\">\n                                {{ leftPointDescription }}\n                            </div>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_progress_bar_center_bar %}\n                    <div class=\"swag-migration-progress-bar__center-bar\">\n\n                        {% block swag_migration_progress_bar_progress_bar %}\n                            <mt-progress-bar class=\"swag-migration-progress-bar__progress-bar\"\n                                             :model-value=\"value\"\n                                             :max-value=\"maxValue\" />\n                        {% endblock %}\n\n                        {% block swag_migration_progress_bar_caption %}\n                            <div class=\"swag-migration-progress-bar__caption\">\n                                {{ value }} / {{ maxValue }}\n                            </div>\n                        {% endblock%}\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_progress_bar_right_point %}\n                    <div class=\"swag-migration-progress-bar__point swag-migration-progress-bar__right-point\">\n\n                        {% block swag_migration_progress_bar_right_bubble %}\n                            <div :class=\"rightPointClasses\">\n                                <mt-icon class=\"swag-migration-progress-bar__icon\"\n                                         name=\"regular-checkmark-xs\"\n                                         size=\"16px\"\n                                />\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_progress_bar_right_description %}\n                            <div class=\"swag-migration-progress-bar__right-description\">\n                                {{ rightPointDescription }}\n                            </div>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}\n","import template from './swag-migration-progress-bar.html.twig';\nimport './swag-migration-progress-bar.scss';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-progress-bar', {\n    template,\n\n    props: {\n        title: {\n            type: String,\n            default: '',\n            required: false,\n        },\n        leftPointDescription: {\n            type: String,\n            default: '',\n            required: false,\n        },\n        rightPointDescription: {\n            type: String,\n            default: '',\n            required: false,\n        },\n        value: {\n            type: Number,\n            default: 0,\n            required: false,\n        },\n        maxValue: {\n            type: Number,\n            default: 100,\n            required: false,\n        },\n    },\n\n    computed: {\n        rightPointClasses() {\n            return {\n                'swag-migration-progress-bar__bubble': true,\n                'swag-migration-progress-bar__bubble--disabled': this.value < this.maxValue,\n                'swag-migration-progress-bar__bubble--active': this.value >= this.maxValue,\n            };\n        },\n    },\n});\n","{% block swag_migration_assistant %}\n    <mt-card class=\"swag-migration-assistant\"\n             position-identifier=\"swag-migration-assistant\"\n             :title=\"$tc('swag-migration.index.assistantCard.title')\">\n\n        {% block swag_migration_assistant_headline %}\n            <h4 class=\"swag-migration-assistant__headline\">\n                {{ $tc('swag-migration.index.assistantCard.headline') }}\n            </h4>\n        {% endblock %}\n\n        {% block swag_migration_assistant_connection %}\n            <div class=\"swag-migration-assistant__paragraph\">\n\n                {% block swag_migration_assistant_connection_illustration %}\n                    <img class=\"swag-migration-assistant__illustration\"\n                         :src=\"assetFilter('/swagmigrationassistant/administration/static/img/assistant-connection.svg')\"\n                         alt=\"\">\n                {% endblock %}\n\n                {% block swag_migration_assistant_connection_title %}\n                    <h5 class=\"swag-migration-assistant__title\">\n                        {{ $tc('swag-migration.index.assistantCard.connection.title') }}\n                    </h5>\n                {% endblock %}\n\n                {% block swag_migration_assistant_connection_content %}\n                    <p class=\"swag-migration-assistant__content\">\n                        {{ $tc('swag-migration.index.assistantCard.connection.content') }}\n                    </p>\n                {% endblock %}\n\n                {% block swag_migration_assistant_connection_content_link %}\n                    <div class=\"swag-migration-assistant__link\">\n                        <a class=\"link\"\n                           target=\"_blank\"\n                           href=\"http://docs.shopware.com/en/migration-en\">\n                            {{ $tc('swag-migration.index.assistantCard.connection.link') }}\n                        </a>\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n\n        {% block swag_migration_assistant_dataSelection %}\n            <div class=\"swag-migration-assistant__paragraph\">\n\n                {% block swag_migration_assistant_dataSelection_illustration %}\n                    <img class=\"swag-migration-assistant__illustration\"\n                         :src=\"assetFilter('/swagmigrationassistant/administration/static/img/assistant-dataSelection.svg')\"\n                         alt=\"\">\n                {% endblock %}\n\n                {% block swag_migration_assistant_dataSelection_title %}\n                    <h5 class=\"swag-migration-assistant__title\">\n                        {{ $tc('swag-migration.index.assistantCard.dataSelection.title') }}\n                    </h5>\n                {% endblock %}\n\n                {% block swag_migration_assistant_dataSelection_content %}\n                    <p class=\"swag-migration-assistant__content\">\n                        {{ $tc('swag-migration.index.assistantCard.dataSelection.content') }}\n                    </p>\n                {% endblock %}\n            </div>\n        {% endblock %}\n\n        {% block swag_migration_assistant_migrationOverview %}\n            <div class=\"swag-migration-assistant__paragraph\">\n\n                {% block swag_migration_assistant_migrationOverview_illustration %}\n                    <img class=\"swag-migration-assistant__illustration\"\n                         :src=\"assetFilter('/swagmigrationassistant/administration/static/img/assistant-migrationOverview.svg')\"\n                         alt=\"\">\n                {% endblock %}\n\n                {% block swag_migration_assistant_migrationOverview_title %}\n                    <h5 class=\"swag-migration-assistant__title\">\n                        {{ $tc('swag-migration.index.assistantCard.migrationOverview.title') }}\n                    </h5>\n                {% endblock %}\n\n                {% block swag_migration_assistant_migrationOverview_content %}\n                <p class=\"swag-migration-assistant__content\">\n                    {{ $tc('swag-migration.index.assistantCard.migrationOverview.content') }}\n                </p>\n                {% endblock %}\n            </div>\n        {% endblock %}\n\n        {% block swag_migration_assistant_finish %}\n            <div class=\"swag-migration-assistant__paragraph\">\n\n                {% block swag_migration_assistant_finish_title %}\n                    <h5 class=\"swag-migration-assistant__title\">\n                        {{ $tc('swag-migration.index.assistantCard.finish') }}\n                    </h5>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </mt-card>\n{% endblock %}\n","import template from './swag-migration-assistant.html.twig';\nimport './swag-migration-assistant.scss';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-assistant', {\n    computed: {\n        assetFilter() {\n            return Shopware.Filter.getByName('asset');\n        },\n    },\n\n    template,\n});\n","{% block swag_migration_confirm_warning %}\n    <div class=\"swag-migration-confirm-warning\">\n\n        {% block swag_migration_confirm_warning_card %}\n            <mt-card\n                v-if=\"hasDifferentCurrency\"\n                class=\"swag-migration-confirm-warning__card\"\n                position-identifier=\"swag-migration-confirm-warning__card\"\n            >\n\n                {% block swag_migration_confirm_warning_bubble %}\n                    <div class=\"swag-migration-confirm-warning__bubble\">\n                        <mt-icon class=\"swag-migration-confirm-warning__bubble-icon\"\n                                 name=\"regular-exclamation-triangle\"\n                                 size=\"36px\"\n                                 decorative />\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_confirm_warning_title %}\n                    <h5 class=\"swag-migration-confirm-warning__title\">\n                        {{ $tc('swag-migration.index.confirmWarningCard.currencyMismatch.title') }}\n                    </h5>\n                {% endblock %}\n\n                {% block swag_migration_confirm_warning_text %}\n                    <p class=\"swag-migration-confirm-warning__text\">\n                        {{ $tc('swag-migration.index.confirmWarningCard.currencyMismatch.text', { sourceSystemCurrency, targetSystemCurrency }, 0) }}\n                    </p>\n                {% endblock %}\n\n                {% block swag_migration_confirm_warning_alert %}\n                    <mt-banner\n                        variant=\"critical\"\n                        class=\"swag-migration-confirm-warning__alert\"\n                    >\n                        {{ $tc('swag-migration.index.confirmWarningCard.currencyMismatch.info') }}\n                    </mt-banner>\n                {% endblock %}\n\n                {% block swag_migration_confirm_warning_question %}\n                    <p class=\"swag-migration-confirm-warning__question\">\n                        {{ $tc('swag-migration.index.confirmWarningCard.currencyMismatch.question', { targetSystemCurrency }, 0) }}\n                    </p>\n                {% endblock %}\n\n                {% block swag_migration_confirm_warning_checkbox %}\n                    <mt-checkbox v-model:checked=\"isCurrencyChecked\"\n                                 class=\"swag-migration-confirm-warning__checkbox\"\n                                 :label=\"$tc('swag-migration.index.confirmWarningCard.currencyMismatch.checkboxLabel')\"\n                                 @update:checked=\"onCheckboxValueChanged\" />\n                {% endblock %}\n            </mt-card>\n        {% endblock %}\n\n        {% block swag_migration_confirm_language_warning_card %}\n            <mt-card\n                v-if=\"hasDifferentLanguage\"\n                class=\"swag-migration-confirm-warning__card\"\n                position-identifier=\"swag-migration-confirm-warning__card\"\n            >\n\n                {% block swag_migration_confirm_language_warning_bubble %}\n                    <div class=\"swag-migration-confirm-warning__bubble\">\n                        <mt-icon class=\"swag-migration-confirm-warning__bubble-icon\"\n                                 name=\"regular-exclamation-triangle\"\n                                 size=\"36px\"\n                                 decorative />\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_confirm_language_warning_title %}\n                    <h5 class=\"swag-migration-confirm-warning__title\">\n                        {{ $tc('swag-migration.index.confirmWarningCard.languageMismatch.title') }}\n                    </h5>\n                {% endblock %}\n\n                {% block swag_migration_confirm_language_warning_text %}\n                    <p class=\"swag-migration-confirm-warning__text\">\n                        {{ $tc('swag-migration.index.confirmWarningCard.languageMismatch.text', { sourceSystemLanguage, targetSystemLanguage }, 0) }}\n                    </p>\n                {% endblock %}\n\n                {% block swag_migration_confirm_language_warning_alert %}\n                    <mt-banner\n                        variant=\"critical\"\n                        class=\"swag-migration-confirm-warning__alert\"\n                    >\n                        {{ $tc('swag-migration.index.confirmWarningCard.languageMismatch.info') }}\n                    </mt-banner>\n                {% endblock %}\n\n                {% block swag_migration_confirm_language_warning_question %}\n                    <p class=\"swag-migration-confirm-warning__question\">\n                        {{ $tc('swag-migration.index.confirmWarningCard.languageMismatch.question', { targetSystemLanguage }, 0) }}\n                    </p>\n                {% endblock %}\n\n                {% block swag_migration_confirm_language_warning_checkbox %}\n                    <mt-checkbox v-model:checked=\"isLanguageChecked\"\n                                 class=\"swag-migration-confirm-warning__checkbox\"\n                                 :label=\"$tc('swag-migration.index.confirmWarningCard.currencyMismatch.checkboxLabel')\"\n                                 @update:checked=\"onCheckboxValueChanged\" />\n                {% endblock %}\n            </mt-card>\n        {% endblock %}\n    </div>\n{% endblock %}\n","import template from './swag-migration-confirm-warning.html.twig';\nimport './swag-migration-confirm-warning.scss';\n\nconst { Component, Store } = Shopware;\nconst { mapState } = Shopware.Component.getComponentHelper();\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-confirm-warning', {\n    template,\n\n    data() {\n        return {\n            isCurrencyChecked: false,\n            isLanguageChecked: false,\n        };\n    },\n\n    computed: {\n        ...mapState(() => Store.get('swagMigration'), [\n            'environmentInformation',\n        ]),\n\n        hasDifferentCurrency() {\n            return this.sourceSystemCurrency !== this.targetSystemCurrency;\n        },\n\n        sourceSystemCurrency() {\n            return this.environmentInformation.sourceSystemCurrency;\n        },\n\n        targetSystemCurrency() {\n            return this.environmentInformation.targetSystemCurrency;\n        },\n\n        hasDifferentLanguage() {\n            return this.sourceSystemLanguage !== this.targetSystemLanguage;\n        },\n\n        sourceSystemLanguage() {\n            return this.environmentInformation.sourceSystemLocale;\n        },\n\n        targetSystemLanguage() {\n            return this.environmentInformation.targetSystemLocale;\n        },\n\n        isContinuable() {\n            return (!this.hasDifferentCurrency || this.isCurrencyChecked) &&\n                (!this.hasDifferentLanguage || this.isLanguageChecked);\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.onCheckboxValueChanged();\n        },\n\n        onCheckboxValueChanged() {\n            Store.get('swagMigration').setWarningConfirmed(this.isContinuable);\n        },\n    },\n});\n","{% block sw_grid_body_slot_items %}\n    <sw-grid-row :key=\"item.id\"\n                 ref=\"rowRefs\"\n                 :class=\"extendedGridRowClasses(item, index)\"\n                 :style=\"columnFlex\"\n                 :item=\"item\"\n                 :index=\"index\"\n                 @inline-edit-finish=\"onInlineEditFinish\"\n                 @inline-edit-start=\"onInlineEditStart\">\n\n        {% block sw_grid_body_item_selectable %}\n            <div v-if=\"selectable\"\n                 class=\"sw-grid-column\">\n                <div class=\"sw-grid__cell-content\">\n                    <mt-checkbox :checked=\"isSelected(item.id)\"\n                                 :disabled=\"isDisabled(item)\"\n                                 @update:checked=\"selectItem($event, item)\" />\n                </div>\n            </div>\n        {% endblock %}\n\n        <slot name=\"columns\"\n              :item=\"item\">\n            {% block sw_grid_slot_columns %}{% endblock %}\n        </slot>\n    </sw-grid-row>\n{% endblock %}\n","import template from './swag-migration-grid-extended.html.twig';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.extend('swag-migration-grid-extended', 'sw-grid', {\n    template,\n\n    props: {\n        disabledAttribute: {\n            type: String,\n            default: 'disabled',\n        },\n    },\n\n    methods: {\n        isDisabled(item) {\n            return item[this.disabledAttribute];\n        },\n\n        extendedGridRowClasses(item, index) {\n            const classes = {\n                'is--selected': this.isSelected(item.id) && !this.isDisabled(item),\n                'is--deleted': item.isDeleted,\n                'is--new': item.isLocal,\n                'is--disabled': this.isDisabled(item),\n            };\n\n            classes[`sw-grid__row--${index}`] = true;\n\n            return classes;\n        },\n    },\n});\n","{% block swag_migration_tab_card %}\n    <div class=\"swag-migration-tab-card\">\n        <mt-card\n            ref=\"card\"\n            class=\"sw-card--grid\"\n            :title=\"title\"\n            position-identifier=\"swag-migration-tab-card\"\n        >\n            <template #tabs>\n\n                {% block swag_migration_tab_card_item_tab %}\n                    <sw-tabs\n                        ref=\"swTabs\"\n                        :small=\"false\"\n                        position-identifier=\"swag-migration-tab-card-item-tab\"\n                        @new-item-active=\"onNewActiveItem\"\n                    >\n                        <sw-tabs-item\n                            v-for=\"(item, index) in items\"\n                            :key=\"getKey(item)\"\n                            ref=\"swTabsItems\"\n                            :name=\"index.toString()\"\n                            :has-error=\"getErrorCountForGroupTab(item) > 0\"\n                        >\n\n                            {% block swag_migration_tab_card_item_tab_content %}\n                                <span class=\"swag-migration-tab-card__title\">\n                                    {{ $tc(`swag-migration.index.premappingCard.group.${item.entity}`) }}\n                                </span>\n                            {% endblock %}\n\n                            {% block swag_migration_tab_card_item_tab_invalid_badge %}\n                                <span v-show=\"getErrorCountForGroupTab(item) > 0\"\n                                      class=\"swag-migration-tab-card__invalid-badge\">\n                                    {{ getErrorCountForGroupTab(item) }}\n                                </span>\n                            {% endblock %}\n                        </sw-tabs-item>\n                    </sw-tabs>\n                {% endblock %}\n            </template>\n\n            <template\n                v-for=\"(item, index) in items\"\n                :key=\"getKey(item)\"\n            >\n                <swag-migration-tab-card-item ref=\"contentContainer\">\n                    <slot\n                        name=\"items\"\n                        :item=\"item\"\n                    ></slot>\n                </swag-migration-tab-card-item>\n            </template>\n\n            <slot>\n                {% block swag_migration_tab_card_slot %}{% endblock %}\n            </slot>\n        </mt-card>\n    </div>\n{% endblock %}\n","import template from './swag-migration-tab-card.html.twig';\nimport './swag-migration-tab-card.scss';\n\nconst { Component } = Shopware;\n\n/**\n * @example\n * <swag-migration-tab-card>\n *  <swag-migration-tab-card-item title=\"Item 1\">\n *      My item content 1\n *  </swag-migration-tab-card-item>\n *  <swag-migration-tab-card-item title=\"Item 2\">\n *      My item content 2\n *  </swag-migration-tab-card-item>\n * </swag-migration-tab-card>\n *\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-tab-card', {\n    template,\n\n    props: {\n        title: {\n            type: String,\n            default: '',\n            required: false,\n        },\n        items: {\n            type: Array,\n            required: true,\n        },\n    },\n\n    data() {\n        return {\n            selectedNumber: '',\n        };\n    },\n\n    computed: {\n        tabItems() {\n            return this.$refs.swTabsItems;\n        },\n    },\n\n    mounted() {\n        this.mountedComponent();\n    },\n\n    methods: {\n        mountedComponent() {\n            this.$nextTick(() => {\n                // select first tab\n                if (this.tabItems !== undefined && this.tabItems.length > 0) {\n                    this.selectedNumber = this.tabItems[0].name;\n                    setTimeout(() => {\n                        if (this.$refs.swTabs) {\n                            this.$refs.swTabs.setActiveItem(this.tabItems[0]);\n                        }\n                    });\n                }\n            });\n        },\n\n        onNewActiveItem(item) {\n            this.$refs.contentContainer[this.selectedNumber].setActive(false);\n            this.selectedNumber = item.name;\n            this.$refs.contentContainer[this.selectedNumber].setActive(true);\n        },\n\n        getErrorCountForGroupTab(group) {\n            return group.mapping.reduce((currentValue, mapping) => {\n                if (!mapping.destinationUuid) {\n                    return currentValue + 1;\n                }\n\n                return currentValue;\n            }, 0);\n        },\n\n        getKey(item) {\n            if (!item.entity) {\n                // see https://vuejs.org/api/built-in-special-attributes.html#key\n                // we use child components with state\n                // means not having a proper unique identifier for each tab likely causes issues.\n                // For example the child components may not be properly destroyed and created and just\n                // \"patched\" in place with a completely different tab\n                console.error(\n                    'swag-migration-tab-card item without `entity` property',\n                    item,\n                    'more info here: https://vuejs.org/api/built-in-special-attributes.html#key',\n                );\n                return undefined;\n            }\n\n            return item.entity;\n        },\n    },\n});\n","{% block swag_migration_tab_card_item %}\n    <div class=\"swag-migration-tab-card-item\">\n        <div v-if=\"active\">\n            <slot>\n                {% block swag_migration_tab_card_item_slot %}{% endblock %}\n            </slot>\n        </div>\n    </div>\n{% endblock %}\n","import template from './swag-migration-tab-card-item.html.twig';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-tab-card-item', {\n    template,\n\n    data() {\n        return {\n            active: false,\n        };\n    },\n\n    methods: {\n        setActive(active) {\n            this.active = active;\n        },\n    },\n});\n","{% block swag_migration_grid_selection %}\n    <div class=\"swag-migration-grid-selection\">\n\n        {% block swag_migration_grid_selection_grid %}\n            <sw-grid ref=\"tableDataGrid\"\n                     :items=\"items\"\n                     :selectable=\"false\">\n                <template #columns=\"{ item }\">\n\n                    {% block swag_migration_grid_selection_grid_column_description %}\n                        <sw-grid-column flex=\"1fr\"\n                                        :label=\"$tc('swag-migration.index.premappingCard.previousTitle')\">\n                            {{ item.description }}\n                        </sw-grid-column>\n                    {% endblock %}\n\n                    {% block swag_migration_grid_selection_grid_column_choice %}\n                        <sw-grid-column class=\"swag-migration-grid-selection__choice-column\"\n                                        flex=\"1fr\"\n                                        :label=\"$tc('swag-migration.index.premappingCard.newAssignmentTitle')\">\n\n                            {% block swag_migration_grid_selection_grid_column_choice_field %}\n                                <mt-select\n                                    v-model=\"item.destinationUuid\"\n                                    class=\"swag-migration-grid-selection__choice-field\"\n                                    :class=\"getClassesAfterValidation(item)\"\n                                    :options=\"selectOptions\"\n                                    @update:model-value=\"onInput\"\n                                />\n                            {% endblock %}\n                        </sw-grid-column>\n                    {% endblock %}\n                </template>\n\n                {% block swag_migration_grid_selection_grid_pagination %}\n                    <template #pagination>\n                        <sw-pagination\n                            :page=\"page\"\n                            :limit=\"limit\"\n                            :total=\"total\"\n                            :total-visible=\"7\"\n                            :steps=\"paginationSteps\"\n                            @page-change=\"onPageChange\" />\n                    </template>\n                {% endblock %}\n            </sw-grid>\n        {% endblock %}\n    </div>\n{% endblock %}\n","import template from './swag-migration-grid-selection.html.twig';\nimport './swag-migration-grid-selection.scss';\n\nconst { Component, Mixin } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-grid-selection', {\n    template,\n\n    emits: ['update:value'],\n\n    mixins: [\n        Mixin.getByName('listing'),\n    ],\n\n    props: {\n        choices: {\n            type: Array,\n            required: true,\n        },\n        mapping: {\n            type: Array,\n            required: true,\n        },\n    },\n\n    data() {\n        return {\n            items: [],\n            disableRouteParams: true,\n            limit: 10,\n            paginationSteps: [10, 20, 30, 50],\n            selectOptions: [],\n        };\n    },\n\n    watch: {\n        choices: {\n            handler(newChoices) {\n                if (!newChoices) return;\n\n                this.selectOptions = newChoices.map((choice) => ({\n                    label: choice.description,\n                    value: choice.uuid,\n                }));\n            },\n            deep: true,\n            immediate: true,\n        },\n        mapping() {\n            this.getList();\n        },\n    },\n\n    methods: {\n        getList() {\n            this.total = this.mapping.length;\n            const start = (this.page - 1) * this.limit;\n            const end = Math.min(start + this.limit, this.total);\n            this.items.length = 0; // clear the items array without creating a new reference\n\n            // Copy the object references into the display items array (for pagination).\n            // Note: Array.slice does not work (as it copies)\n            for (let i = start; i < end; i += 1) {\n                this.items.push(this.mapping[i]);\n            }\n\n            return this.items;\n        },\n\n        onInput() {\n            this.$emit('update:value');\n        },\n\n        getClassesAfterValidation(item) {\n            const hasError = item.destinationUuid === null || item.destinationUuid.length === 0;\n            return { 'has--error': hasError };\n        },\n    },\n});\n","{% block swag_migration_expand_div %}\n    <div class=\"swag-migration-expand-div\">\n        <div class=\"swag-migration-expand-div__title\">\n            <button class=\"swag-migration-expand-div__link\"\n               @click=\"onClick\">\n                <div v-if=\"isExpanded\">\n                    {{ expandTitle }}\n                    <mt-icon class=\"swag-migration-expand-div__icon\"\n                             name=\"regular-chevron-circle-up\"\n                             size=\"16px\" />\n                </div>\n                <div v-else>\n                    {{ collapseTitle }}\n                    <mt-icon class=\"swag-migration-expand-div__icon\"\n                             name=\"regular-chevron-circle-down\"\n                             size=\"16px\" />\n                </div>\n            </button>\n        </div>\n\n        <div v-if=\"isExpanded\"\n             class=\"swag-migration-expand-div__slot\">\n            <slot>\n\n                {% block swag_migration_expand_div_slot %}\n                {% endblock %}\n            </slot>\n        </div>\n    </div>\n{% endblock %}\n","import template from './swag-migration-expand-div.html.twig';\nimport './swag-migration-expand-div.scss';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-expand-div', {\n    template,\n\n    props: {\n        expandTitle: {\n            type: String,\n            default: '',\n            required: false,\n        },\n\n        collapseTitle: {\n            type: String,\n            default: '',\n            required: false,\n        },\n    },\n\n    data() {\n        return {\n            isExpanded: false,\n        };\n    },\n\n    methods: {\n        onClick() {\n            this.isExpanded = !this.isExpanded;\n        },\n    },\n});\n","{% block swag_migration_settings_icon %}\n    <img\n        class=\"swag-migration-settings_icon__img\"\n        :src=\"assetFilter('/swagmigrationassistant/administration/static/img/migration-assistant-plugin.svg')\"\n        alt=\"\"\n    >\n{% endblock %}\n","import template from './swag-migration-settings-icon.html.twig';\nimport './swag-migration-settings-icon.scss';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-settings-icon', {\n    template,\n    computed: {\n        assetFilter() {\n            return Shopware.Filter.getByName('asset');\n        },\n    },\n});\n","{% block swag_migration_loading_screen %}\n    <div class=\"swag-migration-loading-screen\">\n\n        {% block swag_migration_loading_screen_card %}\n            <mt-card\n                class=\"swag-migration-loading-screen__card\"\n                position-identifier=\"swag-migration-loading-screen__card\"\n            >\n\n                {% block swag_migration_index_loading_screen_content %}\n                    <div class=\"swag-migration-loading-screen__content\">\n\n                        {% block swag_migration_index_loading_screen_header %}\n                            <div class=\"swag-migration-loading-screen__header\">\n\n                                {% block swag_migration_index_loading_screen_title %}\n                                    <div class=\"swag-migration-loading-screen__title\">\n                                        {{ statusLong }}\n                                    </div>\n                                {% endblock %}\n\n                                {% block swag_migration_index_loading_screen_caption %}\n                                    <div class=\"swag-migration-loading-screen__caption\">\n                                        {{ caption }}\n                                    </div>\n                                {% endblock %}\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_index_loading_screen_progress_bar %}\n                            <swag-migration-progress-bar\n                                    :left-point-description=\"progressBarLeftPointDescription\"\n                                    :right-point-description=\"$tc('swag-migration.index.loadingScreenCard.status.finish')\"\n                                    :value=\"progress\"\n                                    :max-value=\"total\" />\n                        {% endblock %}\n\n                        <mt-banner variant=\"info\"\n                                  class=\"swag-migration-loading-screen__notice\">\n                            {{ $tc('swag-migration.index.loadingScreenCard.notice') }}\n                            <a class=\"link\"\n                               :href=\"$tc('swag-migration.index.loadingScreenCard.documentationLink')\"\n                               target=\"_blank\">\n                                {{ $tc('swag-migration.index.loadingScreenCard.documentationLinkText') }}\n                            </a>\n                        </mt-banner>\n                    </div>\n                {% endblock %}\n            </mt-card>\n        {% endblock %}\n    </div>\n{% endblock %}\n","import template from './swag-migration-loading-screen.html.twig';\nimport './swag-migration-loading-screen.scss';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-loading-screen', {\n    template,\n\n    props: {\n        step: {\n            type: String,\n            required: true,\n        },\n\n        progress: {\n            type: Number,\n            required: true,\n        },\n\n        total: {\n            type: Number,\n            required: true,\n        },\n    },\n\n    computed: {\n        progressBarLeftPointDescription() {\n            return this.$tc(`swag-migration.index.loadingScreenCard.status.${this.step}.short`);\n        },\n\n        caption() {\n            return this.$tc(`swag-migration.index.loadingScreenCard.status.${this.step}.caption`);\n        },\n\n        statusLong() {\n            return this.$tc(`swag-migration.index.loadingScreenCard.status.${this.step}.long`);\n        },\n    },\n});\n","{% block swag_migration_result_screen %}\n    <div>\n\n        {% block swag_migration_result_screen_card %}\n            <mt-card class=\"swag-migration-result-screen\"\n                     position-identifier=\"swag-migration-result-screen\">\n\n                {% block swag_migration_result_screen_content %}\n                    <div class=\"swag-migration-result-screen__content\">\n\n                        {% block swag_migration_result_screen_icon %}\n                            <div class=\"swag-migration-result-screen__bubble\">\n                                <mt-icon class=\"swag-migration-result-screen__icon\"\n                                         name=\"regular-thumbs-up\"\n                                         size=\"36px\"\n                                         decorative />\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_result_screen_title %}\n                            <div class=\"swag-migration-result-screen__title\">\n                                {{ $tc('swag-migration.index.loadingScreenCard.result.title') }}\n                            </div>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n            </mt-card>\n        {% endblock %}\n\n        <mt-card\n            position-identifier=\"swag-migration-result-screen__log-summary\"\n            :is-loading=\"!latestRun\"\n            :title=\"$tc('swag-migration.index.loadingScreenCard.result.logSummary')\"\n        >\n            <mt-banner>\n                {{ $tc('swag-migration.index.loadingScreenCard.result.historyHint') }}\n            </mt-banner>\n\n            <swag-migration-history-detail-errors\n                v-if=\"latestRun\"\n                :migration-run=\"latestRun\"\n            />\n        </mt-card>\n\n    </div>\n{% endblock %}\n","import template from './swag-migration-result-screen.html.twig';\nimport './swag-migration-result-screen.scss';\n\nconst { Component } = Shopware;\nconst { Criteria } = Shopware.Data;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-result-screen', {\n    template,\n\n    inject: {\n        repositoryFactory: 'repositoryFactory',\n    },\n\n    data() {\n        return {\n            latestRun: null,\n            context: Shopware.Context.api,\n        };\n    },\n\n    computed: {\n        migrationRunRepository() {\n            return this.repositoryFactory.create('swag_migration_run');\n        },\n    },\n\n    mounted() {\n        this.mountedComponent();\n    },\n\n    methods: {\n        async mountedComponent() {\n            this.latestRun = await this.fetchLatestRun();\n        },\n\n        async fetchLatestRun() {\n            const criteria = new Criteria(1, 1);\n            criteria.addSorting(Criteria.sort('createdAt', 'DESC'));\n\n            const results = await this.migrationRunRepository.search(criteria, this.context);\n            return results.first();\n        },\n    },\n});\n","{% block swag_migration_base %}\n    <sw-page class=\"swag-migration-index\">\n\n        {% block swag_migration_base_smart_bar_header %}\n            <template #smart-bar-header>\n                <h2>\n                    {{ $tc('sw-settings.index.title') }}\n                    <mt-icon name=\"regular-chevron-right-xs\" size=\"12\"/>\n                    {{ $tc('swag-migration.general.mainMenuItemGeneral') }}\n                </h2>\n            </template>\n        {% endblock %}\n\n        {% block swag_migration_base_smart_bar_actions %}\n            <template v-if=\"!storesInitializing\"\n                      #smart-bar-actions>\n                <mt-button variant=\"primary\"\n                           :disabled=\"!isMigrationAllowed\"\n                           :is-loading=\"isLoading\"\n                           @click=\"onMigrate\">\n                    {{ $tc('swag-migration.index.migrateButton') }}\n                </mt-button>\n            </template>\n        {% endblock %}\n\n        {% block swag_migration_base_content %}\n            <template #content>\n                <sw-card-view v-if=\"!storesInitializing\">\n                    {% block swag_migration_base_content_view %}\n                    {% endblock %}\n                </sw-card-view>\n\n                {% block swag_migration_base_loader_content %}\n                    <mt-loader v-if=\"storesInitializing\" />\n                {% endblock %}\n            </template>\n        {% endblock %}\n    </sw-page>\n{% endblock %}\n","import template from './swag-migration-base.html.twig';\nimport { MIGRATION_STEP } from '../../../../core/service/api/swag-migration.api.service';\n\nconst { Component, Store } = Shopware;\nconst { mapState } = Shopware.Component.getComponentHelper();\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-base', {\n    template,\n\n    inject: {\n        /** @var {MigrationApiService} migrationApiService */\n        migrationApiService: 'migrationApiService',\n    },\n\n    data() {\n        return {\n            context: Shopware.Context.api,\n            storesInitializing: true,\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        ...mapState(() => Store.get('swagMigration'), [\n            'environmentInformation',\n            'connectionId',\n            'isLoading',\n            'dataSelectionTableData',\n            'isMigrationAllowed',\n        ]),\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        async createdComponent() {\n            await this.checkMigrationBackendState();\n            return this.initState();\n        },\n\n        async checkMigrationBackendState() {\n            try {\n                const response = await this.migrationApiService.getState();\n                if (!response || !response.step) {\n                    return;\n                }\n\n                if (response.step !== MIGRATION_STEP.IDLE) {\n                    this.$router.push({ name: 'swag.migration.processScreen' });\n                }\n            } catch {\n                // do nothing\n            }\n        },\n\n        async initState() {\n            const forceFullStateReload = this.$route.query.forceFullStateReload ?? false;\n            await Store.get('swagMigration').init(forceFullStateReload);\n            this.storesInitializing = false;\n        },\n\n        onMigrate() {\n            // navigate to process screen\n            Store.get('swagMigration').setIsLoading(true);\n            this.$router.push({ name: 'swag.migration.processScreen' });\n        },\n    },\n});\n","{% block swag_migration_base_content_view %}\n    <sw-card-view v-if=\"!storesInitializing\">\n\n        {% block swag_migration_index_tabs %}\n            <sw-tabs class=\"swag-migration-index-tabs\"\n                     position-identifier=\"swag-migration-index-tabs\">\n\n                {% block swag_migration_index_tab_main %}\n                    <sw-tabs-item :route=\"{ name: 'swag.migration.index.main' }\"\n                                  :title=\"$tc('swag-migration.general.tabMain')\">\n                        {{ $tc('swag-migration.general.tabMain') }}\n                    </sw-tabs-item>\n                {% endblock %}\n\n                {% block swag_migration_index_tab_data_selector %}\n                    <sw-tabs-item :route=\"{ name: 'swag.migration.index.dataSelector' }\"\n                                  :title=\"$tc('swag-migration.general.tabDataSelector')\">\n                        {{ $tc('swag-migration.general.tabDataSelector') }}\n                    </sw-tabs-item>\n                {% endblock %}\n\n                {% block swag_migration_index_tab_history %}\n                    <sw-tabs-item :route=\"{ name: 'swag.migration.index.history' }\"\n                                  :title=\"$tc('swag-migration.general.tabHistory')\">\n                        {{ $tc('swag-migration.general.tabHistory') }}\n                    </sw-tabs-item>\n                {% endblock %}\n            </sw-tabs>\n        {% endblock %}\n\n        {% block swag_migration_index_content_view %}\n            <router-view ref=\"contentComponent\" />\n        {% endblock %}\n    </sw-card-view>\n{% endblock %}\n","import template from './swag-migration-index.html.twig';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.extend('swag-migration-index', 'swag-migration-base', {\n    template,\n\n    computed: {\n        tabItems() {\n            return [\n                {\n                    name: 'swag.migration.index.main',\n                    label: this.$tc('swag-migration.general.tabMain'),\n                },\n                {\n                    name: 'swag.migration.index.dataSelector',\n                    label: this.$tc('swag-migration.general.tabDataSelector'),\n                },\n                {\n                    name: 'swag.migration.index.history',\n                    label: this.$tc('swag-migration.general.tabHistory'),\n                },\n            ];\n        },\n    },\n\n    methods: {\n        setActiveTab(tabItem) {\n            this.$router.push({ name: tabItem.name });\n        },\n    },\n});\n","{% block swag_migration_index_main_page %}\n    <div class=\"swag-migration-index-main-page\">\n\n        {% block swag_migration_index_main_page_content %}\n            <div v-if=\"!isLoading\">\n\n                {% block swag_migration_index_main_page_warnings %}\n                    <div class=\"swag-migration-index-main-page__warnings\">\n                        <template\n                            v-for=\"warning in displayWarnings\"\n                            :key=\"warning.snippetKey\"\n                        >\n\n                            <mt-banner\n                                class=\"swag-migration-index-main-page__warning\"\n                                variant=\"attention\"\n                            >\n                                {{ $tc(warning.snippetKey, warning.snippetArguments, warning.pluralizationCount) }}\n                            </mt-banner>\n                        </template>\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_index_main_page_card_shopInformation %}\n                    <swag-migration-shop-information :connected=\"connectionEstablished\" />\n                {% endblock %}\n            </div>\n        {% endblock %}\n\n        {% block swag_migration_index_main_page_assistant %}\n            <swag-migration-assistant v-if=\"!isLoading\" />\n        {% endblock %}\n\n        {% block swag_migration_index_main_page_loader %}\n            <mt-loader v-if=\"isLoading\" />\n        {% endblock %}\n    </div>\n{% endblock %}\n","import template from './swag-migration-main-page.html.twig';\nimport './swag-migration-main-page.scss';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-main-page', {\n    template,\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        environmentInformation() {\n            return Shopware.Store.get('swagMigration').environmentInformation;\n        },\n\n        connectionId() {\n            return Shopware.Store.get('swagMigration').connectionId;\n        },\n\n        isLoading() {\n            return Shopware.Store.get('swagMigration').isLoading;\n        },\n\n        displayWarnings() {\n            return this.environmentInformation.displayWarnings;\n        },\n\n        connectionEstablished() {\n            return this.environmentInformation !== undefined &&\n                this.environmentInformation.requestStatus &&\n                (\n                    this.environmentInformation.requestStatus.isWarning === true ||\n                    (\n                        this.environmentInformation.requestStatus.isWarning === false &&\n                        this.environmentInformation.requestStatus.code === ''\n                    )\n                );\n        },\n    },\n});\n","{% block swag_migration_base_content_view %}\n    <div class=\"swag-migration-wizard\">\n        <sw-modal v-if=\"showModal\"\n                  class=\"swag-migration-wizard__modal\"\n                  :size=\"modalSize\"\n                  :title=\"$tc(modalTitleSnippet)\"\n                  :is-loading=\"isLoading || storesInitializing\"\n                  @modal-close=\"onCloseModal\">\n\n            {% block swag_migration_wizard_placeholder %}\n                <div v-show=\"isLoading || storesInitializing || childIsLoading\"\nclass=\"swag-migration-wizard__placeholder\"></div>\n            {% endblock %}\n\n            {% block swag_migration_router_view %}\n                    <router-view v-slot=\"{ Component }\">\n                        <component\n                            :is=\"Component\"\n                            v-show=\"!isLoading && !childIsLoading && !storesInitializing\"\n                            :current-connection-id=\"connection.id\"\n                            :profile-information-component=\"profileInformationComponent\"\n                            :credentials-component=\"credentialsComponent\"\n                            :credentials=\"connection.credentialFields\"\n                            :error-message-snippet=\"errorMessageSnippet\"\n                            :error-message-hint-snippet=\"errorMessageHintSnippet\"\n                            :connection-name-error-code=\"connectionNameErrorCode\"\n                            @on-child-route-ready-changed=\"onChildRouteReadyChanged\"\n                            @on-trigger-primary-click=\"triggerPrimaryClick\"\n                            @on-profile-selected=\"onProfileSelected\"\n                            @on-change-connection-name=\"onChangeConnectionName\"\n                            @on-connection-selected=\"onConnectionSelected\"\n                            @on-credentials-changed=\"onCredentialsChanged\"\n                            @on-is-loading-changed=\"onChildIsLoadingChanged\"\n                        />\n                    </router-view>\n            {% endblock %}\n\n            <template #modal-footer>\n                <div class=\"swag-migration-wizard__footer\">\n                    {% block swag_migration_wizard_footer %}\n                        {% block swag_migration_wizard_arrow %}\n                            <div class=\"swag-migration-wizard__left-actions\">\n                                <mt-button v-show=\"buttonBackVisible\"\n                                           variant=\"secondary\"\n                                           class=\"swag-migration-wizard__buttonBack\"\n                                           size=\"small\"\n                                           @click=\"onButtonBackClick\">\n                                    {{ $tc(buttonBackSnippet) }}\n                                </mt-button>\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_actions %}\n                            <div class=\"swag-migration-wizard__right-actions\">\n\n                                {% block swag_migration_wizard_actions_previous %}\n                                    <mt-button v-show=\"buttonSecondaryVisible\"\n                                               variant=\"secondary\"\n                                               size=\"small\"\n                                               @click=\"onButtonSecondaryClick\">\n                                        {{ $tc(buttonSecondarySnippet) }}\n                                    </mt-button>\n                                {% endblock %}\n\n                                {% block swag_migration_wizard_actions_next %}\n                                    <mt-button size=\"small\"\n                                               variant=\"primary\"\n                                               :disabled=\"buttonPrimaryDisabled\"\n                                               @click=\"onButtonPrimaryClick\">\n                                        {{ $tc(buttonPrimarySnippet) }}\n                                    </mt-button>\n                                {% endblock %}\n                            </div>\n                        {% endblock %}\n                    {% endblock %}\n                </div>\n            </template>\n        </sw-modal>\n    </div>\n{% endblock %}\n","import template from './swag-migration-wizard.html.twig';\nimport './swag-migration-wizard.scss';\nimport { MIGRATION_STEP } from '../../../../../core/service/api/swag-migration.api.service';\n\nconst { Component, Mixin, Store } = Shopware;\nconst { Criteria } = Shopware.Data;\nconst SSL_REQUIRED_ERROR_CODE = 'SWAG_MIGRATION__SSL_REQUIRED';\nconst { mapState } = Shopware.Component.getComponentHelper();\n\nconst CONNECTION_NAME_ERRORS = Object.freeze({\n    NAME_TO_SHORT: 'SWAG_MIGRATION_CONNECTION_NAME_TO_SHORT',\n    NAME_ALREADY_EXISTS: 'SWAG_MIGRATION_CONNECTION_NAME_ALREADY_EXISTS',\n});\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n *\n * Note:\n * This component should not inherit from another component, because Rufus is overriding it and NEXT-36774 breaks it then.\n * We might inherit from 'swag-migration-base' in the future again.\n */\nComponent.register('swag-migration-wizard', {\n    template,\n\n    inject: {\n        /** @var {MigrationApiService} migrationApiService */\n        migrationApiService: 'migrationApiService',\n        repositoryFactory: 'repositoryFactory',\n    },\n\n    mixins: [\n        Mixin.getByName('swag-wizard'),\n    ],\n\n    data() {\n        const routes = this.getRoutes();\n\n        return {\n            context: Shopware.Context.api,\n            storesInitializing: true,\n            showModal: true,\n            isLoading: true,\n            childIsLoading: false,\n            routes,\n            connection: {},\n            connectionName: '',\n            selectedProfile: {},\n            childRouteReady: false, // child routes with forms will emit and change this value depending on their validation.\n            errorMessageSnippet: '',\n            errorMessageHintSnippet: '',\n            connectionNameErrorCode: '',\n            currentErrorCode: '',\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        ...mapState(() => Store.get('swagMigration'), [\n            'connectionId',\n        ]),\n\n        migrationConnectionRepository() {\n            return this.repositoryFactory.create('swag_migration_connection');\n        },\n\n        migrationGeneralSettingRepository() {\n            return this.repositoryFactory.create('swag_migration_general_setting');\n        },\n\n        modalSize() {\n            if ([\n                this.routes.credentialsSuccess,\n                this.routes.credentialsError,\n            ].includes(this.currentRoute)) {\n                return '460px';\n            }\n\n            return '688px';\n        },\n\n        modalTitleSnippet() {\n            return this.currentRoute.titleSnippet;\n        },\n\n        buttonBackSnippet() {\n            return 'swag-migration.wizard.buttonToProfileInformation';\n        },\n\n        buttonBackVisible() {\n            return (\n                !this.isLoading &&\n                this.currentRoute === this.routes.credentials &&\n                this.profileInformationComponentIsLoaded\n            );\n        },\n\n        buttonSecondarySnippet() {\n            if (this.currentRoute === this.routes.credentialsError) {\n                return 'swag-migration.wizard.buttonLater';\n            }\n\n            return 'swag-migration.wizard.buttonAbort';\n        },\n\n        buttonSecondaryVisible() {\n            return (this.currentRoute !== this.routes.credentialsSuccess);\n        },\n\n        buttonPrimarySnippet() {\n            if (this.currentRoute === this.routes.introduction) {\n                return 'swag-migration.wizard.buttonLetsGo';\n            }\n\n            if (this.currentRoute === this.routes.connectionCreate) {\n                return 'swag-migration.wizard.buttonConnectionCreate';\n            }\n\n            if (this.currentRoute === this.routes.connectionSelect) {\n                return 'swag-migration.wizard.buttonConnectionSelect';\n            }\n\n            if (this.currentRoute === this.routes.credentials) {\n                return 'swag-migration.wizard.buttonConnect';\n            }\n\n            if (this.currentRoute === this.routes.credentialsSuccess) {\n                return 'swag-migration.wizard.buttonFinish';\n            }\n\n            if (this.currentRoute === this.routes.credentialsError) {\n                if (this.currentErrorCode === SSL_REQUIRED_ERROR_CODE) {\n                    return 'swag-migration.wizard.buttonUseSsl';\n                }\n\n                return 'swag-migration.wizard.buttonEdit';\n            }\n\n            return 'swag-migration.wizard.buttonNext';\n        },\n\n        buttonPrimaryDisabled() {\n            if ([\n                this.routes.credentials,\n                this.routes.connectionCreate,\n                this.routes.connectionSelect,\n            ].includes(this.currentRoute)) {\n                return !this.childRouteReady || this.isLoading;\n            }\n\n            return this.isLoading;\n        },\n\n        profileInformationComponent() {\n            if (!this.connection || !this.connection.profileName || !this.connection.gatewayName) {\n                return '';\n            }\n\n            return `swag-migration-profile-${this.connection.profileName}-` +\n                `${this.connection.gatewayName}-page-information`;\n        },\n\n        profileInformationComponentIsLoaded() {\n            return Component.getComponentRegistry().has(this.profileInformationComponent);\n        },\n\n        credentialsComponent() {\n            if (!this.connection || !this.connection.profileName || !this.connection.gatewayName) {\n                return '';\n            }\n\n            return `swag-migration-profile-${this.connection.profileName}-${this.connection.gatewayName}-credential-form`;\n        },\n    },\n\n    /**\n     * Close modal and after it is closed we redirect to next route.\n     * (note: without closing it first the sw-modal will stay in the DOM)\n     *\n     * @param to\n     * @param from\n     * @param next\n     */\n    beforeRouteLeave(to, from, next) {\n        this.showModal = false;\n        this.$nextTick(() => {\n            next();\n        });\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        async createdComponent() {\n            await this.checkMigrationBackendState();\n            await this.initState();\n\n            await this.loadSelectedConnection(this.connectionId);\n            this.isLoading = false;\n            this.onChildRouteChanged(); // update strings for current child\n        },\n\n        async checkMigrationBackendState() {\n            try {\n                const response = await this.migrationApiService.getState();\n                if (!response || !response.step) {\n                    return;\n                }\n\n                if (response.step !== MIGRATION_STEP.IDLE) {\n                    this.$router.push({ name: 'swag.migration.processScreen' });\n                }\n            } catch {\n                // do nothing\n            }\n        },\n\n        async initState() {\n            const forceFullStateReload = this.$route.query.forceFullStateReload ?? false;\n            await Store.get('swagMigration').init(forceFullStateReload);\n            this.storesInitializing = false;\n        },\n\n        getRoutes() {\n            return {\n                introduction: {\n                    name: 'swag.migration.wizard.introduction',\n                    index: 0,\n                    titleSnippet: 'swag-migration.wizard.pages.introduction.title',\n                },\n                profileInstallation: {\n                    name: 'swag.migration.wizard.profileInstallation',\n                    index: 0.1,\n                    titleSnippet: 'swag-migration.wizard.pages.profileInstallation.title',\n                },\n                connectionCreate: {\n                    name: 'swag.migration.wizard.connectionCreate',\n                    index: 0.2, // not available through nextRoute (child from profile)\n                    titleSnippet: 'swag-migration.wizard.pages.connectionCreate.title',\n                },\n                connectionSelect: {\n                    name: 'swag.migration.wizard.connectionSelect',\n                    index: 0.3, // not available through nextRoute (child from profile)\n                    titleSnippet: 'swag-migration.wizard.pages.connectionSelect.title',\n                },\n                profileInformation: {\n                    name: 'swag.migration.wizard.profileInformation',\n                    index: 1,\n                    titleSnippet: 'swag-migration.wizard.pages.profileInformation.title',\n                },\n                credentials: {\n                    name: 'swag.migration.wizard.credentials',\n                    index: 2,\n                    titleSnippet: 'swag-migration.wizard.pages.credentials.title',\n                },\n                credentialsSuccess: {\n                    name: 'swag.migration.wizard.credentialsSuccess',\n                    index: 2.1, // not available through nextRoute (child from credentials)\n                    titleSnippet: 'swag-migration.wizard.pages.credentials.statusTitle',\n                },\n                credentialsError: {\n                    name: 'swag.migration.wizard.credentialsError',\n                    index: 2.1, // not available through nextRoute (child from credentials)\n                    titleSnippet: 'swag-migration.wizard.pages.credentials.statusTitle',\n                },\n            };\n        },\n\n        /**\n         * Remove any whitespaces before or after the strings in the credentials object.\n         */\n        trimCredentials() {\n            Object.keys(this.connection.credentialFields).forEach((field) => {\n                this.connection.credentialFields[field] = this.connection.credentialFields[field].trim();\n            });\n        },\n\n        onConnect() {\n            this.isLoading = true;\n            this.errorMessageSnippet = '';\n\n            this.trimCredentials();\n            return this.migrationApiService.updateConnectionCredentials(\n                this.connection.id,\n                this.connection.credentialFields,\n            ).then((response) => {\n                if (response.errors && response.errors.length > 0) {\n                    this.isLoading = false;\n                    this.onResponseError('');\n                }\n\n                return this.doConnectionCheck();\n            }).catch((error) => {\n                this.isLoading = false;\n                this.onResponseError(error.response.data.errors[0].code);\n            });\n        },\n\n        doConnectionCheck() {\n            this.isLoading = true;\n            return this.migrationApiService.checkConnection(this.connection.id).then((connectionCheckResponse) => {\n                Store.get('swagMigration').setConnectionId(this.connection.id);\n                this.isLoading = false;\n\n                if (!connectionCheckResponse) {\n                    this.onResponseError(-1);\n                    return;\n                }\n                Store.get('swagMigration').setEnvironmentInformation(connectionCheckResponse);\n                Store.get('swagMigration').setDataSelectionIds([]);\n                Store.get('swagMigration').setPremapping([]);\n                Store.get('swagMigration').setDataSelectionTableData([]);\n\n                if (connectionCheckResponse.requestStatus === undefined) {\n                    this.navigateToRoute(this.routes.credentialsSuccess);\n                    return;\n                }\n\n                if (\n                    connectionCheckResponse.requestStatus.code !== '' &&\n                    connectionCheckResponse.requestStatus.isWarning === false\n                ) {\n                    this.onResponseError(connectionCheckResponse.requestStatus.code);\n                    return;\n                }\n\n                // create warning for success page\n                this.errorMessageSnippet = '';\n                if (\n                    connectionCheckResponse.requestStatus.code !== '' &&\n                    connectionCheckResponse.requestStatus.isWarning === true\n                ) {\n                    this.errorMessageSnippet =\n                        `swag-migration.wizard.pages.credentials.success.${connectionCheckResponse.requestStatus.code}`;\n                }\n\n                this.navigateToRoute(this.routes.credentialsSuccess);\n            }).catch((error) => {\n                this.isLoading = false;\n                Store.get('swagMigration').setConnectionId(this.connection.id);\n                Store.get('swagMigration').setEnvironmentInformation({});\n                Store.get('swagMigration').setDataSelectionIds([]);\n                Store.get('swagMigration').setPremapping([]);\n                Store.get('swagMigration').setDataSelectionTableData([]);\n                this.onResponseError(error.response.data.errors[0].code);\n            });\n        },\n\n        onResponseError(errorCode) {\n            if (errorCode !== '') {\n                this.errorMessageSnippet = `swag-migration.wizard.pages.credentials.error.${errorCode}`;\n\n                if (this.$te(`swag-migration.wizard.pages.credentials.error.${errorCode}__HINT`)) {\n                    this.errorMessageHintSnippet = `swag-migration.wizard.pages.credentials.error.${errorCode}__HINT`;\n                }\n            } else {\n                this.errorMessageSnippet = '';\n                this.errorMessageHintSnippet = '';\n            }\n\n            if (this.errorMessageSnippet === this.$tc(`swag-migration.wizard.pages.credentials.error.${errorCode}`)) {\n                this.errorMessageSnippet = 'swag-migration.wizard.pages.credentials.error.undefinedErrorMsg';\n\n                if (this.$te('swag-migration.wizard.pages.credentials.error.undefinedErrorMsg__HINT')) {\n                    this.errorMessageHintSnippet = 'swag-migration.wizard.pages.credentials.error.undefinedErrorMsg__HINT';\n                }\n            }\n\n            this.currentErrorCode = errorCode;\n\n            this.navigateToRoute(this.routes.credentialsError);\n        },\n\n        onCloseModal() {\n            this.showModal = false;\n            // navigate to module\n            this.$router.push({\n                name: 'swag.migration.index.main',\n                query: {\n                    forceFullStateReload: true,\n                },\n            });\n        },\n\n        onChildRouteChanged() {\n            if (this.isLoading) {\n                return;\n            }\n\n            this.checkForDisabledRoute();\n        },\n\n        checkForDisabledRoute() {\n            if (!Object.keys(this.connection).length) {\n                // there is no connection selected. redirect to the selection\n                this.onNoConnectionSelected();\n                return;\n            }\n\n            if (!this.profileInformationComponentIsLoaded) {\n                if (this.currentRoute === this.routes.profileInformation) {\n                    this.navigateToRoute(this.routes.credentials);\n                }\n\n                // make the profileInformation route a child if there is no component\n                // so navigation to this route is not possible for the user\n                this.routes.profileInformation.index = 0.1;\n            }\n        },\n\n        onButtonBackClick() {\n            this.navigateToRoute(this.routes.profileInformation);\n        },\n\n        onButtonSecondaryClick() {\n            // Abort / Later\n            this.onCloseModal();\n        },\n\n        triggerPrimaryClick() {\n            if (!this.buttonPrimaryDisabled) {\n                this.onButtonPrimaryClick();\n            }\n        },\n\n        onButtonPrimaryClick() {\n            if (this.currentRoute === this.routes.connectionCreate) {\n                // clicked Next (save selected profile)\n                this.createNewConnection().then(() => {\n                    this.navigateToNext();\n                }).catch(() => {\n                    this.connectionNameErrorCode = CONNECTION_NAME_ERRORS.NAME_ALREADY_EXISTS;\n                    this.isLoading = false;\n                });\n                return;\n            }\n\n            if (this.currentRoute === this.routes.connectionSelect) {\n                this.saveSelectedConnection(this.connection).then(() => {\n                    return this.doConnectionCheck();\n                }).catch(() => {\n                    this.isLoading = false;\n                });\n                return;\n            }\n\n            if (this.currentRoute === this.routes.credentials) {\n                // clicked Connect.\n                this.onConnect();\n                return;\n            }\n\n            if (this.currentRoute === this.routes.credentialsSuccess) {\n                // clicked Finish.\n                this.onCloseModal();\n                return;\n            }\n\n            if (this.currentRoute === this.routes.credentialsError) {\n                if (this.currentErrorCode === SSL_REQUIRED_ERROR_CODE) {\n                    this.connection.credentialFields.endpoint =\n                        this.connection.credentialFields.endpoint.replace('http:', 'https:');\n                    this.onConnect();\n                    return;\n                }\n\n                // clicked Edit\n                this.navigateToRoute(this.routes.credentials);\n                return;\n            }\n\n            if (this.currentRoute === this.routes.profileInstallation) {\n                this.navigateToRoute(this.routes.connectionCreate);\n                return;\n            }\n\n            this.navigateToNext();\n        },\n\n        async loadSelectedConnection(connectionId) {\n            // resolve if connection is already loaded\n            if (Object.keys(this.connection).length) {\n                return;\n            }\n\n            this.isLoading = true;\n\n            if (connectionId !== undefined) {\n                await this.fetchConnection(connectionId);\n                return;\n            }\n\n            const criteria = new Criteria(1, 1);\n            const items = this.migrationGeneralSettingRepository.search(criteria, this.context);\n            if (items.length < 1) {\n                this.isLoading = false;\n                this.onNoConnectionSelected();\n                return;\n            }\n\n            if (items.first().selectedConnectionId === null) {\n                this.isLoading = false;\n                this.onNoConnectionSelected();\n                return;\n            }\n\n            await this.fetchConnection(items.first().selectedConnectionId);\n        },\n\n        fetchConnection(connectionId) {\n            return new Promise((resolve) => {\n                const criteria = new Criteria(1, 1);\n                criteria.addFilter(Criteria.equals('id', connectionId));\n\n                this.migrationConnectionRepository.search(criteria, this.context).then((connectionResponse) => {\n                    if (connectionResponse.length === 0 || connectionResponse.first().id === null) {\n                        this.isLoading = false;\n                        this.onNoConnectionSelected();\n                        resolve();\n                        return;\n                    }\n\n                    this.connection = connectionResponse.first();\n                    this.isLoading = false;\n                    resolve();\n                });\n            });\n        },\n\n        onNoConnectionSelected() {\n            if ([\n                this.routes.chooseAction,\n                this.routes.profileInformation,\n                this.routes.credentials,\n                this.routes.credentialsSuccess,\n                this.routes.credentialsError,\n            ].includes(this.currentRoute)) {\n                this.navigateToRoute(this.routes.profileInstallation);\n            }\n        },\n\n        createNewConnection() {\n            this.isLoading = true;\n            return this.checkConnectionName(this.connectionName).then((valid) => {\n                if (!valid) {\n                    this.isLoading = false;\n                    return Promise.reject();\n                }\n\n                this.connectionNameErrorCode = '';\n                const newConnection = this.migrationConnectionRepository.create(this.context);\n                newConnection.profileName = this.selectedProfile.profile;\n                newConnection.gatewayName = this.selectedProfile.gateway;\n                newConnection.name = this.connectionName;\n                return this.migrationConnectionRepository.save(newConnection, this.context).then(() => {\n                    return this.saveSelectedConnection(newConnection);\n                });\n            });\n        },\n\n        checkConnectionName(name) {\n            const criteria = new Criteria();\n            criteria.addFilter(Criteria.equals('name', name));\n\n            return this.migrationConnectionRepository.search(criteria, this.context).then((res) => {\n                return res.length === 0;\n            });\n        },\n\n        saveSelectedConnection(connection) {\n            return new Promise((resolve, reject) => {\n                this.isLoading = true;\n\n                Store.get('swagMigration').setConnectionId(connection.id);\n                Store.get('swagMigration').setEnvironmentInformation({});\n                Store.get('swagMigration').setDataSelectionIds([]);\n                Store.get('swagMigration').setPremapping([]);\n                Store.get('swagMigration').setDataSelectionTableData([]);\n\n                const criteria = new Criteria(1, 1);\n\n                this.migrationGeneralSettingRepository.search(criteria, this.context).then((items) => {\n                    if (items.length < 1) {\n                        this.isLoading = false;\n                        reject();\n                        return;\n                    }\n\n                    const setting = items.first();\n                    setting.selectedConnectionId = connection.id;\n                    this.migrationGeneralSettingRepository.save(setting, this.context).then(() => {\n                        this.connection = connection;\n                        this.isLoading = false;\n                        resolve();\n                    }).catch(() => {\n                        this.isLoading = false;\n                        reject();\n                    });\n                }).catch(() => {\n                    this.isLoading = false;\n                    reject();\n                });\n            });\n        },\n\n        onChildRouteReadyChanged(value) {\n            this.childRouteReady = value;\n        },\n\n        onCredentialsChanged(value) {\n            this.connection.credentialFields = value;\n        },\n\n        onProfileSelected(value) {\n            this.selectedProfile = value;\n        },\n\n        onChangeConnectionName(value) {\n            this.connectionName = value;\n            if (this.connectionName !== null && this.connectionName.length > 0) {\n                this.connectionNameErrorCode = '';\n                return;\n            }\n\n            this.connectionNameErrorCode = CONNECTION_NAME_ERRORS.NAME_TO_SHORT;\n        },\n\n        onChildIsLoadingChanged(value) {\n            this.childIsLoading = value;\n        },\n\n        onConnectionSelected(value) {\n            this.connection = value;\n        },\n    },\n});\n","{% block swag_migration_wizard_page_introduction %}\n    <div class=\"swag-migration-wizard swag-migration-wizard-page-introduction\">\n\n        {% block swag_migration_wizard_page_introduction_content %}\n            <div class=\"swag-migration-wizard__content\">\n\n                {% block swag_migration_wizard_page_introduction_information %}\n                    <div class=\"swag-migration-wizard__content-information\">\n\n                        {% block swag_migration_wizard_page_introduction_svg %}\n                            <img class=\"swag-migration-wizard__illustration\"\n                                 :src=\"assetFilter('/swagmigrationassistant/administration/static/img/wizard-introduction.svg')\"\n                                 alt=\"\">\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_introduction_api_hint %}\n                            <h3 class=\"swag-migration-wizard__headline\">\n                                {{ $tc('swag-migration.wizard.pages.introduction.contentHeadline') }}\n                            </h3>\n\n                            <p class=\"swag-migration-wizard__description\">\n                                {{ $tc('swag-migration.wizard.pages.introduction.contentInformation') }}\n                            </p>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}\n","import template from './swag-migration-wizard-page-introduction.html.twig';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-wizard-page-introduction', {\n    template,\n\n    computed: {\n        assetFilter() {\n            return Shopware.Filter.getByName('asset');\n        },\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n});\n","{% block swag_migration_wizard_page_profile_installation %}\n    <div class=\"swag-migration-wizard swag-migration-wizard-page-profile-installation\">\n\n        {% block swag_migration_wizard_page_profile_installation_content %}\n            <div class=\"swag-migration-wizard__content\">\n\n                {% block swag_migration_wizard_page_profile_installation_information %}\n                    <div class=\"swag-migration-wizard__content-information\">\n                        {{ $tc('swag-migration.wizard.pages.profileInstallation.content') }}\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_wizard_page_profile_installation_plugins %}\n                    <div class=\"swag-migration-wizard-profile-installation__plugins\">\n\n                        {% block swag_migration_wizard_page_profile_installation_availabilty_headline %}\n                            <div class=\"swag-migration-wizard-profile-installation__availability-headline\">\n                                {{ $tc('swag-migration.wizard.pages.profileInstallation.availabilityHeadline') }}\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_profile_installation_wrapper %}\n                            <div class=\"swag-migration-wizard-profile-installation__wrapper\">\n\n                                {% block swag_migration_wizard_page_profile_installation_shopware_inner_wrapper %}\n                                    <div class=\"swag-migration-wizard-profile-installation__inner_wrapper\">\n\n                                        {% block swag_migration_wizard_page_profile_installation_shopware_plugin_icon %}\n                                            <div class=\"swag-migration-wizard-profile-installation__plugin_icon_column\">\n                                                <img class=\"swag-migration-wizard-profile-installation__plugin-icon\"\n                                                     :src=\"assetFilter('/swagmigrationassistant/administration/static/img/wizard-shopware6-profile-avatar.svg')\"\n                                                     alt=\"\">\n                                            </div>\n                                        {% endblock %}\n\n                                        {% block swag_migration_wizard_page_profile_installation_shopware_plugin_information %}\n                                            <div class=\"swag-migration-wizard-profile-installation__plugin_information_column\">\n\n                                                {% block swag_migration_wizard_page_profile_installation_shopware_headline %}\n                                                    <div class=\"swag-migration-wizard-profile-installation__profile_headline\">\n                                                         {{ $tc('swag-migration.wizard.pages.profileInstallation.shopwareProfileHeadline') }}\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block swag_migration_wizard_page_profile_installation_shopware_manufacturer %}\n                                                    <div class=\"swag-migration-wizard-profile-installation__profile_manufacturer\">\n                                                        {{ $tc('swag-migration.wizard.pages.profileInstallation.profileManufacturer') }}\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block swag_migration_wizard_page_profile_installation_shopware_available_version_headline %}\n                                                    <div class=\"swag-migration-wizard-profile-installation__available_version_headline\">\n                                                        {{ $tc('swag-migration.wizard.pages.profileInstallation.availableVersionHeadline') }}\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block swag_migration_wizard_page_profile_installation_shopware_available_version_list %}\n                                                    <div class=\"swag-migration-wizard-profile-installation__available_version_list\">\n                                                        <span class=\"swag-migration-wizard-profile-installation__version_box\">5.4</span>\n                                                        <span class=\"swag-migration-wizard-profile-installation__version_box\">5.5</span>\n                                                        <span class=\"swag-migration-wizard-profile-installation__version_box\">5.6</span>\n                                                        <span class=\"swag-migration-wizard-profile-installation__version_box\">5.7</span>\n                                                        <span class=\"swag-migration-wizard-profile-installation__last_version_box\">{{ version }}</span>\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block swag_migration_wizard_page_profile_installation_shopware_installed_box %}\n                                                    <div class=\"swag-migration-wizard-profile-installation__footer swag-migration-wizard-profile-installation__installed_box\">\n                                                        <span class=\"swag-migration-wizard-profile-installation__installed_img\">\n                                                            <mt-icon name=\"regular-check-circle-s\"\n                                                                     size=\"16px\" />\n                                                        </span>\n                                                        <span class=\"swag-migration-wizard-profile-installation__installed_title\">{{ $tc('swag-migration.wizard.pages.profileInstallation.installedHint') }}</span>\n                                                    </div>\n                                                {% endblock %}\n                                            </div>\n                                        {% endblock %}\n                                    </div>\n                                {% endblock %}\n\n                                {% block swag_migration_wizard_page_profile_installation_magento_inner_wrapper %}\n                                    <div class=\"swag-migration-wizard-profile-installation__shopware-plugin swag-migration-wizard-profile-installation__inner_wrapper\">\n\n                                        {% block swag_migration_wizard_page_profile_installation_magento_plugin_icon %}\n                                            <div class=\"swag-migration-wizard-profile-installation__plugin_icon_column\">\n                                                <img class=\"swag-migration-wizard-profile-installation__plugin-icon\"\n                                                     :src=\"assetFilter('/swagmigrationassistant/administration/static/img/magento-profile-icon.svg')\"\n                                                     alt=\"\">\n                                            </div>\n                                        {% endblock %}\n\n                                        {% block swag_migration_wizard_page_profile_installation_magento_plugin_information %}\n                                            <div class=\"swag-migration-wizard-profile-installation__plugin_information_column\">\n\n                                                {% block swag_migration_wizard_page_profile_installation_magento_headline %}\n                                                    <div class=\"swag-migration-wizard-profile-installation__profile_headline\">\n                                                        {{ $tc('swag-migration.wizard.pages.profileInstallation.magentoProfileHeadline') }}\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block swag_migration_wizard_page_profile_installation_magento_manufacturer %}\n                                                    <div class=\"swag-migration-wizard-profile-installation__profile_manufacturer\">\n                                                        {{ $tc('swag-migration.wizard.pages.profileInstallation.profileManufacturer') }}\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block swag_migration_wizard_page_profile_installation_magento_available_version_headline %}\n                                                    <div class=\"swag-migration-wizard-profile-installation__available_version_headline\">\n                                                        {{ $tc('swag-migration.wizard.pages.profileInstallation.availableVersionHeadline') }}\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block swag_migration_wizard_page_profile_installation_magento_available_version_list %}\n                                                    <div class=\"swag-migration-wizard-profile-installation__available_version_list\">\n                                                        <span class=\"swag-migration-wizard-profile-installation__version_box\">1.9</span>\n                                                        <span class=\"swag-migration-wizard-profile-installation__version_box\">2.0</span>\n                                                        <span class=\"swag-migration-wizard-profile-installation__version_box\">2.1</span>\n                                                        <span class=\"swag-migration-wizard-profile-installation__version_box\">2.2</span>\n                                                        <span class=\"swag-migration-wizard-profile-installation__last_version_box\">2.3</span>\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block swag_migration_wizard_page_profile_installation_magento_install_button_box %}\n                                                    <div v-if=\"!isInstalled\"\n                                                         class=\"swag-migration-wizard-profile-installation__footer\">\n\n                                                        {% block swag_migration_wizard_page_profile_installation_magento_install_button_box_content %}\n                                                            <sw-button-process\n                                                                    class=\"swag-migration-wizard-profile-installation__installation_button\"\n                                                                    size=\"small\"\n                                                                    variant=\"primary\"\n                                                                    :is-loading=\"pluginIsLoading\"\n                                                                    :disabled=\"pluginIsLoading\"\n                                                                    :process-success=\"pluginIsSaveSuccessful\"\n                                                                    @click=\"onInstall\">\n                                                                {{ $tc('swag-migration.wizard.pages.profileInstallation.installationButton') }}\n                                                            </sw-button-process>\n                                                        {% endblock %}\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block swag_migration_wizard_page_profile_installation_magento_installed_box %}\n                                                    <div v-else\n                                                         class=\"swag-migration-wizard-profile-installation__footer swag-migration-wizard-profile-installation__installed_box\">\n\n                                                        {% block swag_migration_wizard_page_profile_installation_magento_installed_box_content %}\n                                                            <span class=\"swag-migration-wizard-profile-installation__installed_img\">\n                                                                <mt-icon name=\"regular-check-circle-s\"\n                                                                         size=\"16px\" />\n                                                            </span>\n                                                            <span class=\"swag-migration-wizard-profile-installation__installed_title\">{{ $tc('swag-migration.wizard.pages.profileInstallation.installedHint') }}</span>\n                                                        {% endblock %}\n                                                    </div>\n                                                {% endblock %}\n                                            </div>\n                                        {% endblock %}\n                                    </div>\n                                {% endblock %}\n                            </div>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}\n","import template from './swag-migration-wizard-page-profile-installation.html.twig';\nimport './swag-migration-wizard-page-profile-installation.scss';\n\nconst { Component } = Shopware;\nconst { Criteria } = Shopware.Data;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-wizard-page-profile-installation', {\n    template,\n\n    inject: ['storeService', 'extensionHelperService', 'cacheApiService', 'repositoryFactory'],\n\n    data() {\n        return {\n            pluginIsLoading: false,\n            pluginIsSaveSuccessful: false,\n            isInstalled: false,\n            pluginName: 'SwagMigrationMagento',\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        version() {\n            const version = Shopware.Context.app.config.version;\n\n            const match = version.split('.');\n\n            return [match[0], match[1]].join('.');\n        },\n\n        pluginRepository() {\n            return this.repositoryFactory.create('plugin');\n        },\n\n        assetFilter() {\n            return Shopware.Filter.getByName('asset');\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.refreshPlugin();\n        },\n\n        refreshPlugin() {\n            const pluginCriteria = new Criteria();\n            pluginCriteria.addFilter(Criteria.equals('plugin.name', this.pluginName))\n                .addFilter(Criteria.equals('plugin.active', true))\n                .setLimit(1);\n\n            return this.pluginRepository.search(pluginCriteria, Shopware.Context.api).then((result) => {\n                if (result.total < 1) {\n                    return;\n                }\n\n                this.isInstalled = true;\n            });\n        },\n\n        onInstall() {\n            this.setupPlugin();\n        },\n\n        setupPlugin() {\n            this.pluginIsLoading = true;\n            this.pluginIsSaveSuccessful = false;\n\n            return this.extensionHelperService.downloadStoreExtension(this.pluginName)\n                .then(() => {\n                    this.pluginIsSaveSuccessful = true;\n\n                    return this.extensionHelperService.installStoreExtension(this.pluginName, 'plugin');\n                })\n                .then(() => {\n                    return this.extensionHelperService.activateStoreExtension(this.pluginName, 'plugin');\n                })\n                .finally(() => {\n                    this.pluginIsLoading = false;\n                    this.cacheApiService.clear().then(() => {\n                        window.location.reload();\n                    });\n                });\n        },\n    },\n});\n","{% block swag_migration_wizard_page_select_profile %}\n    <div class=\"swag-migration-wizard-page-select-profile\">\n\n        {% block swag_migration_wizard_page_select_profile_content %}\n            <div class=\"swag-migration-wizard__content\">\n\n                {% block swag_migration_wizard_page_select_profile_information %}\n                    <div class=\"swag-migration-wizard__content-information\">\n\n                        {% block swag_migration_wizard_page_select_profile_description %}\n                            <p class=\"swag-migration-wizard__description\">\n                                {{ $tc('swag-migration.wizard.pages.connectionSelect.contentInformation') }}\n                            </p>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_wizard_page_select_profile_selection %}\n                    <div class=\"swag-migration-wizard__form\">\n                        <mt-select\n                                         v-model:model-value=\"selectedConnectionId\"\n                                         :options=\"connections\"\n                                         :label=\"$tc('swag-migration.wizard.pages.connectionSelect.connectionLabel')\"\n                                         :placeholder=\"$tc('swag-migration.wizard.pages.connectionSelect.connectionPlaceholder')\"\n                                         @update:model-value=\"onConnectionSelected\"\n                        />\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}\n","import template from './swag-migration-wizard-page-connection-select.html.twig';\n\nconst { Component } = Shopware;\nconst { Criteria } = Shopware.Data;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-wizard-page-connection-select', {\n    template,\n\n    inject: {\n        repositoryFactory: 'repositoryFactory',\n    },\n\n    emits: ['onChildRouteReadyChanged', 'onConnectionSelected'],\n\n    props: {\n        currentConnectionId: {\n            type: String,\n            default: '',\n        },\n    },\n\n    data() {\n        return {\n            selectedConnectionId: null,\n            connections: [],\n            context: Shopware.Context.api,\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        migrationConnectionRepository() {\n            return this.repositoryFactory.create('swag_migration_connection');\n        },\n    },\n\n    watch: {\n        currentConnectionId: {\n            immediate: true,\n            handler(newConnectionId) {\n                this.selectedConnectionId = newConnectionId;\n                this.onConnectionSelected();\n            },\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.$emit('onChildRouteReadyChanged', false);\n            const criteria = new Criteria(1, 100);\n\n            return this.migrationConnectionRepository.search(criteria, this.context).then((items) => {\n                this.connections = items;\n                this.onConnectionSelected();\n            });\n        },\n\n        onConnectionSelected() {\n            const connection = this.connections.find((con) => {\n                return con.id === this.selectedConnectionId;\n            });\n\n            if (connection) {\n                this.$emit('onChildRouteReadyChanged', true);\n                this.$emit('onConnectionSelected', connection);\n            } else {\n                this.$emit('onChildRouteReadyChanged', false);\n            }\n        },\n    },\n});\n","{% block swag_migration_wizard_page_create_profile %}\n    <div class=\"swag-migration-wizard swag-migration-wizard-page-create-profile\">\n\n        {% block swag_migration_wizard_page_create_profile_content %}\n            <div v-if=\"!isLoading\"\n                 class=\"swag-migration-wizard__content\">\n\n                {% block swag_migration_wizard_page_create_profile_information %}\n                    <div class=\"swag-migration-wizard__content-information\">\n\n                        {% block swag_migration_wizard_page_create_profile_content_information %}\n                            <p class=\"swag-migration-wizard__description\">\n                                {{ $tc('swag-migration.wizard.pages.connectionCreate.contentInformation') }}\n                            </p>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_wizard_page_create_profile_selection %}\n                    <div class=\"swag-migration-wizard__form\">\n                        <mt-banner v-if=\"profileHint\">\n                            {{ profileHint }}\n                        </mt-banner>\n\n                        <mt-text-field v-model:model-value=\"selection.connectionName\"\n                                       v-autofocus\n                                       :label=\"$tc('swag-migration.wizard.pages.connectionCreate.connectionLabel')\"\n                                       :placeholder=\"$tc('swag-migration.wizard.pages.connectionCreate.connectionPlaceholder')\"\n                                       validation=\"required\"\n                                       :help-text=\"$tc('swag-migration.wizard.pages.connectionCreate.connectionTooltip')\"\n                                       :error=\"connectionNameError\"\n                                       @update:model-value=\"onChangeConnectionName\"\n                        />\n\n                        <sw-single-select v-model:value=\"selection.profile\"\n                                          :label=\"$tc('swag-migration.wizard.pages.connectionCreate.profileLabel')\"\n                                          :placeholder=\"$tc('swag-migration.wizard.pages.connectionCreate.profilePlaceholder')\"\n                                          :popover-classes=\"['swag-migration-wizard-page-create-profile']\"\n                                          :popover-config=\"{active: true, resizeWidth: true, style: { zIndex: 1000, marginLeft: '8px' }}\"\n                                          :options=\"profiles\"\n                                          value-property=\"name\"\n                                          :search-function=\"profileSearch\"\n                                          validation=\"required\"\n                                          @update:value=\"onSelectProfile\"\n                        >\n\n                            {% block swag_migration_wizard_page_create_profile_form_profile_field_options %}\n                                <template #selection-label-property=\"{ item: singleSelection, labelProperty, valueProperty, searchTerm, getKey }\">\n                                    <span v-html=\"getText(singleSelection)\"></span>\n                                </template>\n\n                                <template #result-label-property=\"{ item, index, labelProperty, valueProperty, searchTerm, highlightSearchTerm, getKey }\">\n                                    <div v-if=\"item.name === 'profileLink'\"\n                                         class=\"swag-migration-wizard-create-connection__install-profile-link-wrapper\">\n                                        <div>\n                                            {{ $tc('swag-migration.wizard.pages.connectionCreate.profileInstall') }}\n                                        </div>\n                                        <div>\n                                            <mt-icon name=\"regular-chevron-right-xs\"\n                                                     size=\"16\" />\n                                        </div>\n                                    </div>\n                                    <span v-else\n                                          v-html=\"getText(item)\">\n                                    </span>\n                                </template>\n                            {% endblock %}\n                        </sw-single-select>\n\n                        <sw-single-select v-model:value=\"selection.gateway\"\n                                          :label=\"$tc('swag-migration.wizard.pages.connectionCreate.gatewayLabel')\"\n                                          :placeholder=\"$tc('swag-migration.wizard.pages.connectionCreate.gatewayPlaceholder')\"\n                                          :help-text=\"$tc('swag-migration.wizard.pages.connectionCreate.gatewayTooltip')\"\n                                          :popover-classes=\"['swag-migration-wizard-page-create-profile']\"\n                                          :popover-config=\"{active: true, resizeWidth: true, style: { zIndex: 1000, marginLeft: '8px' }}\"\n                                          :options=\"gateways\"\n                                          value-property=\"name\"\n                                          :search-function=\"gatewaySearch\"\n                                          validation=\"required\"\n                                          @update:value=\"onSelectGateway\">\n\n                            {% block swag_migration_wizard_page_create_profile_form_gateway_field_options %}\n                                <template #selection-label-property=\"{ item: singleSelection, labelProperty, valueProperty, searchTerm, getKey }\">\n                                    {{ $tc(singleSelection.snippet) }}\n                                </template>\n\n                                <template #result-label-property=\"{ item, index, labelProperty, valueProperty, searchTerm, highlightSearchTerm, getKey }\">\n                                    {{ $tc(item.snippet) }}\n                                </template>\n                            {% endblock %}\n                        </sw-single-select>\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}\n","import template from './swag-migration-wizard-page-connection-create.html.twig';\nimport './swag-migration-wizard-page-connection-create.scss';\n\nconst { Component } = Shopware;\nconst ShopwareError = Shopware.Classes.ShopwareError;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-wizard-page-connection-create', {\n    template,\n\n    inject: {\n        /** @var {MigrationApiService} migrationApiService */\n        migrationApiService: 'migrationApiService',\n    },\n\n    emits: ['onIsLoadingChanged', 'onProfileSelected', 'onChangeConnectionName', 'onChildRouteReadyChanged'],\n\n    props: {\n        connectionNameErrorCode: {\n            type: String,\n            default: '',\n            required: false,\n        },\n    },\n\n    data() {\n        return {\n            isLoading: true,\n            selection: {\n                profile: null,\n                gateway: null,\n                connectionName: null,\n            },\n            profiles: [],\n            gateways: [],\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        isReady() {\n            return (\n                this.selection.profile !== null &&\n                this.selection.gateway !== null &&\n                this.selection.connectionName !== null &&\n                this.selection.connectionName.length > 0\n            );\n        },\n\n        connectionNameError() {\n            if (this.connectionNameErrorCode === '') {\n                return null;\n            }\n\n            return new ShopwareError({\n                code: this.connectionNameErrorCode,\n            });\n        },\n\n        profileHint() {\n            if (!this.selection.gateway) {\n                return '';\n            }\n\n            const snippet = `swag-migration.wizard.pages.connectionCreate.hint.${this.selection.gateway}`;\n            if (this.$tc(snippet) !== `swag-migration.wizard.pages.connectionCreate.hint.${this.selection.gateway}`) {\n                return this.$tc(snippet);\n            }\n\n            return '';\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        async createdComponent() {\n            this.setIsLoading(true);\n            this.emitOnChildRouteReadyChanged(false);\n\n            this.profiles = await this.migrationApiService.getProfiles();\n            this.pushLinkToProfiles();\n            await this.selectDefaultProfile();\n            this.setIsLoading(false);\n        },\n\n        pushLinkToProfiles() {\n            this.profiles.push({\n                name: 'profileLink',\n            });\n        },\n\n        profileSearch(searchParams) {\n            const searchTerm = searchParams.searchTerm;\n            return searchParams.options.filter(option => {\n                const label = `${option.sourceSystemName} ${option.version} - ${option.author}`;\n                return label.toLowerCase().includes(searchTerm.toLowerCase());\n            });\n        },\n\n        gatewaySearch(searchParams) {\n            const searchTerm = searchParams.searchTerm;\n            return searchParams.options.filter(option => {\n                const label = this.$tc(option.snippet);\n                return label.toLowerCase().includes(searchTerm.toLowerCase());\n            });\n        },\n\n        getText(item) {\n            return `${item.sourceSystemName} ${item.version} - <i>${item.author}</i>`;\n        },\n\n        async selectDefaultProfile() {\n            await this.onSelectProfile('shopware55');\n            this.onSelectGateway('api');\n        },\n\n        setIsLoading(value) {\n            this.isLoading = value;\n            this.$emit('onIsLoadingChanged', this.isLoading);\n        },\n\n        onSelectProfile(value) {\n            if (value === null || value === undefined) {\n                return Promise.resolve();\n            }\n\n            if (value === 'profileLink') {\n                this.$router.push({ name: 'swag.migration.wizard.profileInstallation' });\n                return Promise.resolve();\n            }\n\n            this.selection.profile = value;\n\n            return new Promise((resolve) => {\n                this.emitOnChildRouteReadyChanged(false);\n                this.gateways = [];\n                this.selection.gateway = null;\n\n                if (this.selection.profile !== null) {\n                    this.migrationApiService.getGateways(this.selection.profile).then((gateways) => {\n                        this.gateways = gateways;\n                        this.selection.gateway = null;\n\n                        if (this.gateways.length === 1) {\n                            this.$nextTick(() => {\n                                this.selection.gateway = this.gateways[0].name;\n                                this.emitOnChildRouteReadyChanged(this.isReady);\n                            });\n                        }\n\n                        this.emitOnChildRouteReadyChanged(this.isReady);\n                        resolve();\n                    });\n                }\n            });\n        },\n\n        onSelectGateway(value) {\n            if (value !== null && value !== undefined) {\n                this.selection.gateway = value;\n            }\n\n            this.emitOnChildRouteReadyChanged(false);\n            this.$emit('onProfileSelected', this.selection);\n            this.emitOnChildRouteReadyChanged(this.isReady);\n        },\n\n        onChangeConnectionName(value) {\n            this.$emit('onChangeConnectionName', value);\n            this.emitOnChildRouteReadyChanged(this.isReady);\n        },\n\n        emitOnChildRouteReadyChanged(isReady) {\n            this.$emit('onChildRouteReadyChanged', isReady);\n        },\n    },\n});\n","{% block swag_migration_wizard_page_profile_information %}\n    <div>\n\n        {% block swag_migration_wizard_page_profile_information_component %}\n            <component :is=\"profileInformationComponent\"\n                       v-if=\"profileInformationComponent !== '' && componentIsLoaded\" />\n        {% endblock %}\n    </div>\n{% endblock %}","import template from './swag-migration-wizard-page-profile-information.html.twig';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-wizard-page-profile-information', {\n    template,\n\n    props: {\n        profileInformationComponent: {\n            type: String,\n            default: '',\n        },\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        componentIsLoaded() {\n            return Component.getComponentRegistry().has(this.profileInformationComponent);\n        },\n    },\n});\n","{% block swag_migration_wizard_page_credentials %}\n    <div class=\"swag-migration-wizard-page-credentials\">\n\n        {% block swag_migration_wizard_page_credentials_forms %}\n            <component :is=\"credentialsComponent\"\n                       v-if=\"credentialsComponent !== '' && componentIsLoaded\"\n                       :credentials=\"credentials\"\n                       @on-credentials-changed=\"$emit('onCredentialsChanged', $event)\"\n                       @on-child-route-ready-changed=\"$emit('onChildRouteReadyChanged', $event)\"\n                       @on-trigger-primary-click=\"$emit('onTriggerPrimaryClick')\" />\n        {% endblock %}\n\n        {% block swag_migration_wizard_page_credentials_no_form_found %}\n            <template v-else>\n                <div class=\"swag-migration-wizard-page-credentials__empty_state\">\n                    {% block swag_migration_wizard_page_credentials_no_form_found_content %}\n                        <p class=\"swag-migration-wizard__emptyStateDescription\">\n                            {{ $tc('swag-migration.wizard.pages.credentials.emptyState') }}\n                        </p>\n                    {% endblock %}\n                </div>\n            </template>\n        {% endblock %}\n    </div>\n{% endblock %}\n","import template from './swag-migration-wizard-page-credentials.html.twig';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-wizard-page-credentials', {\n    template,\n\n    emits: ['onCredentialsChanged', 'onChildRouteReadyChanged', 'onTriggerPrimaryClick'],\n\n    props: {\n        credentialsComponent: {\n            type: String,\n            default: '',\n        },\n\n        credentials: {\n            type: Object,\n            default() {\n                return {};\n            },\n        },\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        componentIsLoaded() {\n            return Component.getComponentRegistry().has(this.credentialsComponent);\n        },\n    },\n});\n","{% block swag_migration_wizard_page_credentials_success %}\n    <div class=\"swag-migration-wizard swag-migration-wizard-page-credentials-success\">\n\n        {% block swag_migration_wizard_page_success_error_alert %}\n            <mt-banner v-if=\"errorMessageSnippet !== ''\"\n                      id=\"alert-error-message\"\n                      class=\"swag-migration-wizard-page-credentials-success__alert\"\n                      variant=\"attention\">\n                {{ $tc(errorMessageSnippet) }}\n            </mt-banner>\n        {% endblock %}\n\n        {% block swag_migration_wizard_page_credentials_success_content %}\n            <div class=\"swag-migration-wizard__content\">\n\n                {% block swag_migration_wizard_page_credentials_success_information %}\n                    <div class=\"swag-migration-wizard__content-information\">\n\n                        {% block swag_migration_wizard_page_credentials_success_bubble %}\n                            <div v-if=\"errorMessageSnippet === ''\"\n                                 class=\"swag-migration-wizard__bubble swag-migration-wizard__bubble--success\">\n                                <mt-icon class=\"swag-migration-wizard__success-icon\"\n                                         name=\"regular-thumbs-up\"\n                                         size=\"36px\"\n                                         decorative />\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_credentials_success_title %}\n                            <h3 class=\"swag-migration-wizard__information-header\">\n                                {{ $tc('swag-migration.wizard.pages.credentials.success.contentTitle') }}\n                            </h3>\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_credentials_success_api_hint %}\n                            {{ $tc('swag-migration.wizard.pages.credentials.success.contentInformation') }}\n                        {% endblock %}\n\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}\n","import template from './swag-migration-wizard-page-credentials-success.html.twig';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-wizard-page-credentials-success', {\n    template,\n\n    props: {\n        errorMessageSnippet: {\n            type: String,\n            default: '',\n            required: false,\n        },\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n});\n","{% block swag_migration_wizard_page_credentials_error %}\n    <div class=\"swag-migration-wizard swag-migration-wizard-page-credentials-error\">\n\n        {% block swag_migration_wizard_page_credentials_error_content %}\n        <div class=\"swag-migration-wizard__content\">\n\n            {% block swag_migration_wizard_page_credentials_error_information %}\n            <div class=\"swag-migration-wizard__content-information\">\n\n                {% block swag_migration_wizard_page_credentials_success_bubble %}\n                    <div class=\"swag-migration-wizard__bubble swag-migration-wizard__bubble--warning\">\n                        <mt-icon class=\"swag-migration-wizard__warning-icon\"\n                                 name=\"regular-exclamation-triangle\"\n                                 size=\"36px\"\n                                 decorative />\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_wizard_page_credentials_error_title %}\n                    <h3 class=\"swag-migration-wizard__information-header\">\n                        {{ $tc('swag-migration.wizard.pages.credentials.error.contentTitle') }}\n                    </h3>\n                {% endblock %}\n\n                {% block swag_migration_wizard_page_credentials_error_api_hint %}\n                    <template v-if=\"errorMessageSnippet !== ''\">\n                        <p class=\"swag-migration-wizard__description\">\n                            {{ $tc(errorMessageSnippet) }}\n                        </p>\n                        <mt-banner\n                            v-if=\"errorMessageHintSnippet\"\n                            class=\"swag-migration-wizard__description-hint\"\n                            :variant=\"errorMessageHintSnippetType\"\n                        >\n                            {{ $tc(errorMessageHintSnippet) }}\n                        </mt-banner>\n                    </template>\n                {% endblock %}\n            </div>\n            {% endblock %}\n        </div>\n        {% endblock %}\n\n    </div>\n{% endblock %}\n","import template from './swag-migration-wizard-page-credentials-error.html.twig';\nimport './swag-migration-wizard-page-credentials-error.scss';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-wizard-page-credentials-error', {\n    template,\n\n    props: {\n        errorMessageSnippet: {\n            type: String,\n            default: '',\n            required: false,\n        },\n\n        errorMessageHintSnippet: {\n            type: String,\n            default: null,\n            required: false,\n        },\n\n        errorMessageHintType: {\n            type: String,\n            default: 'info',\n            required: false,\n            validValues: ['info', 'warning', 'error', 'success', 'neutral'],\n            validator(value) {\n                return ['info', 'warning', 'error', 'success', 'neutral'].includes(value);\n            },\n        },\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n});\n","{% block swag_migration_history %}\n    <mt-card class=\"swag-migration-history\"\n             :is-loading=\"isLoading\"\n             :large=\"true\"\n             position-identifier=\"swag-migration-history\">\n        <template #grid>\n\n            {% block swag_migration_history_grid %}\n                <sw-data-grid v-if=\"migrationRuns.length > 0\"\n                              identifier=\"swag-migration-history\"\n                              :data-source=\"migrationRuns\"\n                              :columns=\"migrationColumns\"\n                              :show-selection=\"false\"\n                              :show-settings=\"true\"\n                              :allow-column-edit=\"true\"\n                              :sort-by=\"sortBy\"\n                              :sort-direction=\"sortDirection\"\n                              @column-sort=\"onSortColumn\">\n\n                    {% block swag_migration_history_grid_column_status %}\n                        <template #column-step=\"{ item }\">\n                            <mt-icon v-if=\"item.step === 'finished'\"\n                                     class=\"swag-migration-history__status-icon swag-migration-history__status-icon--finished\"\n                                     name=\"regular-checkmark\"\n                                     size=\"16px\" />\n                            <mt-icon v-else-if=\"item.step === 'aborted'\"\n                                     class=\"swag-migration-history__status-icon swag-migration-history__status-icon--aborted\"\n                                     name=\"regular-times\"\n                                     size=\"16px\" />\n                            <mt-icon v-else-if=\"item.step === 'running'\"\n                                     class=\"swag-migration-history__status-icon swag-migration-history__status-icon--loading\"\n                                     name=\"regular-circle\"\n                                     size=\"16px\" />\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_grid_column_profile %}\n                        <template #column-connection.profile=\"{ item }\">\n                            {{ item.connection.profileName }} /\n                            {{ item.connection.gatewayName }}\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_grid_column_createdAt %}\n                        <template #column-createdAt=\"{ item }\">\n                            {{ dateFilter(item.createdAt, migrationDateOptions) }}\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_grid_column_sourceSystemName %}\n                        <template #column-environmentInformation.sourceSystemName=\"{ item }\">\n                            {{ item.environmentInformation.sourceSystemName }}\n                            {{ item.environmentInformation.sourceSystemVersion }}\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_grid_actions %}\n                        <template #actions=\"{ item }\">\n                            <sw-context-menu-item :router-link=\"{ name: 'swag.migration.index.history.detail', params:{ id:item.id } }\">\n                                {{ $tc('swag-migration.history.contextMenu.details') }}\n                            </sw-context-menu-item>\n                            <sw-context-menu-item @click=\"onContextDownloadLogFile(item.id)\">\n                                {{ $tc('swag-migration.history.contextMenu.downloadLogs') }}\n                            </sw-context-menu-item>\n                            <sw-context-menu-item variant=\"danger\"\n                                                  :disabled=\"isMediaProcessing\"\n                                                  @click=\"onContextClearRunClicked(item.id)\">\n                                {{ $tc('swag-migration.history.contextMenu.clearLogs') }}\n                            </sw-context-menu-item>\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_grid_pagination %}\n                        <template #pagination>\n                                <sw-pagination :page=\"page\"\n                                               :limit=\"limit\"\n                                               :total=\"total\"\n                                               :total-visible=\"7\"\n                                               @page-change=\"onPageChange\" />\n                        </template>\n                    {% endblock %}\n\n                </sw-data-grid>\n            {% endblock %}\n\n            {% block swag_migration_history_no_data %}\n                <div v-if=\"migrationRuns.length === 0\"\n                     class=\"swag-migration-history__no-data\">\n                    <p class=\"swag-migration-history__no-data-label\">\n                        {{ $tc('swag-migration.history.noData') }}\n                    </p>\n                </div>\n            {% endblock %}\n\n            {% block swag_migration_history_router_view %}\n                <router-view />\n            {% endblock %}\n\n            {% block swag_migration_history_log_download_form %}\n                <form ref=\"downloadLogsOfRunForm\"\n                      class=\"swag-migration-history-detail-errors__download-form\"\n                      :action=\"logDownloadEndpoint\"\n                      method=\"POST\">\n                    <input type=\"hidden\"\n                           name=\"runUuid\"\n                           :value=\"runIdForLogDownload\">\n                </form>\n            {% endblock %}\n\n            {% block swag_migration_history_run_clear_confirm_modal %}\n                <sw-modal v-if=\"showRunClearConfirmModal\"\n                          class=\"swag-migration-history__run-clear-confirm-modal\"\n                          :title=\"$tc('swag-migration.history.clearRunDialog.title')\"\n                          :is-loading=\"runClearConfirmModalIsLoading\"\n                          size=\"460px\"\n                          @modal-close=\"showRunClearConfirmModal = false\">\n\n                    {% block swag_migration_history_run_clear_confirm_modal_content %}\n                        <p class=\"swag-migration-history__run-clear-confirm-modal-content\">\n                            {{ $tc('swag-migration.history.clearRunDialog.content') }}\n                        </p>\n                    {% endblock %}\n\n                    {% block swag_migration_history_run_clear_confirm_modal_content_hint %}\n                        <p class=\"swag-migration-history__run-clear-confirm-modal-content-hint\">\n                            {{ $tc('swag-migration.history.clearRunDialog.contentHint') }}\n                        </p>\n                    {% endblock %}\n\n                    {% block swag_migration_history_run_clear_confirm_modal_footer %}\n                        <template #modal-footer>\n\n                            {% block swag_migration_history_run_clear_confirm_modal_abort %}\n                                <mt-button size=\"small\"\n                                           variant=\"secondary\"\n                                           :disabled=\"runClearConfirmModalIsLoading\"\n                                           @click=\"showRunClearConfirmModal = false\">\n                                    {{ $tc('global.default.cancel') }}\n                                </mt-button>\n                            {% endblock %}\n\n                            {% block swag_migration_history_run_clear_confirm_modal_confirm %}\n                                <mt-button size=\"small\"\n                                           variant=\"primary\"\n                                           :disabled=\"runClearConfirmModalIsLoading\"\n                                           @click=\"onClearRunConfirmed\">\n                                    {{ $tc('global.default.delete') }}\n                                </mt-button>\n                            {% endblock %}\n\n                        </template>\n                    {% endblock %}\n\n                </sw-modal>\n            {% endblock %}\n\n        </template>\n    </mt-card>\n{% endblock %}\n","import template from './swag-migration-history.html.twig';\nimport './swag-migration-history.scss';\n\nconst { Component, Mixin } = Shopware;\nconst { Criteria } = Shopware.Data;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-history', {\n    template,\n\n    inject: {\n        repositoryFactory: 'repositoryFactory',\n        /** @var {MigrationApiService} migrationApiService */\n        migrationApiService: 'migrationApiService',\n    },\n\n    mixins: [\n        Mixin.getByName('listing'),\n        Mixin.getByName('notification'),\n    ],\n\n    data() {\n        return {\n            isLoading: false,\n            migrationRuns: [],\n            migrationDateOptions: {\n                hour: '2-digit',\n                minute: '2-digit',\n                second: '2-digit',\n            },\n            sortBy: 'createdAt',\n            sortDirection: 'DESC',\n            oldParams: {},\n            context: Shopware.Context.api,\n            logDownloadEndpoint: '',\n            runIdForLogDownload: '',\n            runIdForRunClear: '',\n            showRunClearConfirmModal: false,\n            runClearConfirmModalIsLoading: false,\n            isMediaProcessing: true,\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        migrationRunRepository() {\n            return this.repositoryFactory.create('swag_migration_run');\n        },\n\n        migrationColumns() {\n            return this.getMigrationColumns();\n        },\n\n        dateFilter() {\n            return Shopware.Filter.getByName('date');\n        },\n    },\n\n    created() {\n        this.migrationApiService.isMediaProcessing().then((response) => {\n            this.isMediaProcessing = response.data;\n        });\n        this.logDownloadEndpoint = '/api/_action/' +\n            `${this.migrationApiService.getApiBasePath()}/download-logs-of-run`;\n    },\n\n    methods: {\n        getMigrationColumns() {\n            return [\n                {\n                    property: 'connection.name',\n                    dataIndex: 'connection.name',\n                    label: this.$tc('swag-migration.history.connectionName'),\n                    primary: true,\n                    allowResize: true,\n                },\n                {\n                    property: 'environmentInformation.sourceSystemDomain',\n                    dataIndex: 'environmentInformation.sourceSystemDomain',\n                    label: this.$tc('swag-migration.history.shopDomain'),\n                    visible: false,\n                    allowResize: true,\n                },\n                {\n                    property: 'environmentInformation.sourceSystemName',\n                    dataIndex: 'environmentInformation.sourceSystemName',\n                    label: this.$tc('swag-migration.history.shopSystem'),\n                    visible: false,\n                    allowResize: true,\n                },\n                {\n                    property: 'connection.profile',\n                    dataIndex: 'connection.profileName',\n                    label: this.$tc('swag-migration.history.profileAndGateway'),\n                    allowResize: true,\n                },\n                {\n                    property: 'step',\n                    dataIndex: 'step',\n                    label: this.$tc('swag-migration.history.status'),\n                    align: 'center',\n                    allowResize: true,\n                },\n                {\n                    property: 'createdAt',\n                    dataIndex: 'createdAt',\n                    label: this.$tc('swag-migration.history.importDateTime'),\n                    align: 'right',\n                    allowResize: true,\n                },\n            ];\n        },\n\n        getList() {\n            this.isLoading = true;\n\n            const params = this.normalizeListingParams(\n                this.getMainListingParams(),\n            );\n\n            if (JSON.stringify(this.oldParams) === JSON.stringify(params)) {\n                // Do not request the data again if the parameters don't change.\n                // For example if the detail window (child route) is opened.\n                this.isLoading = false;\n                return Promise.resolve(this.migrationRuns);\n            }\n\n            this.oldParams = params;\n            const criteria = new Criteria(params.page, params.limit);\n            criteria.addSorting(Criteria.sort(params.sortBy, params.sortDirection, params.naturalSorting));\n\n            return this.migrationRunRepository.search(criteria, this.context).then((runs) => {\n                this.total = runs.total;\n                this.migrationRuns = runs;\n                this.isLoading = false;\n\n                return this.migrationRuns;\n            });\n        },\n\n        /**\n         * This will convert string values to int values in the param object.\n         * It is needed because Vue Routers '$router.go(-1)' method will mix up\n         * the types of the original params object for integers to strings.\n         *\n         * @param {Object} params\n         * @returns {Object}\n         */\n        normalizeListingParams(params) {\n            params.limit = parseInt(params.limit, 10);\n            params.page = parseInt(params.page, 10);\n\n            return params;\n        },\n\n        onContextDownloadLogFile(runId) {\n            this.runIdForLogDownload = runId;\n            this.$nextTick(() => {\n                this.$refs.downloadLogsOfRunForm.submit();\n            });\n        },\n\n        clearDataOfRun(runId) {\n            this.runClearConfirmModalIsLoading = true;\n            return this.migrationApiService.clearDataOfRun(runId).then(() => {\n                this.showRunClearConfirmModal = false;\n                this.runClearConfirmModalIsLoading = false;\n                this.$router.go();\n            }).catch(() => {\n                this.createNotificationError({\n                    message: this.$t(\n                        'swag-migration.index.shopInfoCard.resetMigrationConfirmDialog.errorNotification.message',\n                    ),\n                    growl: true,\n                });\n            });\n        },\n\n        onContextClearRunClicked(runId) {\n            this.runIdForRunClear = runId;\n            this.showRunClearConfirmModal = true;\n        },\n\n        onClearRunConfirmed() {\n            this.clearDataOfRun(this.runIdForRunClear);\n        },\n    },\n});\n","{% block swag_migration_history_detail %}\n    <div class=\"swag-migration-history-detail\">\n        <sw-modal v-if=\"showModal\"\n                  class=\"swag-migration-history-detail__modal\"\n                  size=\"800px\"\n                  :title=\"$tc('swag-migration.history.detailPage.title')\"\n                  :is-loading=\"isLoading\"\n                  @modal-close=\"onCloseModal\">\n\n            {% block swag_migration_history_detail_modal_content %}\n                <div v-if=\"isLoading\"\n                     class=\"swag-migration-history-detail__loading-placeholder\">\n                </div>\n                <div v-if=\"!isLoading\"\n                     class=\"swag-migration-history-detail__content\">\n\n                    {% block swag_migration_history_detail_header %}\n                        <div class=\"swag-migration-history-detail__header\">\n\n                            {% block swag_migration_history_detail_connectin_avatar %}\n                                <template v-if=\"profileIcon !== null && profileIcon !== ''\">\n                                    <img class=\"swag-migration-shop-information__profile-avatar\"\n                                         :src=\"assetFilter(profileIcon)\"\n                                         alt=\"\"\n                                         size=\"80px\">\n                                </template>\n\n                                <template v-else>\n                                    <img class=\"swag-migration-shop-information__profile-avatar\"\n                                         :src=\"assetFilter('/swagmigrationassistant/administration/static/img/migration-assistant-plugin.svg')\"\n                                         alt=\"\"\n                                         size=\"80px\">\n                                </template>\n                            {% endblock %}\n\n                            {% block swag_migration_history_detail_connection_info %}\n                                <div class=\"swag-migration-history-detail__connection-info\">\n\n                                    {% block swag_migration_history_detail_shop_system %}\n                                        <div class=\"swag-migration-history-detail__connection-name\">\n                                            {{ connectionName }}\n                                        </div>\n                                    {% endblock %}\n\n                                    {% block swag_migration_history_detail_shop_domain %}\n                                        <div v-if=\"shopUrl !== ''\"\n                                             class=\"swag-migration-history-detail__shop-domain\">\n                                                        <span class=\"swag-migration-history-detail__shop-domain-prefix\"\n                                                              :class=\"shopUrlPrefixClass\">\n                                                            <mt-icon v-if=\"sslActive\"\n                                                                     class=\"swag-migration-history-detail__shop-domain-prefix-icon\"\n                                                                     name=\"regular-lock\"\n                                                                     size=\"12px\" />\n                                                            <mt-icon v-else\n                                                                     class=\"swag-migration-history-detail__shop-domain-prefix-icon\"\n                                                                     name=\"regular-lock-open-s\"\n                                                                     size=\"12px\" />\n                                                            {{ shopUrlPrefix }}</span>{{ shopUrl }}\n                                        </div>\n                                    {% endblock %}\n\n                                    {% block swag_migration_history_detail_profile %}\n                                        <div class=\"swag-migration-history-detail__profile\">\n                                            {{ profileName }} / {{ gatewayName }}\n                                        </div>\n                                    {% endblock %}\n                                </div>\n                            {% endblock %}\n\n                            {% block swag_migration_history_detail_run_info %}\n                                <div class=\"swag-migration-history-detail__run-info\">\n                                    <div class=\"swag-migration-history-detail__run-timestamp-label\">\n                                        {{ $tc('swag-migration.history.detailPage.timestamp') }}\n                                    </div>\n                                    <div class=\"swag-migration-history-detail__run-timestamp-value\">\n                                        {{ dateFilter(migrationRun.createdAt, migrationDateOptions) }}\n                                    </div>\n\n                                    <div class=\"swag-migration-history-detail__run-status-label\">\n                                        {{ $tc('swag-migration.history.detailPage.runStatus') }}\n                                    </div>\n                                    <div class=\"swag-migration-history-detail__run-status-value\"\n                                         :class=\"runStatusClasses\">\n                                        {{ $tc(runStatusSnippet) }}\n                                    </div>\n                                </div>\n                            {% endblock %}\n                        </div>\n                    {% endblock %}\n\n                    {% block swag_migration_history_detail_body %}\n                        <div class=\"swag-migration-history-detail__body\">\n\n                            {% block swag_migration_history_detail_body_tabs %}\n                                <sw-tabs\n                                    ref=\"tabReference\"\n                                    position-identifier=\"swag-migration-history-detail-body-tabs\"\n                                    @new-item-active=\"newActiveTabItem\"\n                                >\n\n                                    {% block swag_migration_history_detail_body_tabs_data %}\n                                        <sw-tabs-item ref=\"dataTabItem\"\n                                                      name=\"data\">\n                                            {{ $tc('swag-migration.history.detailPage.data') }}\n                                        </sw-tabs-item>\n                                    {% endblock %}\n\n                                    {% block swag_migration_history_detail_body_tabs_errors %}\n                                        <sw-tabs-item ref=\"errorsTabItem\"\n                                                      name=\"errors\">\n                                            {{ $tc('swag-migration.history.detailPage.errors') }}\n                                        </sw-tabs-item>\n                                    {% endblock %}\n                                </sw-tabs>\n                            {% endblock %}\n\n                            {% block swag_migration_history_detail_body_data %}\n                                <swag-migration-history-detail-data v-show=\"currentTab === 'data'\"\n                                                                    :migration-run=\"migrationRun\" />\n                            {% endblock %}\n\n                            {% block swag_migration_history_detail_body_errors %}\n                                <swag-migration-history-detail-errors v-show=\"currentTab === 'errors'\"\n                                                                      :migration-run=\"migrationRun\" />\n                            {% endblock %}\n                        </div>\n                    {% endblock %}\n                </div>\n            {% endblock %}\n\n            {% block swag_migration_history_detail_footer %}\n                <template #modal-footer>\n                    <mt-button size=\"small\"\n                               variant=\"secondary\"\n                               @click=\"onCloseModal\">\n                        {{ $tc('swag-migration.history.detailPage.close') }}\n                    </mt-button>\n                </template>\n            {% endblock %}\n        </sw-modal>\n    </div>\n{% endblock %}\n","import template from './swag-migration-history-detail.html.twig';\nimport './swag-migration-history-detail.scss';\n\nconst { Component } = Shopware;\nconst { Criteria } = Shopware.Data;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-history-detail', {\n    template,\n\n    inject: {\n        /** @var {MigrationApiService} migrationApiService */\n        migrationApiService: 'migrationApiService',\n        repositoryFactory: 'repositoryFactory',\n    },\n\n    data() {\n        return {\n            runId: '',\n            migrationRun: {},\n            showModal: true,\n            isLoading: true,\n            migrationDateOptions: {\n                hour: '2-digit',\n                minute: '2-digit',\n                second: '2-digit',\n            },\n            currentTab: 'data',\n            context: Shopware.Context.api,\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        migrationRunRepository() {\n            return this.repositoryFactory.create('swag_migration_run');\n        },\n\n        shopFirstLetter() {\n            return this.migrationRun.environmentInformation.sourceSystemName === undefined ? 'S' :\n                this.migrationRun.environmentInformation.sourceSystemName[0];\n        },\n\n        profileIcon() {\n            return this.migrationRun.connection === null ||\n                this.migrationRun.connection.profile === undefined ||\n                this.migrationRun.connection.profile.icon === undefined ? null : this.migrationRun.connection.profile.icon;\n        },\n\n        connectionName() {\n            return this.migrationRun.connection === null ? '' :\n                this.migrationRun.connection.name;\n        },\n\n        shopUrl() {\n            return this.migrationRun.environmentInformation.sourceSystemDomain === undefined ? '' :\n                this.migrationRun.environmentInformation.sourceSystemDomain.replace(/^\\s*https?:\\/\\//, '');\n        },\n\n        shopUrlPrefix() {\n            if (this.migrationRun.environmentInformation.sourceSystemDomain === undefined) {\n                return '';\n            }\n\n            const match = this.migrationRun.environmentInformation.sourceSystemDomain.match(/^\\s*https?:\\/\\//);\n            if (match === null) {\n                return '';\n            }\n\n            return match[0];\n        },\n\n        sslActive() {\n            return (this.shopUrlPrefix === 'https://');\n        },\n\n        shopUrlPrefixClass() {\n            return this.sslActive ? 'swag-migration-shop-information__shop-domain-prefix--is-ssl' : '';\n        },\n\n        profileName() {\n            return this.migrationRun.connection === null ? '' :\n                this.migrationRun.connection.profileName;\n        },\n\n        gatewayName() {\n            return this.migrationRun.connection === null ? '' :\n                this.migrationRun.connection.gatewayName;\n        },\n\n        runStatusSnippet() {\n            return this.migrationRun.step === null ? '' :\n                `swag-migration.history.detailPage.status.${this.migrationRun.step}`;\n        },\n\n        runStatusClasses() {\n            return this.migrationRun.step === null ? '' :\n                `swag-migration-history-detail__run-status-value--${this.migrationRun.step}`;\n        },\n\n        assetFilter() {\n            return Shopware.Filter.getByName('asset');\n        },\n\n        dateFilter() {\n            return Shopware.Filter.getByName('date');\n        },\n    },\n\n    created() {\n        if (!this.$route.params.id) {\n            this.isLoading = false;\n            this.onCloseModal();\n            return Promise.resolve();\n        }\n\n        this.runId = this.$route.params.id;\n        const criteria = new Criteria(1, 1);\n        criteria.addFilter(Criteria.equals('id', this.runId));\n\n        return this.migrationRunRepository.search(criteria, this.context).then((runs) => {\n            if (runs.length < 1) {\n                this.isLoading = false;\n                this.onCloseModal();\n                return Promise.resolve();\n            }\n\n            this.migrationRun = runs.first();\n\n            return this.migrationApiService.getProfileInformation(\n                this.migrationRun.connection.profileName,\n                this.migrationRun.connection.gatewayName,\n            ).then((profileInformation) => {\n                this.migrationRun.connection.profile = profileInformation.profile;\n\n                this.isLoading = false;\n                this.$nextTick(() => {\n                    this.$refs.tabReference.setActiveItem(this.$refs.dataTabItem);\n                });\n            });\n        }).catch(() => {\n            this.isLoading = false;\n            this.onCloseModal();\n        });\n    },\n\n    methods: {\n        onCloseModal() {\n            this.showModal = false;\n            this.$nextTick(() => {\n                this.$router.go(-1);\n            });\n        },\n\n        newActiveTabItem(item) {\n            this.currentTab = item.name;\n        },\n    },\n});\n","{% block swag_migration_history_detail_errors %}\n    <div class=\"swag-migration-history-detail-errors\">\n        <div v-if=\"!isLoading\">\n\n            {% block swag_migration_history_detail_errors_grid %}\n                <sw-data-grid v-if=\"migrationErrors.length > 0\"\n                              identifier=\"swag-migration-history-detail-errors\"\n                              :data-source=\"migrationErrors\"\n                              :columns=\"columns\"\n                              :show-selection=\"false\"\n                              :show-settings=\"false\"\n                              :allow-column-edit=\"false\"\n                              :show-actions=\"false\"\n                              :sort-by=\"sortBy\"\n                              :sort-direction=\"sortDirection\"\n                              @column-sort=\"onSortColumn\">\n\n                    {% block swag_migration_history_detail_errors_grid_code%}\n                        <template #column-title=\"{ item }\">\n                            {{ item.title }}\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_detail_errors_grid_level %}\n                        <template #column-level=\"{ item }\">\n                            {{ item.level }}\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_detail_errors_grid_count %}\n                        <template #column-count=\"{ item }\">\n                            {{ item.count }}\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_detail_errors_grid_pagination %}\n                        <template #pagination>\n                            <sw-pagination :page=\"page\"\n                                           :limit=\"limit\"\n                                           :total=\"total\"\n                                           :steps=\"[5,10]\"\n                                           :total-visible=\"7\"\n                                           @page-change=\"onPageChange\" />\n                        </template>\n                    {% endblock %}\n                </sw-data-grid>\n            {% endblock %}\n\n            {% block swag_migration_history_detail_errors_noError %}\n                <p v-if=\"migrationErrors.length === 0\"\n                   class=\"swag-migration-history-detail-errors__no-error\">\n                    {{ $tc('swag-migration.history.detailPage.noErrorsOccurred') }}\n                </p>\n            {% endblock %}\n\n            {% block swag_migration_history_detail_errors_download_form %}\n                <form ref=\"downloadForm\"\n                      class=\"swag-migration-history-detail-errors__download-form\"\n                      :action=\"downloadUrl\"\n                      method=\"POST\">\n                    <input type=\"hidden\"\n                           name=\"runUuid\"\n                           :value=\"migrationRun.id\">\n                </form>\n            {% endblock %}\n\n            {% block swag_migration_history_detail_errors_description %}\n                <p class=\"swag-migration-history-detail-errors__description\">\n                    {{ $tc('swag-migration.history.detailPage.logDescription') }}\n\n                    <a class=\"link\"\n                       href=\"#\"\n                       @click.prevent=\"submitDownload\">\n                        {{ $tc('swag-migration.history.detailPage.logDownload') }}\n                    </a>\n                </p>\n            {% endblock %}\n\n        </div>\n\n        {% block swag_migration_history_detail_errors_noError__loader %}\n            <div v-if=\"isLoading\"\n                 class=\"swag-migration-history-detail-errors__loading-placeholder\"></div>\n            <mt-loader v-if=\"isLoading\" />\n        {% endblock %}\n\n    </div>\n{% endblock %}\n","import template from './swag-migration-history-detail-errors.html.twig';\nimport './swag-migration-history-detail-errors.scss';\n\nconst { Component, Mixin } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-history-detail-errors', {\n    template,\n\n    inject: {\n        /** @var {MigrationApiService} migrationApiService */\n        migrationApiService: 'migrationApiService',\n    },\n\n    mixins: [\n        Mixin.getByName('listing'),\n    ],\n\n    props: {\n        migrationRun: {\n            type: Object,\n            required: true,\n        },\n    },\n\n    data() {\n        return {\n            isLoading: true,\n            allMigrationErrors: null,\n            migrationErrors: [],\n            sortBy: 'level',\n            sortDirection: 'DESC',\n            disableRouteParams: true,\n            limit: 10,\n            downloadUrl: '',\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        columns() {\n            return [\n                {\n                    property: 'title',\n                    dataIndex: 'title',\n                    label: this.$tc('swag-migration.history.detailPage.errorCode'),\n                    primary: true,\n                    allowResize: true,\n                    sortable: true,\n                },\n                {\n                    property: 'level',\n                    dataIndex: 'level',\n                    label: this.$tc('swag-migration.history.detailPage.errorLevel'),\n                    primary: true,\n                    allowResize: true,\n                    sortable: true,\n                },\n                {\n                    property: 'count',\n                    dataIndex: 'count',\n                    label: this.$tc('swag-migration.history.detailPage.errorCount'),\n                    primary: true,\n                    allowResize: true,\n                    sortable: true,\n                },\n            ];\n        },\n    },\n\n    methods: {\n        async getList() {\n            this.isLoading = true;\n            const params = this.getMainListingParams();\n\n            if (this.allMigrationErrors === null) {\n                await this.loadAllMigrationErrors();\n            }\n\n            this.applySorting(params);\n\n            const startIndex = (params.page - 1) * this.limit;\n            const endIndex = Math.min((params.page - 1) * this.limit + this.limit, this.allMigrationErrors.length);\n            this.migrationErrors = [];\n            for (let i = startIndex; i < endIndex; i += 1) {\n                this.migrationErrors.push(this.allMigrationErrors[i]);\n            }\n\n            this.isLoading = false;\n            return this.migrationErrors;\n        },\n\n        loadAllMigrationErrors() {\n            return this.migrationApiService.getGroupedLogsOfRun(\n                this.migrationRun.id,\n            ).then((response) => {\n                this.total = response.total;\n                this.allMigrationErrors = response.items;\n                this.allMigrationErrors.forEach((item) => {\n                    item.title = this.$tc(this.getErrorTitleSnippet(item), { entity: item.entity }, 0);\n                });\n                this.downloadUrl = response.downloadUrl;\n                return this.allMigrationErrors;\n            });\n        },\n\n        applySorting(params) {\n            this.allMigrationErrors.sort((first, second) => {\n                if (params.sortDirection === 'ASC') {\n                    if (first[params.sortBy] < second[params.sortBy]) {\n                        return -1;\n                    }\n\n                    return 1;\n                }\n\n                if (first[params.sortBy] > second[params.sortBy]) {\n                    return -1;\n                }\n\n                return 1;\n            });\n        },\n\n        getErrorTitleSnippet(item) {\n            const snippetKey = item.titleSnippet;\n            if (this.$te(snippetKey)) {\n                return snippetKey;\n            }\n\n            return 'swag-migration.index.error.unknownError';\n        },\n\n        submitDownload() {\n            this.$refs.downloadForm.submit();\n        },\n    },\n});\n","{% block swag_migration_history_detail_data %}\n    <div class=\"swag-migration-history-detail-data\">\n        <div v-if=\"!isLoading\">\n\n            {% block swag_migration_history_detail_data_grid %}\n                <sw-data-grid v-if=\"migrationData.length > 0\"\n                              identifier=\"swag-migration-history-detail-data\"\n                              :data-source=\"migrationData\"\n                              :columns=\"columns\"\n                              :show-selection=\"false\"\n                              :show-settings=\"false\"\n                              :allow-column-edit=\"false\"\n                              :show-actions=\"false\"\n                              :sort-by=\"sortBy\"\n                              :sort-direction=\"sortDirection\"\n                              @column-sort=\"onSortColumn\">\n\n                    {% block swag_migration_history_detail_data_grid_name %}\n                        <template #column-name=\"{ item }\">\n                            {{ item.name }}\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_detail_data_grid_count %}\n                        <template #column-count=\"{ item }\">\n                            {{ item.total }}\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_detail_data_grid_pagination %}\n                        <template #pagination>\n                            <sw-pagination :page=\"page\"\n                                           :limit=\"limit\"\n                                           :total=\"total\"\n                                           :steps=\"[5,10]\"\n                                           :total-visible=\"7\"\n                                           @page-change=\"onPageChange\" />\n                        </template>\n                    {% endblock %}\n                </sw-data-grid>\n            {% endblock %}\n\n            {% block swag_migration_history_detail_data_noData %}\n                <p v-if=\"migrationData.length === 0\"\n                   class=\"swag-migration-history-detail-data__no-data\">\n                    {{ $tc('swag-migration.history.detailPage.noProgressData') }}\n                </p>\n            {% endblock %}\n        </div>\n\n        {% block swag_migration_history_detail_data_noError__loader %}\n            <div v-if=\"isLoading\"\n                 class=\"swag-migration-history-detail-data__loading-placeholder\"></div>\n            <mt-loader v-if=\"isLoading\" />\n        {% endblock %}\n    </div>\n{% endblock %}\n","import template from './swag-migration-history-detail-data.html.twig';\nimport './swag-migration-history-detail-data.scss';\n\nconst { Component, Mixin } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-history-detail-data', {\n    template,\n\n    mixins: [\n        Mixin.getByName('listing'),\n    ],\n\n    props: {\n        migrationRun: {\n            type: Object,\n            required: true,\n        },\n    },\n\n    data() {\n        return {\n            isLoading: true,\n            allMigrationData: [],\n            migrationData: [],\n            sortBy: 'createdAt',\n            sortDirection: 'DESC',\n            disableRouteParams: true,\n            limit: 10,\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        columns() {\n            return [\n                {\n                    property: 'name',\n                    label: this.$tc('swag-migration.history.detailPage.dataName'),\n                    primary: true,\n                    allowResize: true,\n                    sortable: false,\n                },\n                {\n                    property: 'count',\n                    label: this.$tc('swag-migration.history.detailPage.dataCount'),\n                    allowResize: true,\n                    sortable: false,\n                },\n            ];\n        },\n\n        entityGroups() {\n            if (!this.migrationRun.progress) {\n                return [];\n            }\n\n            return this.migrationRun.progress.dataSets.map((entitySelection) => {\n                let name = entitySelection.entityName;\n                if (this.$te(`swag-migration.index.selectDataCard.entities.${name}`)) {\n                    name = this.$tc(`swag-migration.index.selectDataCard.entities.${name}`);\n                }\n\n                return {\n                    id: entitySelection.entityName,\n                    name,\n                    total: entitySelection.total,\n                };\n            });\n        },\n    },\n\n    methods: {\n        getList() {\n            this.isLoading = true;\n\n            this.total = this.entityGroups.length;\n            const start = (this.page - 1) * this.limit;\n            const end = Math.min(start + this.limit, this.total);\n            this.migrationData = [];\n\n            // Copy the object references into the display items array (for pagination). Note: Array.slice dont work\n            for (let i = start; i < end; i += 1) {\n                this.migrationData.push(this.entityGroups[i]);\n            }\n\n            this.isLoading = false;\n            return this.items;\n        },\n    },\n});\n","{% block swag_migration_base_smart_bar_actions %}\n    {# <!-- eslint-disable-next-line vue/valid-v-slot --> #}\n    <template #smart-bar-actions>\n\n        {% block swag_migration_index_smart_bar_abort_button %}\n            <mt-button v-if=\"abortButtonVisible\"\n                       variant=\"secondary\"\n                       :disabled=\"abortButtonDisabled\"\n                       @click=\"onAbortButtonClick\">\n                {{ $tc('swag-migration.index.abortButton') }}\n            </mt-button>\n        {% endblock %}\n\n        {% block swag_migration_index_smart_bar_back_to_overview_button %}\n            <mt-button v-if=\"backToOverviewButtonVisible\"\n                       variant=\"primary\"\n                       :disabled=\"backToOverviewButtonDisabled\"\n                       @click=\"onContinueButtonClick\">\n                {{ $tc('swag-migration.index.backToOverviewButton') }}\n            </mt-button>\n        {% endblock %}\n\n    </template>\n{% endblock %}\n\n{% block swag_migration_base_content %}\n    {# <!-- eslint-disable-next-line vue/valid-v-slot --> #}\n    <template #content>\n        <sw-card-view v-if=\"!isLoading && !storesInitializing\"\n                      class=\"swag-migration-process-screen\">\n\n            {% block swag_migration_index_main_page_flow_chart %}\n                <sw-step-display v-if=\"displayFlowChart\"\n                                 class=\"swag-migration-process-screen__step-display\"\n                                 :item-index=\"flowChartItemIndex\"\n                                 :item-variant=\"flowChartItemVariant\"\n                                 :initial-item-variants=\"flowChartInitialItemVariants\">\n                    <sw-step-item>\n                        {{ $tc('swag-migration.index.loadingScreenCard.flowChart.fetchData') }}\n                    </sw-step-item>\n                    <sw-step-item>\n                        {{ $tc('swag-migration.index.loadingScreenCard.flowChart.writeData') }}\n                    </sw-step-item>\n                    <sw-step-item>\n                        {{ $tc('swag-migration.index.loadingScreenCard.flowChart.processMedia') }}\n                    </sw-step-item>\n                    <sw-step-item>\n                        {{ $tc('swag-migration.index.loadingScreenCard.flowChart.cleanup') }}\n                    </sw-step-item>\n                    <sw-step-item>\n                        {{ $tc('swag-migration.index.loadingScreenCard.flowChart.indexing') }}\n                    </sw-step-item>\n                    <sw-step-item disabled-icon=\"regular-checkmark-xs\">\n                        {{ $tc('swag-migration.index.loadingScreenCard.flowChart.finish') }}\n                    </sw-step-item>\n                </sw-step-display>\n            {% endblock %}\n\n            {% block swag_migration_index_main_page_card_loadingScreen %}\n                <swag-migration-loading-screen\n                    v-if=\"componentIndex === UI_COMPONENT_INDEX.LOADING_SCREEN\"\n                    :step=\"step\"\n                    :progress=\"progress\"\n                    :total=\"total\" />\n            {% endblock %}\n\n            {% block swag_migration_index_main_page_card_loadingScreen_success %}\n                <swag-migration-result-screen v-if=\"componentIndex === UI_COMPONENT_INDEX.RESULT_SUCCESS\" />\n            {% endblock %}\n\n            {% block swag_migration_index_main_page_modal_abort_migration_confirmDialog %}\n                <sw-modal v-if=\"showAbortMigrationConfirmDialog\"\n                          class=\"swag-migration-index-modal-abort-migration-confirm-dialog\"\n                          :title=\"$tc('swag-migration.index.confirmAbortDialog.title')\"\n                          variant=\"small\"\n                          @modal-close=\"onCloseAbortMigrationConfirmDialog\">\n\n                    {% block swag_migration_index_main_page_modal_abort_migration_confirmDialog_message %}\n                        <p class=\"swag-migration-index-modal-abort-migration-confirm-dialog-content\">\n                            {{ $tc('swag-migration.index.confirmAbortDialog.content') }}\n                        </p>\n                    {% endblock %}\n\n                    {% block swag_migration_index_main_page_modal_abort_migration_confirmDialog_message_hint %}\n                        <p class=\"swag-migration-index-modal-abort-migration-confirm-dialog-hint\">\n                            {{ $tc('swag-migration.index.confirmAbortDialog.hint') }}\n                        </p>\n                    {% endblock %}\n\n                    {% block swag_migration_index_main_page_modal_abort_migration_confirmDialog_footer %}\n                        <template #modal-footer>\n\n                            {% block swag_migration_index_main_page_modal_abort_migration_confirmDialog_footer_cancelAction %}\n                                <mt-button size=\"small\"\n                                           variant=\"secondary\"\n                                           @click=\"onCloseAbortMigrationConfirmDialog\">\n                                    {{ $tc('global.default.cancel') }}\n                                </mt-button>\n                            {% endblock %}\n\n                            {% block swag_migration_index_main_page_modal_abort_migration_confirmDialog_footer_confirmAction %}\n                                <mt-button variant=\"primary\"\n                                           size=\"small\"\n                                           @click=\"onAbort\">\n                                    {{ $tc('swag-migration.index.confirmAbortDialog.confirm') }}\n                                </mt-button>\n                            {% endblock %}\n                        </template>\n                    {% endblock %}\n                </sw-modal>\n            {% endblock %}\n        </sw-card-view>\n        <mt-loader v-if=\"isLoading || storesInitializing\" />\n    </template>\n{% endblock %}\n","import template from './swag-migration-process-screen.html.twig';\nimport './swag-migration-process-screen.scss';\nimport { MIGRATION_STEP } from '../../../../core/service/api/swag-migration.api.service';\n\nconst { Component, Store } = Shopware;\nconst { mapState } = Shopware.Component.getComponentHelper();\n\nconst MIGRATION_STATE_POLLING_INTERVAL = 1000; // ms\n\n\nconst MIGRATION_STEP_DISPLAY_INDEX = Object.freeze({\n    [MIGRATION_STEP.IDLE]: 0,\n    [MIGRATION_STEP.FETCHING]: 0,\n    [MIGRATION_STEP.WRITING]: 1,\n    [MIGRATION_STEP.MEDIA_PROCESSING]: 2,\n    [MIGRATION_STEP.ABORTING]: 3,\n    [MIGRATION_STEP.CLEANUP]: 3,\n    [MIGRATION_STEP.INDEXING]: 4,\n    [MIGRATION_STEP.WAITING_FOR_APPROVE]: 5,\n});\n\nconst UI_COMPONENT_INDEX = Object.freeze({\n    LOADING_SCREEN: 0,\n    RESULT_SUCCESS: 1,\n});\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.extend('swag-migration-process-screen', 'swag-migration-base', {\n    template,\n\n    inject: {\n        /** @var {MigrationApiService} migrationApiService */\n        migrationApiService: 'migrationApiService',\n    },\n\n    mixins: [\n        'notification',\n    ],\n\n    metaInfo() {\n        return {\n            title: this.progressPercentage !== null ?\n                `${this.progressPercentage}% ${this.$createTitle()}` :\n                this.$createTitle(),\n        };\n    },\n\n    data() {\n        return {\n            displayFlowChart: true,\n            flowChartItemIndex: 0,\n            flowChartItemVariant: 'info',\n            flowChartInitialItemVariants: [],\n            UI_COMPONENT_INDEX: UI_COMPONENT_INDEX, // accessible to the template\n            componentIndex: UI_COMPONENT_INDEX.LOADING_SCREEN,\n            showAbortMigrationConfirmDialog: false,\n            pollingIntervalId: null,\n            step: MIGRATION_STEP.FETCHING,\n            progress: 0,\n            total: 0,\n        };\n    },\n\n    computed: {\n        ...mapState(() => Store.get('swagMigration'), [\n            'isLoading',\n            'dataSelectionIds',\n        ]),\n\n        /**\n         * @returns {boolean}\n         */\n        abortButtonVisible() {\n            return !this.isLoading &&\n                !this.componentIndexIsResult;\n        },\n\n        /**\n         * @returns {boolean}\n         */\n        backToOverviewButtonVisible() {\n            return !this.isLoading &&\n                this.componentIndex === UI_COMPONENT_INDEX.RESULT_SUCCESS;\n        },\n\n        /**\n         * @returns {boolean}\n         */\n        backToOverviewButtonDisabled() {\n            return this.isLoading;\n        },\n\n        abortButtonDisabled() {\n            return this.isLoading || this.step === MIGRATION_STEP.ABORTING;\n        },\n\n        /**\n         * @returns {boolean}\n         */\n        componentIndexIsResult() {\n            return this.componentIndex === UI_COMPONENT_INDEX.RESULT_SUCCESS;\n        },\n\n        progressPercentage() {\n            if (!this.total) {\n                return null;\n            }\n\n            // Prevent progress bar and window title from exceeding 100%\n            return Math.min(\n                Math.round((this.progress / this.total) * 100),\n                100,\n            );\n        },\n    },\n\n    unmounted() {\n        this.unmountedComponent();\n    },\n\n    methods: {\n        async createdComponent() {\n            await this.initState();\n            Store.get('swagMigration').setIsLoading(true);\n\n            if (this.connectionId === null) {\n                this.$router.push({ name: 'swag.migration.index.main' });\n                return;\n            }\n\n            let migrationRunning = false;\n            try {\n                const state = await this.migrationApiService.getState();\n                if (state?.step !== MIGRATION_STEP.IDLE) {\n                    migrationRunning = true;\n                    this.visualizeMigrationState(state);\n                }\n            } catch (e) {\n                this.createNotificationError({\n                    title: this.$tc('global.default.error'),\n                    message: this.$tc('swag-migration.api-error.getState'),\n                });\n            }\n\n            if (!migrationRunning) {\n                await this.startMigration();\n                // update to the new state immediately\n                try {\n                    const state = await this.migrationApiService.getState();\n                    this.visualizeMigrationState(state);\n                } catch (e) {\n                    this.createNotificationError({\n                        title: this.$tc('global.default.error'),\n                        message: this.$tc('swag-migration.api-error.getState'),\n                    });\n                }\n            }\n\n            this.registerPolling();\n            Store.get('swagMigration').setIsLoading(false);\n        },\n\n        async unmountedComponent() {\n            this.unregisterPolling();\n            this.total = 0; // hide percentage in browser tab title again\n        },\n\n        unregisterPolling() {\n            if (this.pollingIntervalId) {\n                clearInterval(this.pollingIntervalId);\n            }\n        },\n\n        registerPolling() {\n            this.unregisterPolling();\n            this.pollingIntervalId = setInterval(this.migrationStatePoller, MIGRATION_STATE_POLLING_INTERVAL);\n        },\n\n        visualizeMigrationState(state) {\n            if (!state) {\n                return;\n            }\n\n            if (this.step !== state.step) {\n                // step change, reset progress bar to zero without animation\n                this.progress = 0;\n            }\n            this.step = state.step;\n\n            this.$nextTick(() => {\n                // needs to happen one tick later, to reset the progress bar if a step change occurred\n                this.progress = state.progress;\n                this.total = state.total;\n            });\n\n            if (\n                state.step === MIGRATION_STEP.FETCHING ||\n                state.step === MIGRATION_STEP.WRITING ||\n                state.step === MIGRATION_STEP.MEDIA_PROCESSING ||\n                state.step === MIGRATION_STEP.ABORTING ||\n                state.step === MIGRATION_STEP.CLEANUP ||\n                state.step === MIGRATION_STEP.INDEXING\n            ) {\n                this.componentIndex = UI_COMPONENT_INDEX.LOADING_SCREEN;\n                this.flowChartItemIndex = MIGRATION_STEP_DISPLAY_INDEX[state.step];\n            } else if (\n                state.step === MIGRATION_STEP.WAITING_FOR_APPROVE ||\n                state.step === MIGRATION_STEP.IDLE\n            ) {\n                this.componentIndex = UI_COMPONENT_INDEX.RESULT_SUCCESS;\n                this.flowChartItemIndex = MIGRATION_STEP_DISPLAY_INDEX[state.step];\n                this.unregisterPolling();\n            }\n\n            // update flow chart\n            if (state.step !== MIGRATION_STEP.WAITING_FOR_APPROVE && state.step !== MIGRATION_STEP.IDLE) {\n                this.flowChartItemVariant = 'info';\n            } else {\n                this.flowChartItemVariant = 'success';\n            }\n            if (this.flowChartInitialItemVariants.length < this.flowChartItemIndex) {\n                while (this.flowChartInitialItemVariants.length < this.flowChartItemIndex) {\n                    this.flowChartInitialItemVariants.push('success');\n                }\n            }\n        },\n\n        async startMigration() {\n            try {\n                await this.migrationApiService.startMigration(this.dataSelectionIds);\n            } catch (e) {\n                this.createNotificationError({\n                    title: this.$tc('global.default.error'),\n                    message: this.$tc('swag-migration.api-error.startMigration'),\n                });\n                this.$router.push({\n                    name: 'swag.migration.index.main',\n                    query: {\n                        forceFullStateReload: true, // also resets data selection for next run\n                    },\n                });\n            }\n        },\n\n        async migrationStatePoller() {\n            try {\n                const state = await this.migrationApiService.getState();\n                if (state && state.step === MIGRATION_STEP.IDLE) {\n                    // back in idle, which happens after aborting for example\n                    this.unregisterPolling();\n                    this.$router.push({\n                        name: 'swag.migration.index.main',\n                        query: {\n                            forceFullStateReload: true, // also resets data selection for next run\n                        },\n                    });\n                }\n                this.visualizeMigrationState(state);\n            } catch (e) {\n                this.createNotificationError({\n                    title: this.$tc('global.default.error'),\n                    message: this.$tc('swag-migration.api-error.getState'),\n                });\n            }\n\n            return Promise.resolve();\n        },\n\n        async approveFinishedMigration() {\n            try {\n                Store.get('swagMigration').setIsLoading(true);\n                await this.migrationApiService.approveFinishedMigration();\n                this.$router.push({\n                    name: 'swag.migration.index.main',\n                    query: {\n                        forceFullStateReload: true, // also resets data selection for next run\n                    },\n                });\n            } catch (e) {\n                this.createNotificationError({\n                    title: this.$tc('global.default.error'),\n                    message: this.$tc('swag-migration.api-error.approveFinishedMigration'),\n                });\n                this.$router.push({\n                    name: 'swag.migration.index.main',\n                    query: {\n                        forceFullStateReload: true, // also resets data selection for next run\n                    },\n                });\n            } finally {\n                Store.get('swagMigration').setIsLoading(false);\n            }\n        },\n\n        async onAbortButtonClick() {\n            this.showAbortMigrationConfirmDialog = true;\n        },\n\n        onCloseAbortMigrationConfirmDialog() {\n            this.showAbortMigrationConfirmDialog = false;\n        },\n\n        async onAbort() {\n            try {\n                this.showAbortMigrationConfirmDialog = false;\n                Store.get('swagMigration').setIsLoading(true);\n                await this.migrationApiService.abortMigration();\n                const state = await this.migrationApiService.getState();\n                this.visualizeMigrationState(state);\n            } catch (error) {\n                this.createNotificationError({\n                    title: this.$tc('global.default.error'),\n                    message: this.$tc('swag-migration.api-error.abortMigration'),\n                });\n            } finally {\n                Store.get('swagMigration').setIsLoading(false);\n            }\n        },\n\n        onContinueButtonClick() {\n            if (this.componentIndex === UI_COMPONENT_INDEX.RESULT_SUCCESS) {\n                return this.approveFinishedMigration();\n            }\n\n            return Promise.resolve();\n        },\n    },\n});\n","{% block swag_migration_data_selector %}\n    <div class=\"swag-migration-data-selector\">\n\n        {% block swag_migration_data_selector_warnings %}\n            <div class=\"swag-migration-data-selector__warnings\">\n                <mt-banner v-for=\"warning in displayWarnings\"\n                          :key=\"warning.snippetKey\"\n                          class=\"swag-migration-data-selector__warning\"\n                          variant=\"attention\">\n                    {{ $tc(warning.snippetKey, warning.snippetArguments, warning.pluralizationCount) }}\n                </mt-banner>\n            </div>\n        {% endblock %}\n\n        {% block swag_migration_index_main_page_card_confirm_warning %}\n            <swag-migration-confirm-warning class=\"swag-migration-process-screen__confirm-warning\" />\n        {% endblock %}\n\n        <mt-card\n            v-if=\"dataSelectionTableData.length > 0\"\n            :title=\"$tc('swag-migration.index.selectDataCard.cardTitle')\"\n            position-identifier=\"swag-migration-data-selector\"\n        >\n\n            {% block swag_migration_data_selector_grid %}\n                <template #grid>\n                    <swag-migration-grid-extended\n                        ref=\"tableDataGrid\"\n                        :items=\"dataSelectionTableData\"\n                        disabled-attribute=\"requiredSelection\"\n                        table\n                        @sw-grid-select-item=\"onGridSelectItem\"\n                        @sw-grid-select-all=\"onGridSelectItem\"\n                        @vue:mounted=\"tableDataGridMounted\"\n                    >\n                        <template #columns=\"{ item }\">\n\n                            {% block swag_migration_data_selector_grid_column_data %}\n                                <sw-grid-column flex=\"1fr\"\n                                                :label=\"$tc('swag-migration.index.selectDataCard.headers.name')\">\n                                    {{ $tc(item.snippet) }}\n                                </sw-grid-column>\n\n                                <sw-grid-column flex=\"1fr\"\n                                                :label=\"$tc('swag-migration.index.selectDataCard.headers.dataType')\">\n                                    {{ $tc('swag-migration.index.selectDataCard.dataTypes.' + item.dataType) }}\n                                </sw-grid-column>\n\n                                <sw-grid-column flex=\"1fr\"\n                                                :label=\"$tc('swag-migration.index.selectDataCard.headers.total')\"\n                                                align=\"right\">\n                                    {{ item.total }}\n\n                                    <sw-help-text v-if=\"showHelptext(item.entityTotals)\"\n                                                  class=\"swag-migration-data-selector__help-text\"\n                                                  :text=\"getHelptext(item)\" />\n                                    <div v-else\n                                         class=\"swag-migration-data-selector__help-text-placeholder\">\n                                    </div>\n                                </sw-grid-column>\n                            {% endblock %}\n                        </template>\n                    </swag-migration-grid-extended>\n                </template>\n            {% endblock %}\n        </mt-card>\n\n        <mt-card v-else\n                 class=\"swag-migration-data-selector\"\n                 position-identifier=\"swag-migration-data-selector-no-data\">\n\n            {% block swag_migration_data_selector_no_data %}\n                <div class=\"swag-migration-index-data-selector__no-data\">\n                    <p class=\"swag-migration-index-data-selector__no-data-label\">\n                        {{ $tc('swag-migration.index.selectDataCard.noData') }}\n                    </p>\n                </div>\n            {% endblock %}\n        </mt-card>\n\n        <swag-migration-premapping />\n    </div>\n{% endblock %}\n","import template from './swag-migration-data-selector.html.twig';\nimport './swag-migration-data-selector.scss';\n\nconst { Component, Store } = Shopware;\nconst { mapState } = Shopware.Component.getComponentHelper();\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-data-selector', {\n    template,\n\n    inject: {\n        /** @var {MigrationApiService} migrationApiService */\n        migrationApiService: 'migrationApiService',\n    },\n\n    computed: {\n        ...mapState(() => Store.get('swagMigration'), [\n            'environmentInformation',\n            'dataSelectionTableData',\n            'dataSelectionIds',\n        ]),\n\n        displayWarnings() {\n            return this.environmentInformation.displayWarnings;\n        },\n    },\n\n    methods: {\n        tableDataGridMounted() {\n            this.dataSelectionIds.forEach((id) => {\n                this.$refs.tableDataGrid?.selectItem(true, { id });\n            });\n        },\n\n        onGridSelectItem(selection) {\n            const selectionIds = Object.keys(selection);\n\n            this.dataSelectionTableData.forEach((data) => {\n                if (data.requiredSelection !== true) {\n                    return;\n                }\n\n                if (!selectionIds.includes(data.id)) {\n                    selectionIds.push(data.id);\n                    this.$nextTick(() => {\n                        this.$refs.tableDataGrid.selectItem(true, data);\n                    });\n                }\n            });\n\n            Store.get('swagMigration').setDataSelectionIds(selectionIds);\n        },\n\n        showHelptext(entityTotals) {\n            return entityTotals !== undefined && Object.keys(entityTotals).length > 1;\n        },\n\n        getHelptext(item) {\n            if (item.entityTotals === undefined || Object.keys(item.entityTotals).length === 0) {\n                return '';\n            }\n\n            let string = '';\n            Object.keys(item.entityTotals).forEach((key) => {\n                string += `${this.$tc(item.entityNames[key])\n                }: ${\n                    item.entityTotals[key]\n                }</br>`;\n            });\n\n            return string;\n        },\n    },\n});\n","{% block sw_dashboard_index_content_intro_card %}\n    {% parent %}\n\n    {%  block swag_migration_dashboard_card %}\n\n        {% block sw_dashboard_index_content_migration_card %}\n            <swag-migration-dashboard-card v-if=\"acl.isAdmin()\" />\n        {% endblock %}\n    {% endblock %}\n{% endblock %}\n","import template from './sw-dashboard-index.html.twig';\n\nconst { Component } = Shopware;\nconst { Criteria } = Shopware.Data;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.override('sw-dashboard-index', {\n    template,\n\n    inject: [\n        'repositoryFactory',\n        'acl',\n    ],\n\n    data() {\n        return {\n            context: Shopware.Context.api,\n            runExists: false,\n            loading: true,\n            run: {},\n        };\n    },\n\n    computed: {\n        migrationRunRepository() {\n            return this.repositoryFactory.create('swag_migration_run');\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.$super('createdComponent');\n\n            if (!this.acl.isAdmin()) {\n                return new Promise((resolve) => { resolve(); });\n            }\n\n            return this.migrationRunRepository.search(new Criteria(), this.context).then((items) => {\n                this.runExists = items.length > 0;\n\n                if (this.runExists) {\n                    this.run = items[0];\n                }\n\n                this.loading = false;\n            });\n        },\n    },\n});\n","<div class=\"swag-migration-wizard swag-migration-wizard-page-credentials\">\n\n    {% block swag_migration_wizard_page_credentials_content %}\n        <div class=\"swag-migration-wizard__content\">\n\n            {% block swag_migration_wizard_page_credentials_information %}\n                <div class=\"swag-migration-wizard__content-information\">\n\n                    {% block swag_migration_wizard_page_credentials_api_hint %}\n                        <p class=\"swag-migration-wizard__description\">\n                            {{ $tc('swag-migration.wizard.pages.credentials.shopware55.api.contentInformation') }}\n                        </p>\n                    {% endblock %}\n                </div>\n            {% endblock %}\n\n            {% block swag_migration_wizard_page_credentials_credentials %}\n            <div class=\"swag-migration-wizard__form\">\n\n                {% block swag_migration_wizard_page_credentials_apikey_field %}\n                    <mt-text-field v-model:model-value=\"inputCredentials.apiKey\"\n                                   v-autofocus\n                                   name=\"sw-field--apiKey\"\n                                   :label=\"$tc('swag-migration.wizard.pages.credentials.shopware55.api.apiKeyLabel')\"\n                                   :placeholder=\"$tc('swag-migration.wizard.pages.credentials.shopware55.api.apiKeyPlaceholder')\"\n                                   :help-text=\"$tc('swag-migration.wizard.pages.credentials.shopware55.api.apiKeyTooltip')\"\n                                   :error=\"apiKeyError\">\n\n                        {% block swag_migration_wizard_page_credentials_apikey_icon %}\n                            <template #suffix>\n                                <mt-icon name=\"regular-key\" />\n                            </template>\n                        {% endblock %}\n                    </mt-text-field>\n                {% endblock %}\n\n                {% block swag_migration_wizard_page_credentials_apiuser_field %}\n                    <mt-text-field\n                                   v-model:model-value=\"inputCredentials.apiUser\"\n                                   name=\"sw-field--apiUser\"\n                                   :label=\"$tc('swag-migration.wizard.pages.credentials.shopware55.api.apiUserLabel')\"\n                                   :placeholder=\"$tc('swag-migration.wizard.pages.credentials.shopware55.api.apiUserPlaceholder')\"\n                                   :help-text=\"$tc('swag-migration.wizard.pages.credentials.shopware55.api.apiUserTooltip')\"\n                                   validation=\"required\">\n\n                        {% block swag_migration_wizard_page_credentials_apiuser_icon %}\n                            <template #suffix>\n                                <mt-icon name=\"regular-user\" />\n                            </template>\n                        {% endblock %}\n                    </mt-text-field>\n                {% endblock %}\n\n                {% block swag_migration_wizard_page_credentials_endpoint_field %}\n                    <mt-text-field\n                                  v-model:model-value=\"inputCredentials.endpoint\"\n                                  :validation=\"inputCredentials.endpoint !== 'http://' && inputCredentials.endpoint !== 'https://'\"\n                                  :label=\"$tc('swag-migration.wizard.pages.credentials.shopware55.api.endpointLabel')\"\n                                  :placeholder=\"$tc('swag-migration.wizard.pages.credentials.shopware55.api.endpointPlaceholder')\"\n                                  :switch-label=\"$tc('swag-migration.wizard.pages.credentials.shopware55.api.endpointSSLLabel')\" />\n                {% endblock %}\n            </div>\n            {% endblock %}\n        </div>\n    {% endblock %}\n</div>\n","import template from './swag-migration-profile-shopware-api-credential-form.html.twig';\n\nconst { Component } = Shopware;\nconst ShopwareError = Shopware.Classes.ShopwareError;\nconst API_KEY_INVALID_ERROR_CODE = 'SWAG_MIGRATION_INVALID_API_KEY';\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-profile-shopware-api-credential-form', {\n    template,\n\n    emits: ['onChildRouteReadyChanged', 'onCredentialsChanged'],\n\n    props: {\n        credentials: {\n            type: Object,\n            default() {\n                return {};\n            },\n        },\n    },\n\n    data() {\n        return {\n            inputCredentials: {\n                endpoint: '',\n                apiUser: '',\n                apiKey: '',\n            },\n            apiKeyErrorCode: '',\n        };\n    },\n\n    computed: {\n        apiKeyLength() {\n            if (this.inputCredentials.apiKey === null) {\n                return 0;\n            }\n\n            return this.inputCredentials.apiKey.length;\n        },\n\n        apiKeyError() {\n            if (this.apiKeyErrorCode === '') {\n                return null;\n            }\n\n            return new ShopwareError({\n                code: this.apiKeyErrorCode,\n                meta: {\n                    parameters: {\n                        length: this.apiKeyLength,\n                    },\n                },\n            });\n        },\n    },\n\n    watch: {\n        credentials: {\n            immediate: true,\n            handler(newCredentials) {\n                if (newCredentials === null || Object.keys(newCredentials).length < 1) {\n                    this.emitCredentials(this.inputCredentials);\n                    return;\n                }\n\n                this.inputCredentials = newCredentials;\n                this.emitOnChildRouteReadyChanged(\n                    this.areCredentialsValid(this.inputCredentials),\n                );\n            },\n        },\n\n        inputCredentials: {\n            deep: true,\n            handler(newInputCredentials) {\n                this.emitCredentials(newInputCredentials);\n            },\n        },\n    },\n\n    methods: {\n        areCredentialsValid(newInputCredentials) {\n            return (\n                this.apiKeyValid(newInputCredentials.apiKey) &&\n                this.validateInput(newInputCredentials.endpoint) &&\n                this.validateInput(newInputCredentials.apiUser) &&\n                newInputCredentials.endpoint !== 'http://' &&\n                newInputCredentials.endpoint !== 'https://'\n            );\n        },\n\n        validateInput(input) {\n            return input !== null && input !== '';\n        },\n\n        apiKeyValid(apiKey) {\n            if (apiKey === null || apiKey.length < 40 || apiKey.length > 40) {\n                this.apiKeyErrorCode = API_KEY_INVALID_ERROR_CODE;\n                return false;\n            }\n\n            this.apiKeyErrorCode = '';\n            return true;\n        },\n\n        emitOnChildRouteReadyChanged(isReady) {\n            this.$emit('onChildRouteReadyChanged', isReady);\n        },\n\n        emitCredentials(newInputCredentials) {\n            this.$emit('onCredentialsChanged', newInputCredentials);\n            this.emitOnChildRouteReadyChanged(\n                this.areCredentialsValid(newInputCredentials),\n            );\n        },\n    },\n});\n","{% block swag_migration_wizard_page_plugin_information %}\n    <div class=\"swag-migration-wizard swag-migration-wizard-page-plugin-information\">\n\n        {% block swag_migration_wizard_page_plugin_information_content %}\n            <div class=\"swag-migration-wizard__content\">\n\n                {% block swag_migration_wizard_page_plugin_information_information %}\n                    <div class=\"swag-migration-wizard__content-information\">\n\n                        {% block swag_migration_wizard_page_plugin_information_svg %}\n                            <img class=\"swag-migration-wizard__plugin\"\n                                 :src=\"assetFilter('/swagmigrationassistant/administration/static/img/wizard-shopware55-api-plugin-information.svg')\"\n                                 alt=\"\">\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_plugin_information_title %}\n                            <h3 class=\"information__header\">\n                                {{ $tc('swag-migration.wizard.pages.profileInformation.shopware55Api.contentTitle') }}\n                            </h3>\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_plugin_information_api_hint %}\n                            <p class=\"swag-migration-wizard__description\">\n                                {{ $tc('swag-migration.wizard.pages.profileInformation.shopware55Api.contentInformation') }}\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_plugin_information_plugin_link %}\n                            <div class=\"swag-migration-wizard__link\">\n                                <a class=\"link\"\n                                   target=\"_blank\"\n                                   :href=\"storeLink\">\n                                    {{ $tc('swag-migration.wizard.pages.profileInformation.shopware55Api.pluginLink') }}\n                                </a>\n                            </div>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}\n","import template from './swag-migration-profile-shopware-api-page-information.html.twig';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-profile-shopware-api-page-information', {\n    template,\n\n    computed: {\n        assetFilter() {\n            return Shopware.Filter.getByName('asset');\n        },\n\n        storeLink() {\n            return `https://store.shopware.com/${this.storeLinkISO}/swag226607479310f/migration-connector.html`;\n        },\n\n        storeLinkISO() {\n            const iso = this.locale.split('-')[0];\n\n            if (['en', 'de'].includes(iso)) {\n                return iso;\n            }\n\n            return 'en';\n        },\n\n        locale() {\n            return Shopware.Store.get('session').currentLocale ?? '';\n        },\n    },\n});\n","<div class=\"swag-migration-wizard swag-migration-wizard-page-credentials\">\n\n    {% block swag_migration_wizard_page_credentials_content %}\n        <div class=\"swag-migration-wizard__content\">\n\n            {% block swag_migration_wizard_page_credentials_information %}\n                <div class=\"swag-migration-wizard__content-information\">\n\n                    {% block swag_migration_wizard_page_credentials_local_hint %}\n                        {{ $tc('swag-migration.wizard.pages.credentials.shopware55.local.contentInformation') }}\n                    {% endblock %}\n                </div>\n            {% endblock %}\n\n            {% block swag_migration_wizard_page_credentials_credentials %}\n                <div class=\"swag-migration-wizard__form\">\n\n                    {% block swag_migration_wizard_page_credentials_local_db_host_port_group %}\n                        <sw-container columns=\"1fr 80px\"\n                                      gap=\"16px\">\n\n                            {% block swag_migration_wizard_page_credentials_local_dbhost_field %}\n                                <mt-text-field v-model:model-value=\"inputCredentials.dbHost\"\n                                               v-autofocus\n                                               name=\"sw-field--dbHost\"\n                                               :label=\"$tc('swag-migration.wizard.pages.credentials.shopware55.local.dbHostLabel')\"\n                                               :placeholder=\"$tc('swag-migration.wizard.pages.credentials.shopware55.local.dbHostPlaceholder')\" />\n                            {% endblock %}\n\n                            {% block swag_migration_wizard_page_credentials_local_dbport_field %}\n                                <mt-text-field\n                                               v-model:model-value=\"inputCredentials.dbPort\"\n                                               name=\"sw-field--dbPort\"\n                                               :label=\"$tc('swag-migration.wizard.pages.credentials.shopware55.local.dbPortLabel')\" />\n                            {% endblock %}\n                        </sw-container>\n                    {% endblock %}\n\n                    {% block swag_migration_wizard_page_credentials_local_dbuser_field %}\n                        <mt-text-field\n                                       v-model:model-value=\"inputCredentials.dbUser\"\n                                       name=\"sw-field--dbUser\"\n                                       :label=\"$tc('swag-migration.wizard.pages.credentials.shopware55.local.dbUserLabel')\"\n                                       :placeholder=\"$tc('swag-migration.wizard.pages.credentials.shopware55.local.dbUserPlaceholder')\" />\n                    {% endblock %}\n\n                    {% block swag_migration_wizard_page_credentials_local_dbpassword_field %}\n                        <mt-password-field\n                                           v-model:model-value=\"inputCredentials.dbPassword\"\n                                           name=\"sw-field--dbPassword\"\n                                           :label=\"$tc('swag-migration.wizard.pages.credentials.shopware55.local.dbPasswordLabel')\"\n                                           :placeholder=\"$tc('swag-migration.wizard.pages.credentials.shopware55.local.dbPasswordPlaceholder')\" />\n                    {% endblock %}\n\n                    {% block swag_migration_wizard_page_credentials_local_dbname_field %}\n                        <mt-text-field\n                                       v-model:model-value=\"inputCredentials.dbName\"\n                                       name=\"sw-field--dbName\"\n                                       :label=\"$tc('swag-migration.wizard.pages.credentials.shopware55.local.dbNameLabel')\"\n                                       :placeholder=\"$tc('swag-migration.wizard.pages.credentials.shopware55.local.dbNamePlaceholder')\" />\n                    {% endblock %}\n\n                    {% block swag_migration_wizard_page_credentials_local_installationroot_field %}\n                        <mt-text-field\n                                       v-model:model-value=\"inputCredentials.installationRoot\"\n                                       name=\"sw-field--installationRoot\"\n                                       :label=\"$tc('swag-migration.wizard.pages.credentials.shopware55.local.installationRoot')\"\n                                       :placeholder=\"$tc('swag-migration.wizard.pages.credentials.shopware55.local.installationRootPlaceholder')\" />\n                    {% endblock %}\n                </div>\n            {% endblock %}\n        </div>\n    {% endblock %}\n</div>\n","import template from './swag-migration-profile-shopware-local-credential-form.html.twig';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-profile-shopware-local-credential-form', {\n    template,\n\n    emits: ['onChildRouteReadyChanged', 'onCredentialsChanged'],\n\n    props: {\n        credentials: {\n            type: Object,\n            default() {\n                return {};\n            },\n        },\n    },\n\n    data() {\n        return {\n            inputCredentials: {\n                dbHost: '',\n                dbPort: '3306',\n                dbUser: '',\n                dbPassword: '',\n                dbName: '',\n                installationRoot: '',\n            },\n        };\n    },\n\n    watch: {\n        credentials: {\n            immediate: true,\n            handler(newCredentials) {\n                if (newCredentials === null || Object.keys(newCredentials).length < 1) {\n                    this.emitCredentials(this.inputCredentials);\n                    return;\n                }\n\n                this.inputCredentials = newCredentials;\n                this.emitOnChildRouteReadyChanged(\n                    this.areCredentialsValid(this.inputCredentials),\n                );\n            },\n        },\n\n        inputCredentials: {\n            deep: true,\n            handler(newInputCredentials) {\n                this.emitCredentials(newInputCredentials);\n            },\n        },\n    },\n\n    methods: {\n        areCredentialsValid(newInputCredentials) {\n            return (newInputCredentials.dbHost !== '' &&\n                newInputCredentials.dbPort !== '' &&\n                newInputCredentials.dbName !== '' &&\n                newInputCredentials.dbUser !== '' &&\n                newInputCredentials.dbPassword !== '' &&\n                newInputCredentials.installationRoot !== ''\n            );\n        },\n\n        emitOnChildRouteReadyChanged(isReady) {\n            this.$emit('onChildRouteReadyChanged', isReady);\n        },\n\n        emitCredentials(newInputCredentials) {\n            this.$emit('onCredentialsChanged', newInputCredentials);\n            this.emitOnChildRouteReadyChanged(\n                this.areCredentialsValid(newInputCredentials),\n            );\n        },\n    },\n});\n","const { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.extend(\n    'swag-migration-profile-shopware54-api-credential-form',\n    'swag-migration-profile-shopware-api-credential-form',\n    {},\n);\n","const { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.extend(\n    'swag-migration-profile-shopware54-api-page-information',\n    'swag-migration-profile-shopware-api-page-information',\n    {},\n);\n\n","const { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.extend(\n    'swag-migration-profile-shopware54-local-credential-form',\n    'swag-migration-profile-shopware-local-credential-form',\n    {},\n);\n","const { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.extend(\n    'swag-migration-profile-shopware55-api-credential-form',\n    'swag-migration-profile-shopware-api-credential-form',\n    {},\n);\n","const { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.extend(\n    'swag-migration-profile-shopware55-api-page-information',\n    'swag-migration-profile-shopware-api-page-information',\n    {},\n);\n\n","const { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.extend(\n    'swag-migration-profile-shopware55-local-credential-form',\n    'swag-migration-profile-shopware-local-credential-form',\n    {},\n);\n","const { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.extend(\n    'swag-migration-profile-shopware56-api-credential-form',\n    'swag-migration-profile-shopware-api-credential-form',\n    {},\n);\n","const { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.extend(\n    'swag-migration-profile-shopware56-api-page-information',\n    'swag-migration-profile-shopware-api-page-information',\n    {},\n);\n","const { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.extend(\n    'swag-migration-profile-shopware56-local-credential-form',\n    'swag-migration-profile-shopware-local-credential-form',\n    {},\n);\n","const { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.extend(\n    'swag-migration-profile-shopware57-api-credential-form',\n    'swag-migration-profile-shopware-api-credential-form',\n    {},\n);\n","const { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.extend(\n    'swag-migration-profile-shopware57-api-page-information',\n    'swag-migration-profile-shopware-api-page-information',\n    {},\n);\n","const { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.extend(\n    'swag-migration-profile-shopware57-local-credential-form',\n    'swag-migration-profile-shopware-local-credential-form',\n    {},\n);\n","<div class=\"swag-migration-wizard swag-migration-wizard-page-credentials\">\n\n    {% block swag_migration_wizard_page_credentials_content %}\n        <div class=\"swag-migration-wizard__content\">\n\n            {% block swag_migration_wizard_page_credentials_information %}\n                <div class=\"swag-migration-wizard__content-information\">\n\n                    {% block swag_migration_wizard_page_credentials_api_hint %}\n                        <p class=\"swag-migration-wizard__description\">\n                            {{ $tc('swag-migration.wizard.pages.credentials.shopware6.api.contentInformation') }}\n                        </p>\n                    {% endblock %}\n                </div>\n            {% endblock %}\n\n            {% block swag_migration_wizard_page_credentials_credentials %}\n                <div class=\"swag-migration-wizard__form\">\n\n                    {% block swag_migration_wizard_page_credentials_apiuser_field %}\n                        <mt-text-field v-model:model-value=\"inputCredentials.apiUser\"\n                                       v-autofocus\n                                       name=\"sw-field--apiUser\"\n                                       :label=\"$tc('swag-migration.wizard.pages.credentials.shopware6.api.apiUserLabel')\"\n                                       :placeholder=\"$tc('swag-migration.wizard.pages.credentials.shopware6.api.apiUserPlaceholder')\"\n                                       :help-text=\"$tc('swag-migration.wizard.pages.credentials.shopware6.api.apiUserTooltip')\"\n                                       validation=\"required\"\n                                       required>\n\n                            {% block swag_migration_wizard_page_credentials_apiuser_icon %}\n                                <template #suffix>\n                                    <mt-icon name=\"regular-user\" />\n                                </template>\n                            {% endblock %}\n                        </mt-text-field>\n                    {% endblock %}\n\n                    {% block swag_migration_wizard_page_credentials_apiPassword_field %}\n                        <mt-password-field\n                                       v-model:model-value=\"inputCredentials.apiPassword\"\n                                       name=\"sw-field--apiPassword\"\n                                       :label=\"$tc('swag-migration.wizard.pages.credentials.shopware6.api.apiPasswordLabel')\"\n                                       :placeholder=\"$tc('swag-migration.wizard.pages.credentials.shopware6.api.apiPasswordPlaceholder')\"\n                                       :help-text=\"$tc('swag-migration.wizard.pages.credentials.shopware6.api.apiPasswordTooltip')\"\n                                       validation=\"required\"\n                                       required />\n                    {% endblock %}\n\n                    {% block swag_migration_wizard_page_credentials_endpoint_field %}\n                        <mt-url-field\n                                      v-model:model-value=\"inputCredentials.endpoint\"\n                                      :validation=\"inputCredentials.endpoint !== 'http://' && inputCredentials.endpoint !== 'https://'\"\n                                      :label=\"$tc('swag-migration.wizard.pages.credentials.shopware6.api.endpointLabel')\"\n                                      :placeholder=\"$tc('swag-migration.wizard.pages.credentials.shopware6.api.endpointPlaceholder')\"\n                                      :switch-label=\"$tc('swag-migration.wizard.pages.credentials.shopware6.api.endpointSSLLabel')\"\n                                      required />\n                    {% endblock %}\n                </div>\n            {% endblock %}\n        </div>\n    {% endblock %}\n</div>\n","import template from './swag-migration-profile-shopware6-api-credential-form.html.twig';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-profile-shopware6major-api-credential-form', {\n    template,\n\n    emits: ['onChildRouteReadyChanged', 'onCredentialsChanged'],\n\n    props: {\n        credentials: {\n            type: Object,\n            default() {\n                return {};\n            },\n        },\n    },\n\n    data() {\n        return {\n            inputCredentials: {\n                endpoint: '',\n                apiUser: '',\n                apiPassword: '',\n            },\n        };\n    },\n\n    computed: {\n        apiPasswordLength() {\n            if (this.inputCredentials.apiPassword === null) {\n                return 0;\n            }\n\n            return this.inputCredentials.apiPassword.length;\n        },\n    },\n\n    watch: {\n        credentials: {\n            immediate: true,\n            handler(newCredentials) {\n                if (newCredentials === null || Object.keys(newCredentials).length < 1) {\n                    this.emitCredentials(this.inputCredentials);\n                    return;\n                }\n\n                this.inputCredentials = newCredentials;\n                this.emitOnChildRouteReadyChanged(\n                    this.areCredentialsValid(this.inputCredentials),\n                );\n            },\n        },\n\n        inputCredentials: {\n            deep: true,\n            handler(newInputCredentials) {\n                delete newInputCredentials.bearer_token;\n                this.emitCredentials(newInputCredentials);\n            },\n        },\n    },\n\n    methods: {\n        areCredentialsValid(newInputCredentials) {\n            return (\n                this.apiPasswordValid(newInputCredentials.apiPassword) &&\n                this.validateInput(newInputCredentials.endpoint) &&\n                this.validateInput(newInputCredentials.apiUser) &&\n                newInputCredentials.endpoint !== 'http://' &&\n                newInputCredentials.endpoint !== 'https://'\n            );\n        },\n\n        validateInput(input) {\n            return input !== null && input !== '';\n        },\n\n        apiPasswordValid(apiPassword) {\n            return apiPassword !== null && apiPassword.length >= 1;\n        },\n\n        emitOnChildRouteReadyChanged(isReady) {\n            this.$emit('onChildRouteReadyChanged', isReady);\n        },\n\n        emitCredentials(newInputCredentials) {\n            this.$emit('onCredentialsChanged', newInputCredentials);\n            this.emitOnChildRouteReadyChanged(\n                this.areCredentialsValid(newInputCredentials),\n            );\n        },\n    },\n});\n","{% block swag_migration_wizard_page_plugin_information_shopware6 %}\n    <div class=\"swag-migration-wizard swag-migration-wizard-page-plugin-information swag-migration-profile-shopware6-api-page-information\">\n\n        {% block swag_migration_wizard_page_plugin_information_shopware6_content %}\n            <div class=\"swag-migration-wizard__content\">\n\n                {% block swag_migration_wizard_page_plugin_information_shopware6_information %}\n                    <div class=\"swag-migration-wizard__content-information\">\n\n                        {% block swag_migration_wizard_page_plugin_information_shopware6_icon %}\n                            <div class=\"swag-migration-profile-shopware6-api-page-information__icon sw-settings-item\">\n                                <div class=\"sw-settings-item__icon background--enabled\">\n                                    <mt-icon name=\"regular-cog\" />\n                                </div>\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_plugin_information_shopware6_title %}\n                            <h3 class=\"information__header\">\n                                {{ $tc('swag-migration.wizard.pages.profileInformation.shopware6Api.contentTitle') }}\n                            </h3>\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_plugin_information_shopware6_api_hint %}\n\n                            {% block swag_migration_wizard_page_plugin_information_shopware6_api_hint_plugin %}\n                                <div class=\"swag-migration-wizard__description swag-migration-profile-shopware6-api-page-information__card\">\n                                    <h4 class=\"information__header\">\n                                        {{ $tc('swag-migration.wizard.pages.profileInformation.shopware6Api.plugin.title') }}\n                                    </h4>\n                                    <p>{{ $tc('swag-migration.wizard.pages.profileInformation.shopware6Api.plugin.description') }}</p>\n\n                                    <div class=\"swag-migration-wizard__link\">\n                                        <a class=\"link\"\n                                           target=\"_blank\"\n                                           :href=\"$tc('swag-migration.wizard.pages.profileInformation.shopware6Api.plugin.link')\">\n                                            {{ $tc('swag-migration.wizard.pages.profileInformation.shopware6Api.plugin.linkText') }}\n                                        </a>\n                                    </div>\n                                </div>\n                            {% endblock %}\n\n                            {% block swag_migration_wizard_page_plugin_information_shopware6_api_hint_integration %}\n                                <div class=\"swag-migration-wizard__description swag-migration-profile-shopware6-api-page-information__card\">\n                                    <h4 class=\"information__header\">\n                                        {{ $tc('swag-migration.wizard.pages.profileInformation.shopware6Api.integration.title') }}\n                                    </h4>\n                                    <p>{{ $tc('swag-migration.wizard.pages.profileInformation.shopware6Api.integration.description') }}</p>\n\n                                    <div class=\"swag-migration-wizard__link\">\n                                        <a class=\"link\"\n                                           target=\"_blank\"\n                                           :href=\"$tc('swag-migration.wizard.pages.profileInformation.shopware6Api.integration.link')\">\n                                            {{ $tc('swag-migration.wizard.pages.profileInformation.shopware6Api.integration.linkText') }}\n                                        </a>\n                                    </div>\n                                </div>\n                            {% endblock %}\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}\n","import template from './swag-migration-profile-shopware6-api-page-information.html.twig';\nimport './swag-migration-profile-shopware6-api-page-information.scss';\n\nconst { Component } = Shopware;\n\n/**\n * @private\n * @sw-package fundamentals@after-sales\n */\nComponent.register('swag-migration-profile-shopware6major-api-page-information', {\n    template,\n});\n","const modules = import.meta.glob('./[a-z0-9-]*/[a-z0-9-]*/[a-z0-9-]*/index.js', { eager: true });\nObject.values(modules);\n","const { Criteria } = Shopware.Data;\n\nconst migrationApiService = Shopware.Service('migrationApiService');\nconst repositoryFactory = Shopware.Service('repositoryFactory');\n\nconst migrationGeneralSettingRepository = repositoryFactory.create('swag_migration_general_setting');\n\n/**\n * The pinia store for handling all global data that is needed for the migration process.\n * @module\n * @private\n * @sw-package fundamentals@after-sales\n */\nexport default {\n    namespaced: true,\n\n    state: () => ({\n        /**\n         * The id of the currently selected connection to a source system.\n         */\n        connectionId: null,\n\n        /**\n         * The environment information of the connection check.\n         */\n        environmentInformation: {},\n\n        /**\n         * Date object on when the last connection check request was done.\n         */\n        lastConnectionCheck: null,\n\n        /**\n         * Flag which sets the whole module into a loading state\n         */\n        isLoading: false,\n\n        /**\n         * The possible data that the user can migrate.\n         */\n        dataSelectionTableData: [],\n\n        /**\n         * The selected data ids that the user wants to migrate.\n         */\n        dataSelectionIds: [],\n\n        /**\n         * The premapping structure, that the user must match.\n         */\n        premapping: [],\n\n        /**\n         * Flag to indicate if the user has confirmed the warning about different currencies and languages.\n         * Will also be set to true if there are no warnings.\n         */\n        warningConfirmed: false,\n    }),\n\n    getters: {\n        isPremappingValid(state) {\n            return !state.premapping.some((group) => {\n                return group.mapping.some((mapping) => {\n                    return mapping.destinationUuid === null || mapping.destinationUuid === '';\n                });\n            });\n        },\n\n        isMigrationAllowed(state) {\n            const tableDataIds = state.dataSelectionTableData.map((data) => {\n                if (data.requiredSelection === false) {\n                    return data.id;\n                }\n\n                return null;\n            });\n\n            const migrationAllowedByDataSelection = state.dataSelectionIds.some(id => tableDataIds.includes(id));\n            const migrationAllowedByEnvironment = state.environmentInformation?.migrationDisabled === false;\n\n            return migrationAllowedByDataSelection &&\n                migrationAllowedByEnvironment &&\n                !state.isLoading &&\n                state.isPremappingValid &&\n                state.warningConfirmed;\n        },\n    },\n\n    actions: {\n        setConnectionId(id) {\n            this.connectionId = id;\n        },\n\n        setEnvironmentInformation(environmentInformation) {\n            this.environmentInformation = environmentInformation;\n        },\n\n        setLastConnectionCheck(date) {\n            this.lastConnectionCheck = date;\n        },\n\n        setIsLoading(isLoading) {\n            this.isLoading = isLoading;\n        },\n\n        setDataSelectionIds(newIds) {\n            this.dataSelectionIds = newIds;\n        },\n\n        setDataSelectionTableData(newTableData) {\n            this.dataSelectionTableData = newTableData;\n        },\n\n        // merges the existing premapping (in the state) with the newly provided one.\n        // resets the state premapping if an empty array is passed as an argument.\n        setPremapping(newPremapping) {\n            if (newPremapping === undefined || newPremapping === null || newPremapping.length < 1) {\n                this.premapping = [];\n                return;\n            }\n\n            newPremapping.forEach((group) => {\n                // the premapping is grouped by entity, find the corresponding group in the state\n                let existingGroup = this.premapping.find(\n                    (existingGroupItem) => existingGroupItem.entity === group.entity,\n                );\n\n                if (!existingGroup) {\n                    // if it doesn't exist, create a new group for this entity with no mappings\n                    existingGroup = {\n                        choices: group.choices,\n                        entity: group.entity,\n                        mapping: [],\n                    };\n                    // and add it to the state premapping groups\n                    this.premapping.push(existingGroup);\n                } else {\n                    // in case the group already exists, override the choices by the latest ones received from the server\n                    existingGroup.choices = group.choices;\n                }\n\n                group.mapping.forEach((mapping) => {\n                    const existingMapping = existingGroup.mapping.find(\n                        // sourceId is unique per entity and always provided by the backend\n                        (existingMappingItem) => existingMappingItem.sourceId === mapping.sourceId,\n                    );\n\n                    if (existingMapping) {\n                        // mapping already exist, check if it was already set and override if not\n                        if (!existingMapping.destinationUuid) {\n                            existingMapping.destinationUuid = mapping.destinationUuid;\n                        }\n                        return;\n                    }\n\n                    const newMapping = {\n                        ...mapping,\n                        // build a unique identifier, which can be used as a vue key for reactivity (v-for)\n                        id: `${existingGroup.entity}-${mapping.sourceId}`,\n                    };\n\n                    // either push the new mapping to the start or end\n                    // depending on if it is already filled (automatically by the backend)\n                    if (mapping.destinationUuid) {\n                        existingGroup.mapping.push(newMapping);\n                    } else {\n                        existingGroup.mapping.unshift(newMapping);\n                    }\n                });\n            });\n        },\n\n        setWarningConfirmed(confirmed) {\n            this.warningConfirmed = confirmed;\n        },\n\n        async init(forceFullStateReload = false) {\n            this.isLoading = true;\n\n            const connectionIdChanged = await this.fetchConnectionId();\n            await this.fetchEnvironmentInformation(); // Always fetch latest environment info\n\n            if (forceFullStateReload || connectionIdChanged) {\n                // First, clear old user input\n                this.premapping = [];\n                this.dataSelectionIds = [];\n                this.warningConfirmed = false;\n\n                // Then fetch new data\n                await this.fetchDataSelectionIds();\n            }\n\n            this.isLoading = false;\n        },\n\n        /**\n         * @returns {Promise<boolean>} whether the connection id has changed to a new valid one\n         */\n        async fetchConnectionId() {\n            try {\n                const criteria = new Criteria(1, 1);\n                const settings = await migrationGeneralSettingRepository.search(criteria, Shopware.Context.api);\n\n                if (settings.length === 0) {\n                    return false;\n                }\n\n                const newConnectionId = settings.first().selectedConnectionId;\n                if (newConnectionId === this.connectionId) {\n                    return false;\n                }\n\n                this.connectionId = newConnectionId;\n                return true;\n            } catch (e) {\n                await this.createErrorNotification('swag-migration.api-error.fetchConnectionId');\n                this.connectionId = null;\n                return false;\n            }\n        },\n\n        async fetchEnvironmentInformation() {\n            this.environmentInformation = {};\n\n            if (this.connectionId === null) {\n                return;\n            }\n\n            try {\n                this.environmentInformation = await migrationApiService.checkConnection(this.connectionId);\n                this.lastConnectionCheck = new Date();\n            } catch (e) {\n                await this.createErrorNotification('swag-migration.api-error.checkConnection');\n            }\n        },\n\n        async fetchDataSelectionIds() {\n            this.dataSelectionTableData = [];\n\n            if (this.connectionId === null) {\n                return;\n            }\n\n            try {\n                const dataSelection = await migrationApiService.getDataSelection(this.connectionId);\n                this.dataSelectionTableData = dataSelection;\n                this.dataSelectionIds = dataSelection.filter(selection => selection.requiredSelection)\n                    .map(selection => selection.id);\n            } catch (e) {\n                await this.createErrorNotification('swag-migration.api-error.getDataSelection');\n            }\n        },\n\n        async createErrorNotification(errorMessageKey) {\n            await this.$patch(() => {\n                // Assuming notification system exists\n                // Replace this with how notifications are handled in your system\n                Shopware.State.dispatch('notification/createNotification', {\n                    variant: 'error',\n                    title: Shopware.Snippet.tc('global.default.error'),\n                    message: Shopware.Snippet.tc(errorMessageKey),\n                });\n            });\n        },\n    },\n};\n","import './mixin';\nimport './component';\nimport './page';\nimport './extension';\nimport './profile';\nimport MigrationStore from '../../core/data/migration.store';\n\nconst { Module, Store } = Shopware;\n\nStore.register('swagMigration', MigrationStore);\n\n/**\n * @sw-package fundamentals@after-sales\n * @private\n */\nModule.register('swag-migration', {\n    type: 'plugin',\n    name: 'swag-migration',\n    title: 'swag-migration.general.mainMenuItemGeneral',\n    description: 'swag-migration.general.descriptionTextModule',\n    version: '0.9.0',\n    targetVersion: '0.9.0',\n    color: '#9AA8B5',\n    icon: 'regular-cog',\n\n    routes: {\n        index: {\n            component: 'swag-migration-index',\n            path: 'index',\n            meta: {\n                parentPath: 'sw.settings.index',\n            },\n            redirect: { name: 'swag.migration.index.main' },\n            children: {\n                main: {\n                    path: 'main',\n                    component: 'swag-migration-main-page',\n                    meta: {\n                        parentPath: 'sw.settings.index',\n                        resetMigration: false,\n                        privilege: 'admin',\n                    },\n                },\n                resetMigration: {\n                    path: 'reset-migration',\n                    component: 'swag-migration-main-page',\n                    meta: {\n                        parentPath: 'sw.settings.index',\n                        resetMigration: true,\n                        privilege: 'admin',\n                    },\n                },\n                history: {\n                    path: 'history',\n                    component: 'swag-migration-history',\n                    children: {\n                        detail: {\n                            path: 'detail/:id',\n                            component: 'swag-migration-history-detail',\n                            meta: {\n                                parentPath: 'sw.settings.index',\n                                privilege: 'admin',\n                            },\n                        },\n                    },\n                    meta: {\n                        parentPath: 'sw.settings.index',\n                        privilege: 'admin',\n                    },\n                },\n                dataSelector: {\n                    path: 'dataSelector',\n                    component: 'swag-migration-data-selector',\n                    meta: {\n                        parentPath: 'sw.settings.index',\n                        privilege: 'admin',\n                    },\n                },\n            },\n        },\n        processScreen: {\n            path: 'processScreen',\n            component: 'swag-migration-process-screen',\n            meta: {\n                parentPath: 'sw.settings.index',\n                privilege: 'admin',\n            },\n        },\n        wizard: {\n            component: 'swag-migration-wizard',\n            path: 'wizard',\n            redirect: { name: 'swag.migration.wizard.introduction' },\n            children: {\n                introduction: {\n                    path: 'introduction',\n                    component: 'swag-migration-wizard-page-introduction',\n                    meta: {\n                        privilege: 'admin',\n                    },\n                },\n                profileInstallation: {\n                    path: 'profile/installation',\n                    component: 'swag-migration-wizard-page-profile-installation',\n                    meta: {\n                        privilege: 'admin',\n                    },\n                },\n                connectionCreate: {\n                    path: 'connection/create',\n                    component: 'swag-migration-wizard-page-connection-create',\n                    meta: {\n                        privilege: 'admin',\n                    },\n                },\n                connectionSelect: {\n                    path: 'connection/select',\n                    component: 'swag-migration-wizard-page-connection-select',\n                    meta: {\n                        privilege: 'admin',\n                    },\n                },\n                profileInformation: {\n                    path: 'profile/information',\n                    component: 'swag-migration-wizard-page-profile-information',\n                    meta: {\n                        privilege: 'admin',\n                    },\n                },\n                credentials: {\n                    path: 'credentials',\n                    component: 'swag-migration-wizard-page-credentials',\n                    meta: {\n                        privilege: 'admin',\n                    },\n                },\n                credentialsSuccess: {\n                    path: 'credentials/success',\n                    component: 'swag-migration-wizard-page-credentials-success',\n                    meta: {\n                        privilege: 'admin',\n                    },\n                },\n                credentialsError: {\n                    path: 'credentials/error',\n                    component: 'swag-migration-wizard-page-credentials-error',\n                    meta: {\n                        privilege: 'admin',\n                    },\n                },\n            },\n            meta: {\n                privilege: 'admin',\n            },\n        },\n    },\n\n    settingsItem: {\n        group: 'plugins',\n        to: 'swag.migration.index',\n        iconComponent: 'swag-migration-settings-icon',\n        privilege: 'admin',\n    },\n});\n","/* eslint-disable */\n/**\n * @deprecated tag:v16.0.0 - With Shopware v6.8.0 - `translation.init.ts` will be removed to use automatic language loading with language layer support\n */\nimport deMigrationSnippets from '../module/swag-migration/snippet/de.json';\nimport enMigrationSnippets from '../module/swag-migration/snippet/en.json';\n\nShopware.Locale.extend('de-DE', deMigrationSnippets);\nShopware.Locale.extend('en-GB', enMigrationSnippets);\n"],"names":["ApiService","MIGRATION_STEP","MigrationApiService","httpClient","loginService","apiEndpoint","connectionId","credentialFields","additionalHeaders","headers","response","dataSelectionIds","premapping","dataSelectionNames","profileName","gatewayName","runUuid","Application","container","initContainer","Mixin","debug","routeIndices","routeIndex","previousRoute","route","nextRoute","notifyCallback","routerCurrentRoute","currentRoute","error","template$B","Component","template","template$A","Store","mapState","format","Criteria","BADGE_TYPE","value","locale","match","newConnectionId","criteria","runs","connection","profileInformation","template$z","debounce","group","mapping","template$y","template$x","template$w","template$v","item","index","classes","template$u","currentValue","template$t","active","template$s","newChoices","choice","start","end","template$r","template$q","template$p","template$o","template$n","forceFullStateReload","template$m","tabItem","template$l","template$k","SSL_REQUIRED_ERROR_CODE","CONNECTION_NAME_ERRORS","routes","to","from","next","field","connectionCheckResponse","errorCode","items","resolve","connectionResponse","valid","newConnection","name","res","reject","setting","template$j","template$i","pluginCriteria","result","template$h","con","template$g","ShopwareError","snippet","searchParams","searchTerm","option","gateways","isReady","template$f","template$e","template$d","template$c","template$b","params","runId","template$a","template$9","startIndex","endIndex","i","first","second","snippetKey","template$8","entitySelection","template$7","MIGRATION_STATE_POLLING_INTERVAL","MIGRATION_STEP_DISPLAY_INDEX","UI_COMPONENT_INDEX","migrationRunning","state","template$6","id","_a","selection","selectionIds","data","entityTotals","string","key","template$5","template$4","API_KEY_INVALID_ERROR_CODE","newCredentials","newInputCredentials","input","apiKey","template$3","iso","template$2","template$1","apiPassword","modules","__vite_glob_0_0","__vite_glob_0_1","__vite_glob_0_2","__vite_glob_0_3","__vite_glob_0_4","__vite_glob_0_5","__vite_glob_0_6","__vite_glob_0_7","__vite_glob_0_8","__vite_glob_0_9","__vite_glob_0_10","__vite_glob_0_11","__vite_glob_0_12","__vite_glob_0_13","__vite_glob_0_14","__vite_glob_0_15","__vite_glob_0_16","migrationApiService","repositoryFactory","migrationGeneralSettingRepository","MigrationStore","tableDataIds","migrationAllowedByDataSelection","migrationAllowedByEnvironment","environmentInformation","date","isLoading","newIds","newTableData","newPremapping","existingGroup","existingGroupItem","existingMapping","existingMappingItem","newMapping","confirmed","connectionIdChanged","settings","dataSelection","errorMessageKey","Module","deMigrationSnippets","enMigrationSnippets"],"mappings":"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"}