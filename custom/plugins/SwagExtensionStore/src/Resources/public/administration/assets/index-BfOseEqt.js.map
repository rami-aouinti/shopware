{"version":3,"file":"index-BfOseEqt.js","sources":["../../../app/administration/src/module/sw-extension-store/component/sw-extension-listing-card/sw-extension-listing-card.html.twig","../../../app/administration/src/module/sw-extension-store/component/sw-extension-listing-card/index.js"],"sourcesContent":["{% block sw_extension_listing_card %}\n    <div class=\"sw-extension-listing-card\" @click=\"openDetailPage\">\n        {% block sw_extension_listing_card_content %}\n            {% block sw_extension_listing_card_info_grid %}\n                <div class=\"sw-extension-listing-card__info-grid\">\n                    {% block sw_extension_listing_card_info_icon %}\n                        <sw-extension-icon\n                            class=\"sw-extension-listing-card__info-icon\"\n                            :src=\"extension.icon\"\n                        />\n                    {% endblock %}\n\n                    {% block sw_extension_listing_card_info_name %}\n                        <p class=\"sw-extension-listing-card__info-name\">\n                            {{ extension.label }}\n                        </p>\n                    {% endblock %}\n\n                    {% block sw_extension_listing_card_info_rating %}\n                        <div class=\"sw-extension-listing-card__info-rating\">\n                            <sw-extension-rating-stars\n                                class=\"sw-extension-listing-card__info-rating-stars\"\n                                :rating=\"extension.rating\"\n                                :size=\"12\"\n                            />\n\n                            <span class=\"sw-extension-listing-card__info-rating-count\">\n                                {{ extension.numberOfRatings }}\n                            </span>\n                        </div>\n                    {% endblock %}\n\n                    {% block sw_extension_listing_card_label_display %}\n                        <sw-extension-store-label-display\n                            v-if=\"extension.labels.length > 0\"\n                            :labels=\"extension.labels\"\n                            class=\"sw-extension-listing-card__label-display\"\n                        />\n                    {% endblock %}\n\n                    {% block sw_extension_listing_card_info_description %}\n                        <p class=\"sw-extension-listing-card__info-description is--wrap-content\">\n                            {{ extension.shortDescription }}\n                        </p>\n                    {% endblock %}\n\n                    {% block sw_extension_listing_card_info_price %}\n                        <div class=\"sw-extension-listing-card__info-price\">\n                            <template v-if=\"isInstalled\">\n                                <strong>{{ $t('sw-extension-store.component.sw-extension-listing-card.labelInstalled') }}</strong>\n                            </template>\n\n                            <template v-else-if=\"isLicensed\">\n                                <strong>{{ $t('sw-extension-store.component.sw-extension-listing-card.labelLicensed') }}</strong>\n                            </template>\n\n                            <template v-else-if=\"isFree\">\n                                <strong>{{ $t('sw-extension-store.general.labelFree') }}</strong>\n                            </template>\n\n                            <template v-else-if=\"recommendedVariant\">\n                                <span\n                                    v-if=\"hasActiveDiscount\"\n                                    class=\"sw-extension-listing-card__info-price-badge-sale\"\n                                >\n                                    {{ $t('sw-extension-store.general.labelSale') }}\n                                </span>\n\n                                <i18n-t :keypath=\"calculatedPriceSnippet\" tag=\"span\" :class=\"priceClass\">\n                                    <template #price>\n                                        <strong>{{ calculatedPrice }}</strong>\n                                    </template>\n                                </i18n-t>\n                            </template>\n                        </div>\n                    {% endblock %}\n                </div>\n            {% endblock %}\n        {% endblock %}\n    </div>\n{% endblock %}\n","import template from './sw-extension-listing-card.html.twig';\nimport './sw-extension-listing-card.scss';\n\n/**\n * @private\n */\nexport default {\n    template,\n\n    inject: [\n        'extensionStoreService',\n    ],\n\n    props: {\n        extension: {\n            type: Object,\n            required: true,\n        },\n    },\n\n    computed: {\n        assetFilter() {\n            return Shopware.Filter.getByName('asset');\n        },\n\n        calculatedPrice() {\n            return this.extensionStoreService.getCalculatedPrice(this.recommendedVariant);\n        },\n\n        calculatedPriceSnippet() {\n            return this.extensionStoreService.getCalculatedPriceSnippet(this.extension.variants);\n        },\n\n        hasActiveDiscount() {\n            return this.extensionStoreService.isExtensionDiscounted(this.extension.variants);\n        },\n\n        isFree() {\n            return this.extensionStoreService.isVariantOfTypeFree(this.recommendedVariant);\n        },\n\n        isInstalled() {\n            return !!Shopware.Store.get('shopwareExtensions').myExtensions.data.some((installedExtension) => {\n                return installedExtension.installedAt && installedExtension.name === this.extension.name;\n            });\n        },\n\n        isLicensed() {\n            const extension = Shopware.Store.get('shopwareExtensions').myExtensions.data\n                .find((installedExtension) => installedExtension.name === this.extension.name);\n\n            if (extension === undefined) {\n                return false;\n            }\n\n            return !!extension.storeLicense;\n        },\n\n        priceClass() {\n            return {\n                'sw-extension-listing-card__info-price-discounted': this.hasActiveDiscount,\n            };\n        },\n\n        recommendedVariant() {\n            return this.extensionStoreService.getRecommendedVariant(this.extension.variants);\n        },\n    },\n\n    methods: {\n        openDetailPage() {\n            this.$router.push({\n                name: 'sw.extension.store.detail',\n                params: { id: this.extension.id.toString() },\n            });\n        },\n    },\n};\n"],"names":["template","index","installedExtension","extension"],"mappings":"AAAA,MAAAA,EAAe,mqECMfC,EAAe,CACX,SAAAD,EAEA,OAAQ,CACJ,uBACR,EAEI,MAAO,CACH,UAAW,CACP,KAAM,OACN,SAAU,EACtB,CACA,EAEI,SAAU,CACN,aAAc,CACV,OAAO,SAAS,OAAO,UAAU,OAAO,CACpD,EAEQ,iBAAkB,CACd,OAAO,KAAK,sBAAsB,mBAAmB,KAAK,kBAAkB,CACxF,EAEQ,wBAAyB,CACrB,OAAO,KAAK,sBAAsB,0BAA0B,KAAK,UAAU,QAAQ,CAC/F,EAEQ,mBAAoB,CAChB,OAAO,KAAK,sBAAsB,sBAAsB,KAAK,UAAU,QAAQ,CAC3F,EAEQ,QAAS,CACL,OAAO,KAAK,sBAAsB,oBAAoB,KAAK,kBAAkB,CACzF,EAEQ,aAAc,CACV,MAAO,CAAC,CAAC,SAAS,MAAM,IAAI,oBAAoB,EAAE,aAAa,KAAK,KAAME,GAC/DA,EAAmB,aAAeA,EAAmB,OAAS,KAAK,UAAU,IACvF,CACb,EAEQ,YAAa,CACT,MAAMC,EAAY,SAAS,MAAM,IAAI,oBAAoB,EAAE,aAAa,KACnE,KAAMD,GAAuBA,EAAmB,OAAS,KAAK,UAAU,IAAI,EAEjF,OAAIC,IAAc,OACP,GAGJ,CAAC,CAACA,EAAU,YAC/B,EAEQ,YAAa,CACT,MAAO,CACH,mDAAoD,KAAK,iBACzE,CACA,EAEQ,oBAAqB,CACjB,OAAO,KAAK,sBAAsB,sBAAsB,KAAK,UAAU,QAAQ,CAC3F,CACA,EAEI,QAAS,CACL,gBAAiB,CACb,KAAK,QAAQ,KAAK,CACd,KAAM,4BACN,OAAQ,CAAE,GAAI,KAAK,UAAU,GAAG,UAAU,CAC1D,CAAa,CACb,CACA,CACA"}