{"version":3,"file":"index-BW1bHCRm.js","sources":["../../../app/administration/src/module/sw-in-app-purchases/component/sw-in-app-purchase-checkout-subscription-change/sw-in-app-purchase-checkout-subscription-change.html.twig","../../../app/administration/src/module/sw-in-app-purchases/component/sw-in-app-purchase-checkout-subscription-change/index.ts"],"sourcesContent":["<div class=\"sw-in-app-purchase-checkout-subscription-change\">\n    <div class=\"sw-in-app-purchase-checkout-subscription-change__item\">\n        <p class=\"sw-in-app-purchase-checkout-subscription-change__plan-name\">\n            {{ $t('sw-in-app-purchase-checkout-subscription-change.current-plan') }}\n        </p>\n        <p class=\"sw-in-app-purchase-checkout-subscription-change__plan-price\">\n            {{ getCurrentPrice }}*/{{ $t('sw-in-app-purchase-price-box.duration.' + cartPosition.variant) }}\n        </p>\n    </div>\n    <div class=\"sw-in-app-purchase-checkout-subscription-change__item\">\n        <p class=\"sw-in-app-purchase-checkout-subscription-change__plan-name\">\n            {{ $t('sw-in-app-purchase-checkout-subscription-change.new-plan') }}\n            <span class=\"sw-in-app-purchase-checkout-subscription-change__note\">\n                ({{ $t('sw-in-app-purchase-checkout-subscription-change.starting') }} {{ formattedStartingDate }})\n            </span>\n        </p>\n        <p class=\"sw-in-app-purchase-checkout-subscription-change__plan-price\">\n            {{ currencyFilter(cart.netPrice, 'EUR', 2) }}*/{{ $t('sw-in-app-purchase-price-box.duration.' + cartPosition.variant) }}\n        </p>\n    </div>\n\n    <div class=\"sw-in-app-purchase-checkout-subscription-change__divider\" />\n\n    <div class=\"sw-in-app-purchase-checkout-subscription-change__item\">\n        <p class=\"sw-in-app-purchase-checkout-subscription-change__due-day\">\n            {{ $t('sw-in-app-purchase-checkout-subscription-change.due-today') }}\n        </p>\n        <p class=\"sw-in-app-purchase-checkout-subscription-change__due-day\">\n            {{ currencyFilter(cartPosition.proratedNetPrice, 'EUR', 2) }}*\n        </p>\n    </div>\n\n    <p class=\"sw-in-app-purchase-checkout-subscription-change__info-hint\">\n{{ infoHint }}\n</p>\n</div>\n","import type * as IAP from \"SwagExtensionStore/module/sw-in-app-purchases/types\";\nimport template from \"./sw-in-app-purchase-checkout-subscription-change.html.twig\";\nimport './sw-in-app-purchase-checkout-subscription-change.scss';\n\nexport default Shopware.Component.wrapComponentConfig({\n    template,\n\n    props: {\n        purchase: {\n            type: Object as PropType<IAP.InAppPurchase>,\n            required: true,\n        },\n        cart: {\n            type: Object as PropType<IAP.InAppPurchaseCart>,\n            required: true,\n        },\n    },\n\n    computed: {\n        locale() {\n            const local = String(Shopware.Store.get('session').currentLocale ??\n                Shopware.Store.get('context').app?.fallbackLocale ?? 'en-GB');\n\n            return new Intl.Locale(local);\n        },\n\n        currencyFilter() {\n            return Shopware.Filter.getByName('currency');\n        },\n\n        formattedStartingDate(): string {\n            const date = new Date(this.cartPosition.nextBookingDate ?? '');\n            return date.toLocaleDateString(this.locale, { month: \"numeric\", day: \"numeric\" });\n        },\n\n        infoHint(): string {\n            const today = new Date().toLocaleDateString(this.locale, {\n                month: 'long',\n                day: 'numeric',\n            });\n\n            const nextBookingDate = this.cartPosition?.nextBookingDate\n                ? new Date(this.cartPosition.nextBookingDate).toLocaleDateString(this.locale, {\n                    month: 'long',\n                    day: 'numeric',\n                })\n                : '';\n\n            return this.$t('sw-in-app-purchase-checkout-subscription-change.info-lint', {\n                today,\n                price: this.currencyFilter(this.cartPosition?.proratedNetPrice, 'EUR', 2),\n                variant: this.cartPosition?.variant ?? '',\n                fee: this.currencyFilter(this.cart.netPrice, 'EUR', 2),\n                start: nextBookingDate,\n            });\n        },\n\n        cartPosition() {\n            return this.cart.positions[0];\n        },\n\n        getCurrentPrice() {\n            const price = this.cartPosition?.subscriptionChange?.currentFeature?.priceModels\n                ?.find((priceModel) => priceModel.variant === this.cartPosition.variant)?.price;\n\n            return String(this.currencyFilter(price, 'EUR', 2));\n        },\n    },\n});\n"],"names":["template","index","_a","local","_b","_c","today","nextBookingDate","_d","_e","price","priceModel"],"mappings":"AAAA,MAAAA,EAAe,+iDCIfC,EAAe,SAAS,UAAU,oBAAoB,CAClD,SAAAD,EAEA,MAAO,CACH,SAAU,CACN,KAAM,OACN,SAAU,EAAA,EAEd,KAAM,CACF,KAAM,OACN,SAAU,EAAA,CACd,EAGJ,SAAU,CACN,QAAS,CDnBjB,IAAAE,ECoBY,MAAMC,EAAQ,OAAO,SAAS,MAAM,IAAI,SAAS,EAAE,iBAC/CD,EAAA,SAAS,MAAM,IAAI,SAAS,EAAE,MAA9B,YAAAA,EAAmC,iBAAkB,OAAO,EAEhE,OAAO,IAAI,KAAK,OAAOC,CAAK,CAAA,EAGhC,gBAAiB,CACb,OAAO,SAAS,OAAO,UAAU,UAAU,CAAA,EAG/C,uBAAgC,CAE5B,OADa,IAAI,KAAK,KAAK,aAAa,iBAAmB,EAAE,EACjD,mBAAmB,KAAK,OAAQ,CAAE,MAAO,UAAW,IAAK,UAAW,CAAA,EAGpF,UAAmB,CDnC3B,IAAAD,EAAAE,EAAAC,ECoCY,MAAMC,EAAQ,IAAI,KAAA,EAAO,mBAAmB,KAAK,OAAQ,CACrD,MAAO,OACP,IAAK,SAAA,CACR,EAEKC,GAAkBL,EAAA,KAAK,eAAL,MAAAA,EAAmB,gBACrC,IAAI,KAAK,KAAK,aAAa,eAAe,EAAE,mBAAmB,KAAK,OAAQ,CAC1E,MAAO,OACP,IAAK,SAAA,CACR,EACC,GAEN,OAAO,KAAK,GAAG,4DAA6D,CACxE,MAAAI,EACA,MAAO,KAAK,gBAAeF,EAAA,KAAK,eAAL,YAAAA,EAAmB,iBAAkB,MAAO,CAAC,EACxE,UAASC,EAAA,KAAK,eAAL,YAAAA,EAAmB,UAAW,GACvC,IAAK,KAAK,eAAe,KAAK,KAAK,SAAU,MAAO,CAAC,EACrD,MAAOE,CAAA,CACV,CAAA,EAGL,cAAe,CACX,OAAO,KAAK,KAAK,UAAU,CAAC,CAAA,EAGhC,iBAAkB,CD7D1B,IAAAL,EAAAE,EAAAC,EAAAG,EAAAC,EC8DY,MAAMC,GAAQD,GAAAD,GAAAH,GAAAD,GAAAF,EAAA,KAAK,eAAL,YAAAA,EAAmB,qBAAnB,YAAAE,EAAuC,iBAAvC,YAAAC,EAAuD,cAAvD,YAAAG,EACR,KAAMG,GAAeA,EAAW,UAAY,KAAK,aAAa,WADtD,YAAAF,EACgE,MAE9E,OAAO,OAAO,KAAK,eAAeC,EAAO,MAAO,CAAC,CAAC,CAAA,CACtD,CAER,CAAC"}