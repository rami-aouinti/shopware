<?xml version="1.0" ?>
<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">
    <services>
        <defaults autowire="true" autoconfigure="true" />

        <service id="LieferzeitenManagement\Core\Content\OrderPosition\LieferzeitenOrderPositionDefinition">
            <tag name="shopware.entity.definition" />
        </service>
        <service id="LieferzeitenManagement\Core\Content\Package\LieferzeitenPackageDefinition">
            <tag name="shopware.entity.definition" />
        </service>
        <service id="LieferzeitenManagement\Core\Content\PackagePosition\LieferzeitenPackagePositionDefinition">
            <tag name="shopware.entity.definition" />
        </service>
        <service id="LieferzeitenManagement\Core\Content\DateHistory\LieferzeitenDateHistoryDefinition">
            <tag name="shopware.entity.definition" />
        </service>
        <service id="LieferzeitenManagement\Core\Content\ActivityLog\LieferzeitenActivityLogDefinition">
            <tag name="shopware.entity.definition" />
        </service>
        <service id="LieferzeitenManagement\Core\Content\Task\LieferzeitenTaskDefinition">
            <tag name="shopware.entity.definition" />
        </service>
        <service id="LieferzeitenManagement\Core\Content\Settings\LieferzeitenSettingsDefinition">
            <tag name="shopware.entity.definition" />
        </service>
        <service id="LieferzeitenManagement\Core\Content\NotificationSettings\LieferzeitenNotificationSettingsDefinition">
            <tag name="shopware.entity.definition" />
        </service>
        <service id="LieferzeitenManagement\Core\Content\TrackingNumber\LieferzeitenTrackingNumberDefinition">
            <tag name="shopware.entity.definition" />
        </service>
        <service id="LieferzeitenManagement\Core\Content\TrackingEvent\LieferzeitenTrackingEventDefinition">
            <tag name="shopware.entity.definition" />
        </service>
        <service id="LieferzeitenManagement\Core\Content\TaskAssignment\LieferzeitenTaskAssignmentDefinition">
            <tag name="shopware.entity.definition" />
        </service>
        <service id="LieferzeitenManagement\Core\Content\SyncLog\LieferzeitenSyncLogDefinition">
            <tag name="shopware.entity.definition" />
        </service>

        <service id="LieferzeitenManagement\Service\San6SyncService">
            <argument type="service" id="LieferzeitenManagement\Service\San6Client" />
            <argument type="service" id="lieferzeiten_package.repository" />
            <argument type="service" id="lieferzeiten_tracking_number.repository" />
            <argument type="service" id="order.repository" />
            <argument type="service" id="LieferzeitenManagement\Service\Deadline\DeadlineResolver" />
            <argument type="service" id="LieferzeitenManagement\Service\Status\StatusResolver" />
            <argument type="service" id="LieferzeitenManagement\Service\Status\StatusSyncBackService" />
        </service>

        <service id="LieferzeitenManagement\Service\OrderPositionSyncService">
            <argument type="service" id="LieferzeitenManagement\Service\San6Client" />
            <argument type="service" id="order.repository" />
            <argument type="service" id="lieferzeiten_order_position.repository" />
            <argument type="service" id="lieferzeiten_package.repository" />
            <argument type="service" id="lieferzeiten_package_position.repository" />
        </service>

        <service id="LieferzeitenManagement\Service\TrackingSyncService">
            <argument type="service" id="LieferzeitenManagement\Service\TrackingClient" />
            <argument type="service" id="lieferzeiten_tracking_event.repository" />
            <argument type="service" id="lieferzeiten_tracking_number.repository" />
            <argument type="service" id="lieferzeiten_package.repository" />
            <argument type="service" id="LieferzeitenManagement\Service\TrackingStatusInterpreter" />
            <argument type="service" id="LieferzeitenManagement\Service\OrderCompletionUpdater" />
        </service>

        <service id="LieferzeitenManagement\Service\Status\StatusResolver" />

        <service id="LieferzeitenManagement\Service\Status\StatusSyncBackService">
            <argument type="service" id="order.repository" />
            <argument type="service" id="lieferzeiten_sync_log.repository" />
            <argument type="service" id="state_machine.registry" />
        </service>

        <service id="LieferzeitenManagement\Service\San6Client" />

        <service id="LieferzeitenManagement\Service\TrackingClient" />

        <service id="LieferzeitenManagement\Service\TrackingStatusInterpreter" />

        <service id="LieferzeitenManagement\Service\OrderCompletionUpdater">
            <argument type="service" id="lieferzeiten_package.repository" />
        </service>

        <service id="LieferzeitenManagement\Service\Deadline\DeadlineCalculator" />

        <service id="LieferzeitenManagement\Service\Deadline\DeadlineResolver">
            <argument type="service" id="order.repository" />
            <argument type="service" id="lieferzeiten_settings.repository" />
            <argument type="service" id="LieferzeitenManagement\Service\Deadline\DeadlineCalculator" />
        </service>

        <service id="LieferzeitenManagement\Command\LieferzeitenSyncCommand">
            <argument type="service" id="LieferzeitenManagement\Service\San6SyncService" />
            <argument type="service" id="LieferzeitenManagement\Service\OrderPositionSyncService" />
            <argument type="service" id="LieferzeitenManagement\Service\TrackingSyncService" />
            <argument type="service" id="lieferzeiten_tracking_number.repository" />
        </service>

        <service id="LieferzeitenManagement\Service\Task\TaskAssignmentResolver">
            <argument type="service" id="lieferzeiten_task_assignment.repository" />
        </service>

        <service id="LieferzeitenManagement\Service\Task\OverdueShippingTaskGenerator">
            <argument type="service" id="lieferzeiten_package.repository" />
            <argument type="service" id="lieferzeiten_task.repository" />
            <argument type="service" id="order.repository" />
            <argument type="service" id="LieferzeitenManagement\Service\Task\TaskAssignmentResolver" />
        </service>

        <service id="LieferzeitenManagement\Command\LieferzeitenGenerateTasksCommand">
            <argument type="service" id="LieferzeitenManagement\Service\Task\OverdueShippingTaskGenerator" />
        </service>

        <service id="LieferzeitenManagement\Service\Stats\LieferzeitenStatsAggregationService" />

        <service id="LieferzeitenManagement\Api\LieferzeitenStatsController">
            <tag name="controller.service_arguments" />
        <service id="LieferzeitenManagement\Service\Task\TaskCompletionNotifier" />

        <service id="LieferzeitenManagement\Subscriber\TaskCompletionSubscriber">
            <argument type="service" id="lieferzeiten_task.repository" />
            <argument type="service" id="LieferzeitenManagement\Service\Task\TaskCompletionNotifier" />
            <tag name="kernel.event_subscriber" />
        </service>

        <service id="LieferzeitenManagement\ScheduledTask\OverdueShippingScheduledTask">
            <tag name="shopware.scheduled.task" />
        </service>

        <service id="LieferzeitenManagement\ScheduledTask\OverdueShippingScheduledTaskHandler">
            <argument type="service" id="scheduled_task.repository" />
            <argument type="service" id="LieferzeitenManagement\Service\Task\OverdueShippingTaskGenerator" />
            <tag name="messenger.message_handler" />
        </service>
    </services>
</container>
