{% block lieferzeiten_index %}
    <sw-page class="lieferzeiten-index">
        <template #smart-bar-header>
            <h2>
                {{ $t('lieferzeiten.general.mainMenuItemGeneral') }}
            </h2>
        </template>

        <template #smart-bar-actions>
            <lieferzeiten-domain-selection v-model="selectedDomain" />
        </template>

        <template #content>
            <sw-card-view>
                <sw-card class="lieferzeiten-index__info" :title="$t('lieferzeiten.general.infoTitle')">
                    <p>{{ $t('lieferzeiten.general.timezoneInfo') }}</p>
                    <p>{{ $t('lieferzeiten.general.openDefinition') }}</p>
                </sw-card>


                <sw-card class="lieferzeiten-index__filters" :title="$t('global.sw-data-grid.filterPanel.title')">
                    <sw-container columns="repeat(auto-fit, minmax(220px, 1fr))" gap="16px">
                        <sw-text-field v-model:value="filters.bestellnummer" label="Bestellnummer" />
                        <sw-text-field v-model:value="filters.san6" label="San6 Auftragsnummer" />
                        <sw-text-field v-model:value="filters.user" label="Username" />
                        <sw-text-field v-model:value="filters.sendenummer" label="Sendenummer" />
                        <sw-text-field v-model:value="filters.status" label="Status" />

                        <sw-datepicker v-model:value="filters.shippingDateFrom" label="spätester Versandzeitpunkt (von)" />
                        <sw-datepicker v-model:value="filters.shippingDateTo" label="spätester Versandzeitpunkt (bis)" />

                        <sw-datepicker v-model:value="filters.businessDateFrom" label="Versand-Datum (von)" />
                        <sw-datepicker v-model:value="filters.businessDateTo" label="Versand-Datum (bis)" />

                        <sw-datepicker v-model:value="filters.deliveryDateFrom" label="spätester Lieferzeitpunkt (von)" />
                        <sw-datepicker v-model:value="filters.deliveryDateTo" label="spätester Lieferzeitpunkt (bis)" />

                        <sw-datepicker v-model:value="filters.businessDateEndFrom" label="Liefer-Datum (von)" />
                        <sw-datepicker v-model:value="filters.businessDateEndTo" label="Liefer-Datum (bis)" />

                        <sw-datepicker v-model:value="filters.lieferterminLieferantFrom" label="Liefertermin Lieferant (von)" />
                        <sw-datepicker v-model:value="filters.lieferterminLieferantTo" label="Liefertermin Lieferant (bis)" />

                        <sw-datepicker v-model:value="filters.neuerLieferterminFrom" label="Liefertermin Auftragsbearbeitung (von)" />
                        <sw-datepicker v-model:value="filters.neuerLieferterminTo" label="Liefertermin Auftragsbearbeitung (bis)" />
                    </sw-container>

                    <div class="lieferzeiten-index__filter-actions">
                        <sw-button variant="primary" @click="applyFilters">Filtern</sw-button>
                        <sw-button variant="ghost" @click="resetFilters">Zurücksetzen</sw-button>
                    </div>
                </sw-card>

                <sw-card class="lieferzeiten-index__tabs">
                    <sw-loader v-if="isLoading" />

                    <sw-empty-state
                        v-else-if="loadError"
                        :title="$t('lieferzeiten.loading.errorTitle')"
                        :subline="$t('lieferzeiten.loading.errorDescription')"
                    >
                        <template #actions>
                            <sw-button variant="primary" @click="loadOrders">
                                {{ $t('lieferzeiten.loading.retry') }}
                            </sw-button>
                        </template>
                    </sw-empty-state>

                    <template v-else>
                        <sw-tabs>
                            <sw-tabs-item
                                :to="{ name: 'lieferzeiten.all' }"
                                :title="$t('lieferzeiten.tabs.all')"
                            >
                                {{ $t('lieferzeiten.tabs.all') }}
                            </sw-tabs-item>
                            <sw-tabs-item
                                :to="{ name: 'lieferzeiten.open' }"
                                :title="$t('lieferzeiten.tabs.open')"
                            >
                                {{ $t('lieferzeiten.tabs.open') }}
                            </sw-tabs-item>

                            <sw-tabs-item
                                :to="{ name: 'lieferzeiten.statistics' }"
                                :title="$t('lieferzeiten.tabs.statistics')"
                            >
                                {{ $t('lieferzeiten.tabs.statistics') }}
                            </sw-tabs-item>
                        </sw-tabs>

                        <router-view
                            :orders="filteredOrders"
                            :selected-domain="selectedDomain"
                            :on-reload-order="loadOrders"
                        />
                    </template>
                </sw-card>
            </sw-card-view>
        </template>
    </sw-page>
{% endblock %}
