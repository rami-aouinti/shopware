{"version":3,"file":"external-orders-Bbpa0VtF.js","sources":["../../../app/administration/src/core/service/external-order.service.js","../../../app/administration/src/module/external-orders/page/external-orders-list/external-orders-list.html.twig","../../../app/administration/src/module/external-orders/page/external-orders-list/index.js","../../../app/administration/src/module/external-orders/index.js"],"sourcesContent":["const { ApiService } = Shopware.Classes;\n\nclass ExternalOrderService extends ApiService {\n    constructor(httpClient, loginService, apiEndpoint = 'external-orders') {\n        super(httpClient, loginService, apiEndpoint);\n        this.name = 'externalOrderService';\n    }\n\n    async list({ channel = null, search = null } = {}) {\n        const params = {};\n        if (channel) {\n            params.channel = channel;\n        }\n        if (search) {\n            params.search = search;\n        }\n\n        const response = await this.httpClient.get(`_action/${this.getApiBasePath()}/list`, {\n            headers: this.getBasicHeaders(),\n            params,\n        });\n\n        const data = ApiService.handleResponse(response) ?? response?.data;\n        return data?.data ?? data;\n    }\n\n    async detail(orderId) {\n        const response = await this.httpClient.get(`_action/${this.getApiBasePath()}/detail/${orderId}`, {\n            headers: this.getBasicHeaders(),\n        });\n\n        const data = ApiService.handleResponse(response) ?? response?.data;\n        return data?.data ?? data;\n    }\n}\n\nShopware.Application.addServiceProvider('externalOrderService', (container) => {\n    const initContainer = Shopware.Application.getContainer('init');\n    const httpClient = initContainer?.httpClient ?? container.httpClient;\n    const loginService = container.loginService ?? Shopware.Service('loginService');\n\n    return new ExternalOrderService(httpClient, loginService);\n});\n","<div class=\"external-orders\">\n    <header class=\"external-orders__header\">\n        <h2>Bestellübersichten</h2>\n    </header>\n\n    <main id=\"main\" class=\"sw-page__main-content\" tabindex=\"-1\">\n        <div class=\"external-orders__page\">\n            <sw-card class=\"external-orders__channels\" style=\"max-width: none; width: 100%;\">\n                <div class=\"external-orders__channel-tabs\">\n                    <button\n                        v-for=\"channel in channels\"\n                        :key=\"channel.id\"\n                        class=\"external-orders__channel-tab\"\n                        :class=\"{ 'is--active': activeChannel === channel.id }\"\n                        type=\"button\"\n                        @click=\"activeChannel = channel.id; loadOrders()\"\n                    >\n                        <span class=\"external-orders__channel-logo\">\n                            <img :src=\"channel.logo\" :alt=\"channel.label\" />\n                        </span>\n                        <span class=\"external-orders__channel-label\">{{ channel.label }}</span>\n                    </button>\n                </div>\n                <div class=\"external-orders__summary\">\n                    <div class=\"external-orders__summary-title\">\n                        <span>Bestellungen aus {{ activeChannelLabel }}</span>\n                    </div>\n                    <div\n                        v-if=\"activeChannelSource\"\n                        class=\"external-orders__summary-source\"\n                    >\n                        Quelle: {{ activeChannelSource }}\n                    </div>\n                    <div class=\"external-orders__summary-metrics\">\n                        <div class=\"external-orders__summary-item\">\n                            <span class=\"external-orders__summary-label\">Bestellungen</span>\n                            <span class=\"external-orders__summary-value\">{{ summary.orderCount }}</span>\n                        </div>\n                        <div class=\"external-orders__summary-item\">\n                            <span class=\"external-orders__summary-label\">Gesamtumsatz</span>\n                            <span class=\"external-orders__summary-value\">{{ formatCurrency(summary.totalRevenue) }}</span>\n                        </div>\n                        <div class=\"external-orders__summary-item\">\n                            <span class=\"external-orders__summary-label\">Stück</span>\n                            <span class=\"external-orders__summary-value\">{{ summary.totalItems }}</span>\n                        </div>\n                    </div>\n                    <div class=\"external-orders__summary-actions\">\n                        <button\n                            class=\"external-orders__button external-orders__button--primary\"\n                            type=\"button\"\n                            @click=\"exportSelectedOrdersPdf\"\n                        >\n                            <sw-icon name=\"regular-file-text\" size=\"16\" class=\"external-orders__download-icon\" />\n                            PDF herunterladen ({{ selectedOrders.length > 0 ? selectedOrders.length : filteredOrders.length }})\n                        </button>\n                        <button\n                            class=\"external-orders__button external-orders__button--secondary\"\n                            type=\"button\"\n                            @click=\"exportSelectedOrdersExcel\"\n                        >\n                            <sw-icon name=\"regular-file\" size=\"16\" class=\"external-orders__download-icon\" />\n                            Excel herunterladen ({{ selectedOrders.length > 0 ? selectedOrders.length : filteredOrders.length }})\n                        </button>\n                    </div>\n                </div>\n            </sw-card>\n\n            <sw-card class=\"external-orders__filters-card\" style=\"max-width: none; width: 100%;\">\n                <div class=\"external-orders__filters-bar\">\n                    <div class=\"external-orders__filters\">\n                        <button\n                            class=\"external-orders__button external-orders__button--primary\"\n                            type=\"button\"\n                            @click=\"resetFilters\"\n                        >\n                            <sw-icon name=\"regular-filter\" size=\"16\" />\n                            Filter löschen\n                        </button>\n                        <sw-datepicker placeholder=\"Start Datum\" class=\"external-orders__date\" size=\"small\" date-type=\"date\" />\n                        <sw-datepicker placeholder=\"End Datum\" class=\"external-orders__date\" size=\"small\" date-type=\"date\" />\n                        <button class=\"external-orders__button external-orders__button--primary\" type=\"button\">Anwenden</button>\n                    </div>\n                    <div class=\"external-orders__filters-actions\">\n                        <sw-text-field\n                            v-model=\"tableSearchTerm\"\n                            placeholder=\"Suche Bestellungen\"\n                            class=\"external-orders__search\"\n                            size=\"small\"\n                            type=\"search\"\n                        />\n                        <button\n                            class=\"external-orders__button external-orders__button--primary\"\n                            type=\"button\"\n                            :disabled=\"!hasSelectedOrders\"\n                            @click=\"openTestMarkingModal\"\n                        >\n                            Testmarkierung Anwenden\n                        </button>\n                    </div>\n                </div>\n\n                <div\n                    v-if=\"paginatedOrders.length > 0\"\n                    class=\"external-orders__table-wrapper\"\n                >\n                    <table class=\"external-orders__table\">\n                        <thead>\n                            <tr>\n                                <th class=\"external-orders__cell external-orders__cell--checkbox\">\n                                    <input\n                                        type=\"checkbox\"\n                                        class=\"external-orders__checkbox\"\n                                        :checked=\"isAllSelected\"\n                                        @change=\"toggleSelectAll($event)\"\n                                    />\n                                </th>\n                                <th class=\"external-orders__cell\">\n                                    <div class=\"external-orders__column-header\">\n                                        <button\n                                            class=\"external-orders__column-sort\"\n                                            type=\"button\"\n                                            @click=\"onSortColumn('orderNumber')\"\n                                        >\n                                            BestellNr\n                                            <span class=\"external-orders__sort-indicator\">\n                                                {{ getSortIndicator('orderNumber') }}\n                                            </span>\n                                        </button>\n                                        <button\n                                            class=\"external-orders__column-filter-button\"\n                                            :class=\"{ 'is--active': isColumnFilterActive('orderNumber') }\"\n                                            type=\"button\"\n                                            @click.stop=\"toggleColumnFilter('orderNumber')\"\n                                        >\n                                            <sw-icon name=\"regular-filter\" size=\"16\" />\n                                        </button>\n                                        <div\n                                            v-if=\"activeColumnFilter === 'orderNumber'\"\n                                            class=\"external-orders__column-filter-panel\"\n                                            @click.stop\n                                        >\n                                            <sw-single-select\n                                                v-model=\"columnFilterMatchMode\"\n                                                :options=\"columnFilterMatchOptions\"\n                                                size=\"small\"\n                                                class=\"external-orders__column-filter-field\"\n                                            />\n                                            <sw-single-select\n                                                v-model=\"columnFilters.orderNumber.operator\"\n                                                :options=\"columnFilterOperatorOptions\"\n                                                size=\"small\"\n                                                class=\"external-orders__column-filter-field\"\n                                            />\n                                            <sw-text-field\n                                                v-model=\"columnFilters.orderNumber.value\"\n                                                size=\"small\"\n                                                class=\"external-orders__column-filter-field\"\n                                            />\n                                            <button class=\"external-orders__column-filter-add external-orders__button external-orders__button--primary external-orders__button--small\"\n                                                disabled\n                                             type=\"button\">\n                                                + Add Rule\n                                            </button>\n                                            <div class=\"external-orders__column-filter-actions\">\n                                                <button class=\"external-orders__button external-orders__button--secondary external-orders__button--small\"\n                                                    @click=\"clearColumnFilter('orderNumber')\"\n                                                 type=\"button\">\n                                                    Clear\n                                                </button>\n                                                <button class=\"external-orders__button external-orders__button--primary external-orders__button--small\"\n                                                    @click=\"applyColumnFilter\"\n                                                 type=\"button\">\n                                                    Apply\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </th>\n                                <th class=\"external-orders__cell\">\n                                    <div class=\"external-orders__column-header\">\n                                        <button\n                                            class=\"external-orders__column-sort\"\n                                            type=\"button\"\n                                            @click=\"onSortColumn('customerName')\"\n                                        >\n                                            Kundenname\n                                            <span class=\"external-orders__sort-indicator\">\n                                                {{ getSortIndicator('customerName') }}\n                                            </span>\n                                        </button>\n                                        <button\n                                            class=\"external-orders__column-filter-button\"\n                                            :class=\"{ 'is--active': isColumnFilterActive('customerName') }\"\n                                            type=\"button\"\n                                            @click.stop=\"toggleColumnFilter('customerName')\"\n                                        >\n                                            <sw-icon name=\"regular-filter\" size=\"16\" />\n                                        </button>\n                                        <div\n                                            v-if=\"activeColumnFilter === 'customerName'\"\n                                            class=\"external-orders__column-filter-panel\"\n                                            @click.stop\n                                        >\n                                            <sw-single-select\n                                                v-model=\"columnFilterMatchMode\"\n                                                :options=\"columnFilterMatchOptions\"\n                                                size=\"small\"\n                                                class=\"external-orders__column-filter-field\"\n                                            />\n                                            <sw-single-select\n                                                v-model=\"columnFilters.customerName.operator\"\n                                                :options=\"columnFilterOperatorOptions\"\n                                                size=\"small\"\n                                                class=\"external-orders__column-filter-field\"\n                                            />\n                                            <sw-text-field\n                                                v-model=\"columnFilters.customerName.value\"\n                                                size=\"small\"\n                                                class=\"external-orders__column-filter-field\"\n                                            />\n                                            <button class=\"external-orders__column-filter-add external-orders__button external-orders__button--primary external-orders__button--small\"\n                                                disabled\n                                             type=\"button\">\n                                                + Add Rule\n                                            </button>\n                                            <div class=\"external-orders__column-filter-actions\">\n                                                <button class=\"external-orders__button external-orders__button--secondary external-orders__button--small\"\n                                                    @click=\"clearColumnFilter('customerName')\"\n                                                 type=\"button\">\n                                                    Clear\n                                                </button>\n                                                <button class=\"external-orders__button external-orders__button--primary external-orders__button--small\"\n                                                    @click=\"applyColumnFilter\"\n                                                 type=\"button\">\n                                                    Apply\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </th>\n                                <th class=\"external-orders__cell\">\n                                    <div class=\"external-orders__column-header\">\n                                        <button\n                                            class=\"external-orders__column-sort\"\n                                            type=\"button\"\n                                            @click=\"onSortColumn('orderReference')\"\n                                        >\n                                            AuftragsNr\n                                            <span class=\"external-orders__sort-indicator\">\n                                                {{ getSortIndicator('orderReference') }}\n                                            </span>\n                                        </button>\n                                        <button\n                                            class=\"external-orders__column-filter-button\"\n                                            :class=\"{ 'is--active': isColumnFilterActive('orderReference') }\"\n                                            type=\"button\"\n                                            @click.stop=\"toggleColumnFilter('orderReference')\"\n                                        >\n                                            <sw-icon name=\"regular-filter\" size=\"16\" />\n                                        </button>\n                                        <div\n                                            v-if=\"activeColumnFilter === 'orderReference'\"\n                                            class=\"external-orders__column-filter-panel\"\n                                            @click.stop\n                                        >\n                                            <sw-single-select\n                                                v-model=\"columnFilterMatchMode\"\n                                                :options=\"columnFilterMatchOptions\"\n                                                size=\"small\"\n                                                class=\"external-orders__column-filter-field\"\n                                            />\n                                            <sw-single-select\n                                                v-model=\"columnFilters.orderReference.operator\"\n                                                :options=\"columnFilterOperatorOptions\"\n                                                size=\"small\"\n                                                class=\"external-orders__column-filter-field\"\n                                            />\n                                            <sw-text-field\n                                                v-model=\"columnFilters.orderReference.value\"\n                                                size=\"small\"\n                                                class=\"external-orders__column-filter-field\"\n                                            />\n                                            <button class=\"external-orders__column-filter-add external-orders__button external-orders__button--primary external-orders__button--small\"\n                                                disabled\n                                             type=\"button\">\n                                                + Add Rule\n                                            </button>\n                                            <div class=\"external-orders__column-filter-actions\">\n                                                <button class=\"external-orders__button external-orders__button--secondary external-orders__button--small\"\n                                                    @click=\"clearColumnFilter('orderReference')\"\n                                                 type=\"button\">\n                                                    Clear\n                                                </button>\n                                                <button class=\"external-orders__button external-orders__button--primary external-orders__button--small\"\n                                                    @click=\"applyColumnFilter\"\n                                                 type=\"button\">\n                                                    Apply\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </th>\n                                <th class=\"external-orders__cell\">\n                                    <div class=\"external-orders__column-header\">\n                                        <button\n                                            class=\"external-orders__column-sort\"\n                                            type=\"button\"\n                                            @click=\"onSortColumn('email')\"\n                                        >\n                                            Email\n                                            <span class=\"external-orders__sort-indicator\">\n                                                {{ getSortIndicator('email') }}\n                                            </span>\n                                        </button>\n                                        <button\n                                            class=\"external-orders__column-filter-button\"\n                                            :class=\"{ 'is--active': isColumnFilterActive('email') }\"\n                                            type=\"button\"\n                                            @click.stop=\"toggleColumnFilter('email')\"\n                                        >\n                                            <sw-icon name=\"regular-filter\" size=\"16\" />\n                                        </button>\n                                        <div\n                                            v-if=\"activeColumnFilter === 'email'\"\n                                            class=\"external-orders__column-filter-panel\"\n                                            @click.stop\n                                        >\n                                            <sw-single-select\n                                                v-model=\"columnFilterMatchMode\"\n                                                :options=\"columnFilterMatchOptions\"\n                                                size=\"small\"\n                                                class=\"external-orders__column-filter-field\"\n                                            />\n                                            <sw-single-select\n                                                v-model=\"columnFilters.email.operator\"\n                                                :options=\"columnFilterOperatorOptions\"\n                                                size=\"small\"\n                                                class=\"external-orders__column-filter-field\"\n                                            />\n                                            <sw-text-field\n                                                v-model=\"columnFilters.email.value\"\n                                                size=\"small\"\n                                                class=\"external-orders__column-filter-field\"\n                                            />\n                                            <button class=\"external-orders__column-filter-add external-orders__button external-orders__button--primary external-orders__button--small\"\n                                                disabled\n                                             type=\"button\">\n                                                + Add Rule\n                                            </button>\n                                            <div class=\"external-orders__column-filter-actions\">\n                                                <button class=\"external-orders__button external-orders__button--secondary external-orders__button--small\"\n                                                    @click=\"clearColumnFilter('email')\"\n                                                 type=\"button\">\n                                                    Clear\n                                                </button>\n                                                <button class=\"external-orders__button external-orders__button--primary external-orders__button--small\"\n                                                    @click=\"applyColumnFilter\"\n                                                 type=\"button\">\n                                                    Apply\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </th>\n                                <th class=\"external-orders__cell\">\n                                    <div class=\"external-orders__column-header\">\n                                        <button\n                                            class=\"external-orders__column-sort\"\n                                            type=\"button\"\n                                            @click=\"onSortColumn('date')\"\n                                        >\n                                            Datum\n                                            <span class=\"external-orders__sort-indicator\">\n                                                {{ getSortIndicator('date') }}\n                                            </span>\n                                        </button>\n                                        <button\n                                            class=\"external-orders__column-filter-button\"\n                                            :class=\"{ 'is--active': isColumnFilterActive('date') }\"\n                                            type=\"button\"\n                                            @click.stop=\"toggleColumnFilter('date')\"\n                                        >\n                                            <sw-icon name=\"regular-filter\" size=\"16\" />\n                                        </button>\n                                        <div\n                                            v-if=\"activeColumnFilter === 'date'\"\n                                            class=\"external-orders__column-filter-panel\"\n                                            @click.stop\n                                        >\n                                            <sw-single-select\n                                                v-model=\"columnFilterMatchMode\"\n                                                :options=\"columnFilterMatchOptions\"\n                                                size=\"small\"\n                                                class=\"external-orders__column-filter-field\"\n                                            />\n                                            <sw-single-select\n                                                v-model=\"columnFilters.date.operator\"\n                                                :options=\"columnFilterOperatorOptions\"\n                                                size=\"small\"\n                                                class=\"external-orders__column-filter-field\"\n                                            />\n                                            <sw-text-field\n                                                v-model=\"columnFilters.date.value\"\n                                                size=\"small\"\n                                                class=\"external-orders__column-filter-field\"\n                                            />\n                                            <button class=\"external-orders__column-filter-add external-orders__button external-orders__button--primary external-orders__button--small\"\n                                                disabled\n                                             type=\"button\">\n                                                + Add Rule\n                                            </button>\n                                            <div class=\"external-orders__column-filter-actions\">\n                                                <button class=\"external-orders__button external-orders__button--secondary external-orders__button--small\"\n                                                    @click=\"clearColumnFilter('date')\"\n                                                 type=\"button\">\n                                                    Clear\n                                                </button>\n                                                <button class=\"external-orders__button external-orders__button--primary external-orders__button--small\"\n                                                    @click=\"applyColumnFilter\"\n                                                 type=\"button\">\n                                                    Apply\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </th>\n                                <th class=\"external-orders__cell\">\n                                    <div class=\"external-orders__column-header\">\n                                        <button\n                                            class=\"external-orders__column-sort\"\n                                            type=\"button\"\n                                            @click=\"onSortColumn('statusLabel')\"\n                                        >\n                                            Bestellstatus\n                                            <span class=\"external-orders__sort-indicator\">\n                                                {{ getSortIndicator('statusLabel') }}\n                                            </span>\n                                        </button>\n                                        <button\n                                            class=\"external-orders__column-filter-button\"\n                                            :class=\"{ 'is--active': isColumnFilterActive('statusLabel') }\"\n                                            type=\"button\"\n                                            @click.stop=\"toggleColumnFilter('statusLabel')\"\n                                        >\n                                            <sw-icon name=\"regular-filter\" size=\"16\" />\n                                        </button>\n                                        <div\n                                            v-if=\"activeColumnFilter === 'statusLabel'\"\n                                            class=\"external-orders__column-filter-panel\"\n                                            @click.stop\n                                        >\n                                            <sw-single-select\n                                                v-model=\"columnFilterMatchMode\"\n                                                :options=\"columnFilterMatchOptions\"\n                                                size=\"small\"\n                                                class=\"external-orders__column-filter-field\"\n                                            />\n                                            <sw-single-select\n                                                v-model=\"columnFilters.statusLabel.operator\"\n                                                :options=\"columnFilterOperatorOptions\"\n                                                size=\"small\"\n                                                class=\"external-orders__column-filter-field\"\n                                            />\n                                            <sw-text-field\n                                                v-model=\"columnFilters.statusLabel.value\"\n                                                size=\"small\"\n                                                class=\"external-orders__column-filter-field\"\n                                            />\n                                            <button class=\"external-orders__column-filter-add external-orders__button external-orders__button--primary external-orders__button--small\"\n                                                disabled\n                                             type=\"button\">\n                                                + Add Rule\n                                            </button>\n                                            <div class=\"external-orders__column-filter-actions\">\n                                                <button class=\"external-orders__button external-orders__button--secondary external-orders__button--small\"\n                                                    @click=\"clearColumnFilter('statusLabel')\"\n                                                 type=\"button\">\n                                                    Clear\n                                                </button>\n                                                <button class=\"external-orders__button external-orders__button--primary external-orders__button--small\"\n                                                    @click=\"applyColumnFilter\"\n                                                 type=\"button\">\n                                                    Apply\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </th>\n                                <th class=\"external-orders__cell external-orders__cell--actions\">\n                                    Ansicht\n                                </th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr v-for=\"order in paginatedOrders\" :key=\"getOrderKey(order)\">\n                                <td class=\"external-orders__cell external-orders__cell--checkbox\">\n                                    <input\n                                        type=\"checkbox\"\n                                        class=\"external-orders__checkbox\"\n                                        :checked=\"isOrderSelected(order)\"\n                                        @change=\"toggleOrderSelection(order, $event)\"\n                                    />\n                                </td>\n                                <td class=\"external-orders__cell\">{{ order.orderNumber }}</td>\n                                <td class=\"external-orders__cell\">{{ order.customerName }}</td>\n                                <td class=\"external-orders__cell\">{{ order.orderReference }}</td>\n                                <td class=\"external-orders__cell\">{{ order.email }}</td>\n                                <td class=\"external-orders__cell\">{{ order.date }}</td>\n                                <td class=\"external-orders__cell\">\n                                    <sw-label :variant=\"statusVariant(order.status)\" size=\"small\">\n                                        {{ order.statusLabel }}\n                                    </sw-label>\n                                </td>\n                                <td class=\"external-orders__cell external-orders__cell--actions\">\n                                    <button class=\"external-orders__action external-orders__button external-orders__button--ghost external-orders__button--small\"\n                                        @click=\"openDetail(order)\"\n                                     type=\"button\">\n                                        <sw-icon name=\"regular-eye\" size=\"16\" />\n                                    </button>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n                <div\n                    v-if=\"paginatedOrders.length > 0\"\n                    class=\"external-orders__pagination\"\n                >\n                    <div class=\"external-orders__pagination-controls\">\n                        <button\n                            type=\"button\"\n                            class=\"external-orders__pagination-nav\"\n                            :disabled=\"page <= 1\"\n                            @click=\"goToFirstPage\"\n                        >\n                            «\n                        </button>\n                        <button\n                            type=\"button\"\n                            class=\"external-orders__pagination-nav\"\n                            :disabled=\"page <= 1\"\n                            @click=\"goToPreviousPage\"\n                        >\n                            ‹\n                        </button>\n                        <div class=\"external-orders__pagination-pages\">\n                            <button\n                                v-for=\"pageNumber in visiblePages\"\n                                :key=\"pageNumber\"\n                                type=\"button\"\n                                class=\"external-orders__pagination-page\"\n                                :class=\"{ 'is--active': pageNumber === page }\"\n                                @click=\"goToPage(pageNumber)\"\n                            >\n                                {{ pageNumber }}\n                            </button>\n                        </div>\n                        <button\n                            type=\"button\"\n                            class=\"external-orders__pagination-nav\"\n                            :disabled=\"page >= totalPages\"\n                            @click=\"goToNextPage\"\n                        >\n                            ›\n                        </button>\n                        <button\n                            type=\"button\"\n                            class=\"external-orders__pagination-nav\"\n                            :disabled=\"page >= totalPages\"\n                            @click=\"goToLastPage\"\n                        >\n                            »\n                        </button>\n                        <sw-single-select\n                            v-model=\"limit\"\n                            :options=\"limitSelectOptions\"\n                            size=\"small\"\n                            class=\"external-orders__pagination-limit\"\n                            @change=\"onLimitChange\"\n                        />\n                    </div>\n                </div>\n                <sw-empty-state\n                    v-else\n                    icon=\"regular-shopping-cart\"\n                    title=\"Keine Bestellungen gefunden\"\n                    subline=\"Es wurden keine Bestellungen für die aktuelle Auswahl geladen.\"\n                />\n            </sw-card>\n\n            <sw-modal\n                v-if=\"showDetailModal && selectedOrder\"\n                :title=\"`Bestellübersicht für ${selectedOrder.orderNumber}`\"\n                variant=\"large\"\n                class=\"external-orders__detail-modal\"\n                @modal-close=\"closeDetail\"\n            >\n                <div class=\"external-orders__detail\">\n                    <sw-card title=\"Zusätzliche Bestellinformationen\" class=\"external-orders__detail-card\">\n                        <div class=\"external-orders__detail-grid\">\n                            <div class=\"external-orders__detail-section\">\n                                <h4>Kundendetails</h4>\n                                <dl>\n                                    <dt>Kundenname</dt>\n                                    <dd>{{ selectedOrder.customer.firstName }} {{ selectedOrder.customer.lastName }}</dd>\n                                    <dt>Kundennummer</dt>\n                                    <dd>{{ selectedOrder.customer.number }}</dd>\n                                    <dt>Vorname</dt>\n                                    <dd>{{ selectedOrder.customer.firstName }}</dd>\n                                    <dt>Nachname</dt>\n                                    <dd>{{ selectedOrder.customer.lastName }}</dd>\n                                    <dt>Kunden-Mail-Adresse</dt>\n                                    <dd>{{ selectedOrder.customer.email }}</dd>\n                                    <dt>Kundengruppe</dt>\n                                    <dd>{{ selectedOrder.customer.group }}</dd>\n                                </dl>\n                            </div>\n                            <div class=\"external-orders__detail-section\">\n                                <h4>Zahlungsdetails</h4>\n                                <dl>\n                                    <dt>Zahlungsmethode</dt>\n                                    <dd>{{ selectedOrder.payment.method }}</dd>\n                                    <dt>Zahlungscode</dt>\n                                    <dd>{{ selectedOrder.payment.code }}</dd>\n                                    <dt>Fälligkeitsdatum</dt>\n                                    <dd>{{ selectedOrder.payment.dueDate }}</dd>\n                                    <dt>Ausstehender Betrag</dt>\n                                    <dd>{{ selectedOrder.payment.outstanding }}</dd>\n                                    <dt>Abgerechnet</dt>\n                                    <dd>{{ selectedOrder.payment.settled }}</dd>\n                                    <dt>Zusatzinfo</dt>\n                                    <dd>{{ selectedOrder.payment.extra }}</dd>\n                                </dl>\n                            </div>\n                            <div class=\"external-orders__detail-section\">\n                                <h4>Rechnungsanschrift</h4>\n                                <dl>\n                                    <dt>Straße</dt>\n                                    <dd>{{ selectedOrder.billingAddress.street }}</dd>\n                                    <dt>PLZ</dt>\n                                    <dd>{{ selectedOrder.billingAddress.zip }}</dd>\n                                    <dt>Stadt</dt>\n                                    <dd>{{ selectedOrder.billingAddress.city }}</dd>\n                                    <dt>Land</dt>\n                                    <dd>{{ selectedOrder.billingAddress.country }}</dd>\n                                </dl>\n                            </div>\n                            <div class=\"external-orders__detail-section\">\n                                <h4>Lieferanschrift</h4>\n                                <dl>\n                                    <dt>Lieferadresse</dt>\n                                    <dd>{{ selectedOrder.shippingAddress.name }}</dd>\n                                    <dt>Lieferstraße</dt>\n                                    <dd>{{ selectedOrder.shippingAddress.street }}</dd>\n                                    <dt>Postleitzahl/Stadt</dt>\n                                    <dd>{{ selectedOrder.shippingAddress.zipCity }}</dd>\n                                    <dt>Land</dt>\n                                    <dd>{{ selectedOrder.shippingAddress.country }}</dd>\n                                </dl>\n                            </div>\n                            <div class=\"external-orders__detail-section\">\n                                <h4>Weitere Details</h4>\n                                <dl>\n                                    <dt>Bestelldatum</dt>\n                                    <dd>{{ selectedOrder.additional.orderDate }}</dd>\n                                    <dt>Status</dt>\n                                    <dd>{{ selectedOrder.additional.status }}</dd>\n                                    <dt>Bestelltyp</dt>\n                                    <dd>{{ selectedOrder.additional.orderType }}</dd>\n                                    <dt>Notizen</dt>\n                                    <dd>{{ selectedOrder.additional.notes }}</dd>\n                                    <dt>Fachberater</dt>\n                                    <dd>{{ selectedOrder.additional.consultant }}</dd>\n                                    <dt>Mandant</dt>\n                                    <dd>{{ selectedOrder.additional.tenant }}</dd>\n                                    <dt>San6 Auftragsnummer</dt>\n                                    <dd>{{ selectedOrder.additional.san6OrderNumber }}</dd>\n                                </dl>\n                            </div>\n                            <div class=\"external-orders__detail-section\">\n                                <h4>Erweiterte Bestelldaten</h4>\n                                <dl>\n                                    <dt>Versanddienstleister</dt>\n                                    <dd>{{ selectedOrder.shipping.carrier }}</dd>\n                                    <dt>Trackingnummer(n)</dt>\n                                    <dd>{{ selectedOrder.shipping.trackingNumbers.join(', ') }}</dd>\n                                    <dt>Einträge in Orgas San6</dt>\n                                    <dd>{{ selectedOrder.additional.orgaEntries.join(', ') }}</dd>\n                                    <dt>Dokumente aus Bildarchiv San6</dt>\n                                    <dd>{{ selectedOrder.additional.documents.join(', ') }}</dd>\n                                    <dt>PDMS ID + Variante</dt>\n                                    <dd>{{ selectedOrder.additional.pdmsId }} / {{ selectedOrder.additional.pdmsVariant }}</dd>\n                                    <dt>TopM Artikelnummer + Ausführung</dt>\n                                    <dd>{{ selectedOrder.additional.topmArticleNumber }} / {{ selectedOrder.additional.topmExecution }}</dd>\n                                    <dt>Bestellstatushistorie Gambio/Shopware</dt>\n                                    <dd>{{ selectedOrder.additional.statusHistorySource }}</dd>\n                                </dl>\n                            </div>\n                        </div>\n                    </sw-card>\n\n                    <sw-card title=\"Bestellprodukte\" class=\"external-orders__detail-card\">\n                        <sw-data-grid\n                            :data-source=\"selectedOrder.items\"\n                            :columns=\"[\n                                { property: 'name', label: 'Produktname' },\n                                { property: 'quantity', label: 'Menge' },\n                                { property: 'netPrice', label: 'Nettowert' },\n                                { property: 'taxRate', label: 'Steuersatz' },\n                                { property: 'grossPrice', label: 'Bruttowert' },\n                                { property: 'totalPrice', label: 'Gesamtwert' },\n                            ]\"\n                            identifier=\"external-orders-items\"\n                        >\n                            <template #column-netPrice=\"{ item }\">\n                                {{ formatCurrency(item.netPrice) }}\n                            </template>\n                            <template #column-taxRate=\"{ item }\">\n                                {{ item.taxRate }}%\n                            </template>\n                            <template #column-grossPrice=\"{ item }\">\n                                {{ formatCurrency(item.grossPrice) }}\n                            </template>\n                            <template #column-totalPrice=\"{ item }\">\n                                {{ formatCurrency(item.totalPrice) }}\n                            </template>\n                        </sw-data-grid>\n                    </sw-card>\n\n                    <sw-card title=\"Statusverlauf\" class=\"external-orders__detail-card\">\n                        <sw-data-grid\n                            :data-source=\"selectedOrder.statusHistory\"\n                            :columns=\"[\n                                { property: 'status', label: 'Status' },\n                                { property: 'date', label: 'Datum' },\n                                { property: 'comment', label: 'Kommentare' },\n                            ]\"\n                            identifier=\"external-orders-history\"\n                        />\n                    </sw-card>\n\n                    <sw-card title=\"Bestellgesamtsummen\" class=\"external-orders__detail-card\">\n                        <div class=\"external-orders__totals\">\n                            <div class=\"external-orders__totals-row\">\n                                <span>Warenwert</span>\n                                <span>{{ formatCurrency(selectedOrder.totals.items) }}</span>\n                            </div>\n                            <div class=\"external-orders__totals-row\">\n                                <span>Versandkosten</span>\n                                <span>{{ formatCurrency(selectedOrder.totals.shipping) }}</span>\n                            </div>\n                            <div class=\"external-orders__totals-row\">\n                                <span>Summe</span>\n                                <span>{{ formatCurrency(selectedOrder.totals.sum) }}</span>\n                            </div>\n                            <div class=\"external-orders__totals-row\">\n                                <span>inkl. MwSt.</span>\n                                <span>{{ formatCurrency(selectedOrder.totals.tax) }}</span>\n                            </div>\n                            <div class=\"external-orders__totals-row\">\n                                <span>Summe netto</span>\n                                <span>{{ formatCurrency(selectedOrder.totals.net) }}</span>\n                            </div>\n                        </div>\n                    </sw-card>\n                </div>\n            </sw-modal>\n\n            <div\n                v-if=\"showTestMarkingModal\"\n                class=\"external-orders__testmarking-overlay\"\n                role=\"dialog\"\n                aria-modal=\"true\"\n            >\n                <div class=\"external-orders__testmarking-dialog\">\n                    <header class=\"external-orders__testmarking-header\">\n                        <h3>Bestätigen von Änderungen der Testmarkierung</h3>\n                        <button\n                            type=\"button\"\n                            class=\"external-orders__testmarking-close\"\n                            aria-label=\"Modal schließen\"\n                            @click=\"closeTestMarkingModal\"\n                        >\n                            ×\n                        </button>\n                    </header>\n                    <div class=\"external-orders__testmarking-body\">\n                        <p class=\"external-orders__testmarking-intro\">\n                            Sie sind dabei, die folgenden Bestellungen als Testbestellungen zu markieren bzw. die Markierung\n                            aufzuheben. Bitte überprüfen Sie die Änderungen, bevor Sie sie bestätigen.\n                        </p>\n                        <div class=\"external-orders__testmarking-grid\">\n                            <div class=\"external-orders__testmarking-card\">\n                                <h4 class=\"external-orders__testmarking-title is--positive\">\n                                    Als Test zu markierende Bestellungen\n                                </h4>\n                                <ul class=\"external-orders__testmarking-list\">\n                                    <li\n                                        v-for=\"order in testMarkingOrders\"\n                                        :key=\"getOrderKey(order)\"\n                                    >\n                                        {{ getOrderDisplayLabel(order) }}\n                                    </li>\n                                    <li v-if=\"testMarkingOrders.length === 0\">\n                                        Keine Bestellungen ausgewählt.\n                                    </li>\n                                </ul>\n                            </div>\n                            <div class=\"external-orders__testmarking-card\">\n                                <h4 class=\"external-orders__testmarking-title is--negative\">\n                                    Bestellungen, die nicht als Test markieren\n                                </h4>\n                                <ul class=\"external-orders__testmarking-list\">\n                                    <li\n                                        v-for=\"order in unmarkedTestOrders\"\n                                        :key=\"getOrderKey(order)\"\n                                    >\n                                        {{ getOrderDisplayLabel(order) }}\n                                    </li>\n                                    <li v-if=\"unmarkedTestOrders.length === 0\">\n                                        Keine Bestellungen ausgewählt.\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                    <footer class=\"external-orders__testmarking-footer\">\n                        <sw-button variant=\"secondary\" @click=\"closeTestMarkingModal\">\n                            Abbrechen\n                        </sw-button>\n                        <sw-button variant=\"primary\" @click=\"applyTestMarking\">\n                            Bestätige\n                        </sw-button>\n                    </footer>\n                </div>\n            </div>\n\n            \n        </div>\n    </main>\n</div>\n","import template from './external-orders-list.html.twig';\nimport './external-orders-list.scss';\n\nconst { Component, Mixin } = Shopware;\n\nComponent.register('external-orders-list', {\n    template,\n\n    inject: ['externalOrderService', 'systemConfigApiService'],\n\n    mixins: [\n        Mixin.getByName('notification'),\n    ],\n\n    data() {\n        return {\n            isLoading: false,\n            orders: [],\n            summary: {\n                orderCount: 0,\n                totalRevenue: 0,\n                totalItems: 0,\n            },\n            channelSources: {},\n            channels: [\n                {\n                    id: 'b2b',\n                    label: 'First-medical-shop.de',\n                    logo: 'http://controlling.first-medical.de:8480/assets/images/b2b1.png',\n                },\n                {\n                    id: 'ebay_de',\n                    label: 'Ebay.DE',\n                    logo: 'http://controlling.first-medical.de:8480/assets/images/ebay1.png',\n                },\n                {\n                    id: 'kaufland',\n                    label: 'KaufLand',\n                    logo: 'http://controlling.first-medical.de:8480/assets/images/kaufland1.png',\n                },\n                {\n                    id: 'ebay_at',\n                    label: 'Ebay.AT',\n                    logo: 'http://controlling.first-medical.de:8480/assets/images/ebayAT.png',\n                },\n                {\n                    id: 'zonami',\n                    label: 'Zonami',\n                    logo: 'http://controlling.first-medical.de:8480/assets/images/zonami1.png',\n                },\n                {\n                    id: 'peg',\n                    label: 'PEG',\n                    logo: 'http://controlling.first-medical.de:8480/assets/images/peg2.png',\n                },\n                {\n                    id: 'bezb',\n                    label: 'BEZB',\n                    logo: 'http://controlling.first-medical.de:8480/assets/images/bezb1.png',\n                },\n            ],\n            activeChannel: 'b2b',\n            tableSearchTerm: '',\n            columnFilterMatchMode: 'all',\n            columnFilterMatchOptions: [\n                { value: 'all', label: 'Match All' },\n            ],\n            columnFilterOperatorOptions: [\n                { value: 'startsWith', label: 'Starts with' },\n                { value: 'contains', label: 'Contains' },\n                { value: 'equals', label: 'Equals' },\n            ],\n            columnFilters: {\n                orderNumber: { value: '', operator: 'startsWith' },\n                customerName: { value: '', operator: 'startsWith' },\n                orderReference: { value: '', operator: 'startsWith' },\n                email: { value: '', operator: 'startsWith' },\n                date: { value: '', operator: 'startsWith' },\n                statusLabel: { value: '', operator: 'startsWith' },\n            },\n            activeColumnFilter: null,\n            selectedOrder: null,\n            selectedOrders: [],\n            showDetailModal: false,\n            showTestMarkingModal: false,\n            page: 1,\n            limit: 10,\n            limitOptions: [10, 25, 50, 100],\n            sortBy: 'date',\n            sortDirection: 'DESC',\n        };\n    },\n\n    computed: {\n        columns() {\n            return [\n                {\n                    property: 'order-number',\n                    dataIndex: 'orderNumber',\n                    sortBy: 'orderNumber',\n                    label: 'BestellNr',\n                    sortable: true,\n                    primary: true,\n                    allowResize: true,\n                },\n                {\n                    property: 'customer-name',\n                    dataIndex: 'customerName',\n                    sortBy: 'customerName',\n                    label: 'Kundenname',\n                    sortable: true,\n                    allowResize: true,\n                },\n                {\n                    property: 'order-reference',\n                    dataIndex: 'orderReference',\n                    sortBy: 'orderReference',\n                    label: 'AuftragsNr',\n                    sortable: true,\n                    allowResize: true,\n                },\n                {\n                    property: 'email',\n                    dataIndex: 'email',\n                    sortBy: 'email',\n                    label: 'Email',\n                    sortable: true,\n                    allowResize: true,\n                },\n                {\n                    property: 'date',\n                    dataIndex: 'date',\n                    sortBy: 'date',\n                    label: 'Datum',\n                    sortable: true,\n                    allowResize: true,\n                },\n                {\n                    property: 'status-label',\n                    dataIndex: 'statusLabel',\n                    sortBy: 'statusLabel',\n                    label: 'Bestellstatus',\n                    sortable: true,\n                    allowResize: true,\n                },\n                { property: 'actions', label: 'Ansicht', sortable: false, width: '90px' },\n            ];\n        },\n        activeChannelLabel() {\n            return this.channels.find((channel) => channel.id === this.activeChannel)?.label || '';\n        },\n        activeChannelSource() {\n            return this.channelSources[this.activeChannel] || '';\n        },\n        filteredOrders() {\n            const searchTerm = this.tableSearchTerm.trim().toLowerCase();\n            const channelOrders = this.orders.filter((order) => {\n                if (!order.channel) {\n                    return true;\n                }\n                return order.channel === this.activeChannel;\n            });\n\n            const channelFilter = this.activeChannel === 'all' ? null : this.activeChannel;\n            const filtered = this.orders.filter((order) => {\n                if (!channelFilter) {\n                    return true;\n                }\n\n                const channelValue = order.channel\n                    ?? order.channelId\n                    ?? order.salesChannelId\n                    ?? order.salesChannel;\n\n                return String(channelValue ?? '').toLowerCase() === channelFilter;\n            });\n\n            const columnFiltered = this.applyColumnFilters(filtered);\n\n            if (!searchTerm) {\n                return columnFiltered;\n            }\n\n            return columnFiltered.filter((order) => {\n                const values = [\n                    order.orderNumber,\n                    order.customerName,\n                    order.orderReference,\n                    order.email,\n                    order.statusLabel,\n                    order.date,\n                ];\n\n                return values.some((value) => String(value ?? '').toLowerCase().includes(searchTerm));\n            });\n        },\n        sortedOrders() {\n            const sortBy = this.sortBy;\n            const direction = this.sortDirection === 'DESC' ? -1 : 1;\n\n            return [...this.filteredOrders].sort((left, right) => {\n                const leftValue = this.getSortValue(left, sortBy);\n                const rightValue = this.getSortValue(right, sortBy);\n\n                if (leftValue === rightValue) {\n                    return 0;\n                }\n\n                return leftValue > rightValue ? direction : -direction;\n            });\n        },\n        paginatedOrders() {\n            const start = (this.page - 1) * this.limit;\n            return this.sortedOrders.slice(start, start + this.limit);\n        },\n        paginationTotal() {\n            return this.sortedOrders.length;\n        },\n        totalPages() {\n            if (this.limit <= 0) {\n                return 1;\n            }\n            return Math.max(1, Math.ceil(this.paginationTotal / this.limit));\n        },\n        visiblePages() {\n            const maxVisible = 5;\n            const total = this.totalPages;\n            const current = this.page;\n\n            if (total <= maxVisible) {\n                return Array.from({ length: total }, (_, index) => index + 1);\n            }\n\n            const half = Math.floor(maxVisible / 2);\n            let start = Math.max(1, current - half);\n            let end = start + maxVisible - 1;\n\n            if (end > total) {\n                end = total;\n                start = end - maxVisible + 1;\n            }\n\n            return Array.from({ length: end - start + 1 }, (_, index) => start + index);\n        },\n        limitSelectOptions() {\n            return this.limitOptions.map((value) => ({\n                value,\n                label: String(value),\n            }));\n        },\n        isAllSelected() {\n            if (this.paginatedOrders.length === 0) {\n                return false;\n            }\n            return this.paginatedOrders.every((order) => this.isOrderSelected(order));\n        },\n        hasSelectedOrders() {\n            return this.selectedOrders.length > 0;\n        },\n        testMarkingOrders() {\n            return this.selectedOrders;\n        },\n        unmarkedTestOrders() {\n            const selectedKeys = new Set(this.selectedOrders.map((order) => this.getOrderKey(order)));\n            return this.filteredOrders.filter((order) => !selectedKeys.has(this.getOrderKey(order)));\n        },\n    },\n\n    watch: {\n        tableSearchTerm() {\n            this.page = 1;\n        },\n        activeChannel() {\n            this.page = 1;\n        },\n        columnFilterMatchMode() {\n            this.page = 1;\n        },\n        columnFilters: {\n            handler() {\n                this.page = 1;\n            },\n            deep: true,\n        },\n    },\n\n    created() {\n        this.initializePage();\n    },\n\n    methods: {\n        async initializePage() {\n            await this.loadOverviewConfiguration();\n            await this.loadOrders();\n        },\n        async loadOverviewConfiguration() {\n            try {\n                const config = await this.systemConfigApiService.getValues('ExternalOrders');\n                const getConfigValue = (key) => config?.[`ExternalOrders.config.${key}`] ?? '';\n\n                this.channelSources = {\n                    b2b: getConfigValue('sourceB2b'),\n                    ebay_de: getConfigValue('sourceEbayDe'),\n                    kaufland: getConfigValue('sourceKaufland'),\n                    ebay_at: getConfigValue('sourceEbayAt'),\n                    zonami: getConfigValue('sourceZonami'),\n                    peg: getConfigValue('sourcePeg'),\n                    bezb: getConfigValue('sourceBezb'),\n                };\n            } catch (error) {\n                this.channelSources = {};\n                this.createNotificationWarning({\n                    title: 'Konfiguration konnte nicht geladen werden',\n                    message: error?.message || 'Die Quellen der Übersichten konnten nicht geladen werden.',\n                });\n            }\n        },\n        async loadOrders() {\n            this.isLoading = true;\n            this.page = 1;\n\n            try {\n                const selectedChannel = this.activeChannel || null;\n                const response = await this.externalOrderService.list({\n                    channel: selectedChannel,\n                });\n\n                const payload = response?.data?.data ?? response?.data ?? response;\n\n                const apiOrders = Array.isArray(payload?.orders) ? payload.orders : [];\n                const fakePayload = this.buildFakeOrders();\n                const mergedOrders = apiOrders.length > 0\n                    ? [...apiOrders, ...fakePayload.orders]\n                    : fakePayload.orders;\n\n                this.orders = mergedOrders;\n                this.page = 1;\n\n                if (payload?.summary) {\n                    this.summary = {\n                        orderCount: mergedOrders.length,\n                        totalRevenue: (payload.summary.totalRevenue || 0) + fakePayload.summary.totalRevenue,\n                        totalItems: (payload.summary.totalItems || 0) + fakePayload.summary.totalItems,\n                    };\n                } else {\n                    this.summary = {\n                        orderCount: mergedOrders.length,\n                        totalRevenue: fakePayload.summary.totalRevenue,\n                        totalItems: mergedOrders.reduce((sum, order) => sum + (order.totalItems || 0), 0),\n                    };\n                }\n            } catch (error) {\n                this.orders = [];\n                this.summary = {\n                    orderCount: 0,\n                    totalRevenue: 0,\n                    totalItems: 0,\n                };\n                this.createNotificationError({\n                    title: 'Bestellungen konnten nicht geladen werden',\n                    message: error?.message || 'Bitte prüfen Sie die Verbindung zu den externen APIs.',\n                });\n            } finally {\n                this.isLoading = false;\n            }\n        },\n        onPageChange(payload) {\n            if (typeof payload === 'number') {\n                this.page = payload;\n                return;\n            }\n\n            const { page, limit } = payload ?? {};\n            const nextPage = typeof page === 'number' ? page : this.page;\n            const nextLimit = typeof limit === 'number' ? limit : this.limit;\n\n            this.page = nextPage;\n            this.limit = nextLimit;\n        },\n        goToPreviousPage() {\n            if (this.page <= 1) {\n                return;\n            }\n            this.page -= 1;\n        },\n        goToFirstPage() {\n            this.page = 1;\n        },\n        goToLastPage() {\n            this.page = this.totalPages;\n        },\n        goToPage(pageNumber) {\n            if (typeof pageNumber !== 'number') {\n                return;\n            }\n            const nextPage = Math.max(1, Math.min(this.totalPages, pageNumber));\n            this.page = nextPage;\n        },\n        goToNextPage() {\n            if (this.page >= this.totalPages) {\n                return;\n            }\n            this.page += 1;\n        },\n        onLimitChange(value) {\n            const nextLimit = Number(value);\n            if (Number.isNaN(nextLimit) || nextLimit <= 0) {\n                return;\n            }\n            this.limit = nextLimit;\n            this.page = 1;\n        },\n        onSearch() {\n            this.page = 1;\n        },\n        resetFilters() {\n            this.tableSearchTerm = '';\n            this.columnFilterMatchMode = 'all';\n            Object.keys(this.columnFilters).forEach((key) => {\n                this.columnFilters[key].value = '';\n                this.columnFilters[key].operator = 'startsWith';\n            });\n            this.page = 1;\n        },\n        toggleColumnFilter(columnKey) {\n            if (this.activeColumnFilter === columnKey) {\n                this.activeColumnFilter = null;\n                return;\n            }\n            this.activeColumnFilter = columnKey;\n        },\n        applyColumnFilter() {\n            this.page = 1;\n            this.activeColumnFilter = null;\n        },\n        clearColumnFilter(columnKey) {\n            if (!this.columnFilters[columnKey]) {\n                return;\n            }\n            this.columnFilters[columnKey].value = '';\n            this.columnFilters[columnKey].operator = 'startsWith';\n            this.activeColumnFilter = null;\n        },\n        isColumnFilterActive(columnKey) {\n            const filter = this.columnFilters[columnKey];\n            return Boolean(filter && String(filter.value ?? '').trim());\n        },\n        applyColumnFilters(orders) {\n            const activeFilters = Object.entries(this.columnFilters)\n                .filter(([, filter]) => String(filter.value ?? '').trim().length > 0);\n\n            if (!activeFilters.length) {\n                return orders;\n            }\n\n            return orders.filter((order) => activeFilters.every(([columnKey, filter]) => {\n                const value = this.getColumnFilterValue(order, columnKey);\n                return this.matchesColumnFilter(value, filter);\n            }));\n        },\n        getColumnFilterValue(order, columnKey) {\n            return order?.[columnKey] ?? '';\n        },\n        matchesColumnFilter(value, filter) {\n            const candidate = String(value ?? '').toLowerCase();\n            const needle = String(filter.value ?? '').toLowerCase();\n            const operator = filter.operator ?? 'startsWith';\n\n            if (!needle) {\n                return true;\n            }\n\n            if (operator === 'equals') {\n                return candidate === needle;\n            }\n\n            if (operator === 'contains') {\n                return candidate.includes(needle);\n            }\n\n            return candidate.startsWith(needle);\n        },\n        normalizeSortValue(value, sortBy = this.sortBy) {\n            if (value === null || value === undefined) {\n                return '';\n            }\n            if (String(sortBy).toLowerCase().includes('date')) {\n                const parsedDate = this.parseOrderDate(value);\n                return Number.isNaN(parsedDate) ? String(value) : parsedDate;\n            }\n            if (typeof value === 'number') {\n                return value;\n            }\n            const normalized = String(value).trim();\n            if (/^-?\\d+(\\.\\d+)?$/.test(normalized)) {\n                return Number(normalized);\n            }\n            return normalized.toLowerCase();\n        },\n\n        onSortColumn(column) {\n            const nextSortBy = column?.sortBy\n                ?? column?.dataIndex\n                ?? column?.property\n                ?? column;\n\n            if (!nextSortBy) {\n                return;\n            }\n\n            const nextDirection = column?.sortDirection ?? column?.direction;\n\n            if (this.sortBy === nextSortBy && !nextDirection) {\n                this.sortDirection = this.sortDirection === 'ASC' ? 'DESC' : 'ASC';\n            } else {\n                this.sortBy = nextSortBy;\n                this.sortDirection = nextDirection ?? 'ASC';\n            }\n\n            this.page = 1;\n        },\n        onSelectionChange(selection) {\n            if (Array.isArray(selection)) {\n                this.selectedOrders = selection;\n                return;\n            }\n\n            if (selection && typeof selection === 'object') {\n                this.selectedOrders = Object.values(selection);\n                return;\n            }\n\n            this.selectedOrders = [];\n        },\n        toggleSelectAll(event) {\n            const isChecked = event?.target?.checked;\n            if (!isChecked) {\n                const currentKeys = new Set(this.paginatedOrders.map((order) => this.getOrderKey(order)));\n                this.selectedOrders = this.selectedOrders.filter((order) => !currentKeys.has(this.getOrderKey(order)));\n                return;\n            }\n\n            const merged = new Map(this.selectedOrders.map((order) => [this.getOrderKey(order), order]));\n            this.paginatedOrders.forEach((order) => {\n                merged.set(this.getOrderKey(order), order);\n            });\n            this.selectedOrders = Array.from(merged.values());\n        },\n        toggleOrderSelection(order, event) {\n            const isChecked = event?.target?.checked;\n            const key = this.getOrderKey(order);\n            if (!key) {\n                return;\n            }\n\n            if (isChecked) {\n                const merged = new Map(this.selectedOrders.map((item) => [this.getOrderKey(item), item]));\n                merged.set(key, order);\n                this.selectedOrders = Array.from(merged.values());\n                return;\n            }\n\n            this.selectedOrders = this.selectedOrders.filter((item) => this.getOrderKey(item) !== key);\n        },\n        isOrderSelected(order) {\n            const key = this.getOrderKey(order);\n            return this.selectedOrders.some((item) => this.getOrderKey(item) === key);\n        },\n        getSortIndicator(sortBy) {\n            if (this.sortBy !== sortBy) {\n                return '↕';\n            }\n            return this.sortDirection === 'ASC' ? '↑' : '↓';\n        },\n\n        async openDetail(order) {\n            this.isLoading = true;\n            try {\n                if (this.isFakeOrder(order)) {\n                    this.selectedOrder = this.buildFakeOrderDetail(order);\n                } else {\n                    this.selectedOrder = await this.externalOrderService.detail(order.id);\n                }\n                this.showDetailModal = true;\n            } catch (error) {\n                this.createNotificationError({\n                    title: 'Bestelldetails konnten nicht geladen werden',\n                    message: error?.message || 'Bitte prüfen Sie die Verbindung zu den externen APIs.',\n                });\n            } finally {\n                this.isLoading = false;\n            }\n        },\n\n        closeDetail() {\n            this.showDetailModal = false;\n            this.selectedOrder = null;\n        },\n        openTestMarkingModal() {\n            if (!this.hasSelectedOrders) {\n                return;\n            }\n            this.showTestMarkingModal = true;\n        },\n        closeTestMarkingModal() {\n            this.showTestMarkingModal = false;\n        },\n        applyTestMarking() {\n            this.showTestMarkingModal = false;\n        },\n        getOrderKey(order) {\n            return order?.id ?? order?.orderNumber ?? '';\n        },\n        getOrderDisplayLabel(order) {\n            const number = order?.orderNumber ? `#${order.orderNumber}` : '';\n            const customer = order?.customerName ?? '';\n            if (number && customer) {\n                return `Order ${number} - ${customer}`;\n            }\n            if (number) {\n                return `Order ${number}`;\n            }\n            return customer || 'Order';\n        },\n\n        formatCurrency(value) {\n            return new Intl.NumberFormat('de-DE', {\n                style: 'currency',\n                currency: 'EUR',\n            }).format(value);\n        },\n\n        statusVariant(status) {\n            if (status === 'processing') {\n                return 'info';\n            }\n            if (status === 'shipped') {\n                return 'success';\n            }\n            if (status === 'closed') {\n                return 'danger';\n            }\n            return 'neutral';\n        },\n        isFakeOrder(order) {\n            const id = order?.id ?? '';\n            return typeof id === 'string' && id.startsWith('order-');\n        },\n        buildFakeOrderDetail(order) {\n            const nameParts = String(order?.customerName ?? 'Max Mustermann').split(' ');\n            const firstName = nameParts[0] || 'Max';\n            const lastName = nameParts.slice(1).join(' ') || 'Mustermann';\n            const orderNumber = order?.orderNumber ?? '0000000';\n            const totalItems = order?.totalItems ?? 1;\n            const grossPricePerItem = 79.5;\n            const netPricePerItem = Number((grossPricePerItem / 1.19).toFixed(2));\n            const taxRate = 19;\n            const items = Array.from({ length: Math.min(totalItems, 6) }, (_, index) => ({\n                name: `Medizinisches Produkt ${index + 1}`,\n                quantity: 1,\n                netPrice: netPricePerItem,\n                taxRate,\n                grossPrice: grossPricePerItem,\n                totalPrice: grossPricePerItem,\n            }));\n            const itemsTotal = items.reduce((sum, item) => sum + item.totalPrice, 0);\n\n            return {\n                ...order,\n                customer: {\n                    number: `KND-${orderNumber}`,\n                    firstName,\n                    lastName,\n                    email: order?.email ?? 'kunde@example.com',\n                    group: 'Standard',\n                },\n                payment: {\n                    method: 'Kreditkarte',\n                    code: `PAY-${orderNumber}`,\n                    dueDate: order?.date ?? '2025-12-31',\n                    outstanding: this.formatCurrency(0),\n                    settled: this.formatCurrency(itemsTotal),\n                    extra: 'Transaktion bestätigt',\n                },\n                billingAddress: {\n                    street: 'Hauptstraße 12',\n                    zip: '20354',\n                    city: 'Hamburg',\n                    country: 'Deutschland',\n                },\n                shippingAddress: {\n                    name: order?.customerName ?? 'Max Mustermann',\n                    street: 'Hauptstraße 12',\n                    zipCity: '20354 Hamburg',\n                    country: 'Deutschland',\n                },\n                additional: {\n                    orderDate: order?.date ?? '2025-12-30 09:31',\n                    status: order?.statusLabel ?? 'Bezahlt / in Bearbeitung',\n                    orderType: 'Standard',\n                    notes: 'Testbestellung aus externer Übersicht',\n                    consultant: 'Lisa Berger',\n                    tenant: 'FM Shop',\n                    san6OrderNumber: `SAN6-${orderNumber}`,\n                    orgaEntries: ['ORG-394', 'ORG-402'],\n                    documents: ['Archiv 2025-12', 'Scan 444'],\n                    pdmsId: 'PDMS-7742',\n                    pdmsVariant: 'V2',\n                    topmArticleNumber: 'TOPM-331',\n                    topmExecution: 'Standard',\n                    statusHistorySource: 'System',\n                },\n                shipping: {\n                    carrier: 'DHL',\n                    trackingNumbers: [`00340434${orderNumber}`],\n                },\n                items,\n                statusHistory: [\n                    { status: 'Bestellung angelegt', date: order?.date ?? '2025-12-30 09:31', comment: 'Automatisch' },\n                    { status: order?.statusLabel ?? 'Bezahlt / in Bearbeitung', date: order?.date ?? '2025-12-30 10:15', comment: 'Zahlung bestätigt' },\n                    { status: 'Versand vorbereitet', date: '2025-12-31 08:10', comment: 'Kommissionierung gestartet' },\n                ],\n            };\n        },\n        exportSelectedOrdersPdf() {\n            const orders = this.getOrdersForExport();\n            if (!orders.length) {\n                this.createNotificationWarning({\n                    title: 'Keine Bestellungen gefunden',\n                    message: 'Für den aktuellen Filter sind keine Bestellungen verfügbar.',\n                });\n                return;\n            }\n\n            const pdfData = this.buildTablePdf(orders);\n            this.downloadBlob('external-orders.pdf', 'application/pdf', pdfData);\n        },\n        exportSelectedOrdersExcel() {\n            const orders = this.getOrdersForExport();\n            if (!orders.length) {\n                this.createNotificationWarning({\n                    title: 'Keine Bestellungen gefunden',\n                    message: 'Für den aktuellen Filter sind keine Bestellungen verfügbar.',\n                });\n                return;\n            }\n\n            const rows = this.buildExportRows(orders);\n            const csv = this.buildCsv(rows);\n            this.downloadBlob('external-orders.csv', 'text/csv;charset=utf-8;', csv);\n        },\n        getOrdersForExport() {\n            return this.filteredOrders;\n        },\n        buildExportRows(orders) {\n            const header = [\n                'Bestellnummer',\n                'Kundenname',\n                'Land',\n                'Zahlungsmethode',\n                'Datum',\n                'Bestellstatus',\n                'Stück',\n                'Summe',\n            ];\n\n            const rows = orders.map((order) => ([\n                order.orderNumber ?? '',\n                order.customerName ?? '',\n                this.getOrderCountry(order),\n                this.getOrderPaymentMethod(order),\n                this.formatDateForExport(order.date),\n                order.statusLabel ?? '',\n                this.getOrderItemCount(order),\n                this.formatNumberForExport(this.getOrderTotal(order)),\n            ]));\n\n            return [header, ...rows];\n        },\n        buildExportLines(orders) {\n            const rows = this.buildExportRows(orders);\n            const formattedRows = rows.map((row) => row.map((value) => String(value ?? '')));\n            const columnWidths = formattedRows[0].map((_, index) => {\n                const longest = Math.max(...formattedRows.map((row) => row[index].length));\n                return Math.min(Math.max(longest, 6), 24);\n            });\n\n            const paddedRows = formattedRows.map((row) => row.map((value, index) => {\n                const trimmed = value.length > columnWidths[index]\n                    ? `${value.slice(0, columnWidths[index] - 1)}…`\n                    : value;\n                return trimmed.padEnd(columnWidths[index]);\n            }));\n\n            const headerLine = paddedRows[0].join(' | ');\n            const separatorLine = columnWidths.map((width) => '-'.repeat(width)).join('-|-');\n            const bodyLines = paddedRows.slice(1).map((row) => row.join(' | '));\n\n            return [\n                this.buildExportSummaryLine(orders),\n                headerLine,\n                separatorLine,\n                ...bodyLines,\n            ];\n        },\n        buildCsv(rows) {\n            const delimiter = ';';\n            const escapeValue = (value) => {\n                const stringValue = String(value ?? '');\n                const escapedValue = stringValue.replace(/\"/g, '\"\"');\n                const needsEscaping = stringValue.includes(delimiter)\n                    || stringValue.includes('\\n')\n                    || stringValue.includes('\\r')\n                    || stringValue.includes('\"');\n                return needsEscaping ? `\"${escapedValue}\"` : escapedValue;\n            };\n\n            const content = rows\n                .map((row) => row.map(escapeValue).join(delimiter))\n                .join('\\r\\n');\n\n            return `\\ufeff${content}`;\n        },\n        buildExportSummaryLine(orders) {\n            const totalItems = orders.reduce((sum, order) => sum + this.getOrderItemCount(order), 0);\n            const totalRevenue = orders.reduce((sum, order) => sum + this.getOrderTotal(order), 0);\n            const dateRange = this.getExportDateRange(orders);\n            const revenueLabel = this.formatCurrency(totalRevenue);\n\n            return [\n                'Shopbestellungen',\n                dateRange ? `${dateRange}` : null,\n                `${orders.length} Bestellungen`,\n                `${revenueLabel} Gesamtumsatz`,\n                `${totalItems} Stück`,\n            ].filter(Boolean).join(' | ');\n        },\n        getExportDateRange(orders) {\n            const timestamps = orders\n                .map((order) => this.parseOrderDate(order.date))\n                .filter((value) => Number.isFinite(value));\n\n            if (!timestamps.length) {\n                return '';\n            }\n\n            const min = new Date(Math.min(...timestamps));\n            const max = new Date(Math.max(...timestamps));\n\n            return `${this.formatDateForExport(min)} - ${this.formatDateForExport(max)}`;\n        },\n        parseOrderDate(value) {\n            if (!value) {\n                return NaN;\n            }\n            const normalized = String(value).replace(' ', 'T');\n            const parsed = Date.parse(normalized);\n            return Number.isNaN(parsed) ? NaN : parsed;\n        },\n        formatDateForExport(value) {\n            if (!value) {\n                return '';\n            }\n            if (value instanceof Date) {\n                return value.toLocaleDateString('de-DE');\n            }\n            const parsed = this.parseOrderDate(value);\n            if (Number.isNaN(parsed)) {\n                return String(value);\n            }\n            return new Date(parsed).toISOString().slice(0, 10);\n        },\n        formatNumberForExport(value) {\n            const numeric = typeof value === 'number' ? value : Number(value);\n            if (!Number.isFinite(numeric)) {\n                return '';\n            }\n            return new Intl.NumberFormat('de-DE', {\n                minimumFractionDigits: 2,\n                maximumFractionDigits: 2,\n            }).format(numeric);\n        },\n        getOrderCountry(order) {\n            return order?.billingAddress?.country\n                ?? order?.shippingAddress?.country\n                ?? order?.country\n                ?? '';\n        },\n        getOrderPaymentMethod(order) {\n            return order?.payment?.method\n                ?? order?.paymentMethod\n                ?? order?.payment\n                ?? '';\n        },\n        getOrderItemCount(order) {\n            return order?.totalItems ?? order?.itemsCount ?? order?.items?.length ?? 0;\n        },\n        getOrderTotal(order) {\n            return order?.totalPrice\n                ?? order?.totalRevenue\n                ?? order?.amountTotal\n                ?? order?.priceTotal\n                ?? 0;\n        },\n        buildTablePdf(orders) {\n            const rows = this.buildExportRows(orders);\n            const summaryLine = this.buildExportSummaryLine(orders);\n            const pageWidth = 595;\n            const pageHeight = 842;\n            const marginX = 30;\n            const marginTop = 40;\n            const startY = pageHeight - marginTop;\n            const availableWidth = pageWidth - marginX * 2;\n            const { columnWidths, scale } = this.getPdfColumnWidths(rows, availableWidth);\n            const fontSize = Math.max(8, Math.floor(10 * scale));\n            const lineHeight = Math.max(14, Math.round(fontSize * 1.8));\n            const tableTop = startY - (lineHeight * 2);\n            const totalTableWidth = columnWidths.reduce((sum, width) => sum + width, 0);\n            const xPositions = columnWidths.reduce((positions, width) => {\n                const last = positions[positions.length - 1];\n                positions.push(last + width);\n                return positions;\n            }, [marginX]);\n\n            const tableHeight = rows.length * lineHeight;\n            const tableBottom = tableTop - tableHeight;\n\n            const contentParts = [];\n            contentParts.push('BT');\n            contentParts.push(`/F1 ${fontSize} Tf`);\n            contentParts.push(`1 0 0 1 ${marginX} ${startY} Tm`);\n            contentParts.push(`(${this.escapePdfText(summaryLine)}) Tj`);\n            contentParts.push('ET');\n\n            contentParts.push('0.5 w');\n            xPositions.forEach((x) => {\n                contentParts.push(`${x} ${tableTop} m ${x} ${tableBottom} l S`);\n            });\n            for (let rowIndex = 0; rowIndex <= rows.length; rowIndex += 1) {\n                const y = tableTop - (rowIndex * lineHeight);\n                contentParts.push(`${marginX} ${y} m ${marginX + totalTableWidth} ${y} l S`);\n            }\n\n            const maxCharsForWidth = (width) => Math.floor((width - 6) / (fontSize * 0.55));\n            rows.forEach((row, rowIndex) => {\n                const textY = tableTop - ((rowIndex + 1) * lineHeight) + Math.round(fontSize * 0.6);\n                row.forEach((value, columnIndex) => {\n                    const cellX = xPositions[columnIndex] + 3;\n                    const width = columnWidths[columnIndex];\n                    const rawText = String(value ?? '');\n                    const trimmed = this.trimPdfText(rawText, maxCharsForWidth(width));\n                    contentParts.push('BT');\n                    contentParts.push(`/F1 ${fontSize} Tf`);\n                    contentParts.push(`1 0 0 1 ${cellX} ${textY} Tm`);\n                    contentParts.push(`(${this.escapePdfText(trimmed)}) Tj`);\n                    contentParts.push('ET');\n                });\n            });\n\n            const stream = contentParts.join('\\n');\n            const objects = [];\n            objects.push('1 0 obj\\n<< /Type /Catalog /Pages 2 0 R >>\\nendobj\\n');\n            objects.push('2 0 obj\\n<< /Type /Pages /Kids [3 0 R] /Count 1 >>\\nendobj\\n');\n            objects.push('3 0 obj\\n<< /Type /Page /Parent 2 0 R /MediaBox [0 0 595 842] /Contents 5 0 R /Resources << /Font << /F1 4 0 R >> >> >>\\nendobj\\n');\n            objects.push('4 0 obj\\n<< /Type /Font /Subtype /Type1 /BaseFont /Helvetica >>\\nendobj\\n');\n            objects.push(`5 0 obj\\n<< /Length ${stream.length} >>\\nstream\\n${stream}\\nendstream\\nendobj\\n`);\n\n            let pdf = '%PDF-1.4\\n';\n            const offsets = [];\n            const encoder = new TextEncoder();\n\n            objects.forEach((object) => {\n                offsets.push(encoder.encode(pdf).length);\n                pdf += object;\n            });\n\n            const xrefStart = encoder.encode(pdf).length;\n            pdf += `xref\\n0 ${objects.length + 1}\\n0000000000 65535 f \\n`;\n            offsets.forEach((offset) => {\n                pdf += `${String(offset).padStart(10, '0')} 00000 n \\n`;\n            });\n            pdf += `trailer\\n<< /Size ${objects.length + 1} /Root 1 0 R >>\\nstartxref\\n${xrefStart}\\n%%EOF`;\n\n            return encoder.encode(pdf);\n        },\n        getPdfColumnWidths(rows, availableWidth) {\n            const maxLengths = rows[0].map((_, index) => Math.max(...rows.map((row) => String(row[index] ?? '').length)));\n            const minWidths = [60, 120, 55, 95, 65, 110, 45, 70];\n            const baseWidths = maxLengths.map((length, index) => Math.max(minWidths[index], length * 6));\n            const totalWidth = baseWidths.reduce((sum, width) => sum + width, 0);\n            const scale = totalWidth > availableWidth ? (availableWidth / totalWidth) : 1;\n            return {\n                columnWidths: baseWidths.map((width) => Math.floor(width * scale)),\n                scale,\n            };\n        },\n        trimPdfText(text, maxChars) {\n            if (maxChars <= 0) {\n                return '';\n            }\n            if (text.length <= maxChars) {\n                return text;\n            }\n            if (maxChars === 1) {\n                return '…';\n            }\n            return `${text.slice(0, maxChars - 1)}…`;\n        },\n        escapePdfText(text) {\n            return String(text)\n                .replace(/\\\\/g, '\\\\\\\\')\n                .replace(/\\(/g, '\\\\(')\n                .replace(/\\)/g, '\\\\)');\n        },\n        downloadBlob(filename, mimeType, content) {\n            const blob = content instanceof Uint8Array\n                ? new Blob([content], { type: mimeType })\n                : new Blob([content], { type: mimeType });\n            const url = URL.createObjectURL(blob);\n            const link = document.createElement('a');\n            link.href = url;\n            link.download = filename;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n            URL.revokeObjectURL(url);\n        },\n\n        getSortValue(order, sortBy) {\n            if (!sortBy) {\n                return '';\n            }\n\n            const value = order?.[sortBy];\n            return this.normalizeSortValue(value, sortBy);\n        },\n\n        buildFakeOrders() {\n            const perChannelCount = 100;\n            const baseOrderNumber = 1009000;\n            const baseReference = 446500;\n            const baseDate = new Date('2025-12-30T09:31:00');\n            const names = [\n                'Andreas Nanke',\n                'Lea Wagner',\n                'Frank Sagert',\n                'Sophie Bauer',\n                'Noah Berg',\n                'Julia Krüger',\n                'Tim König',\n                'Maja Keller',\n                'Lina Hoffmann',\n                'Jonas Richter',\n                'Karsten Stieler',\n                'Peter Scholl',\n                'Jasmin Roth',\n                'Oliver Hahn',\n                'Mara Schulz',\n                'Tobias Link',\n                'Lukas Meier',\n                'Svenja Graf',\n                'Nina Krämer',\n                'David Winter',\n            ];\n            const statuses = [\n                { status: 'processing', label: 'Bezahlt / in Bearbeitung' },\n                { status: 'shipped', label: 'Versendet' },\n                { status: 'closed', label: 'Abgeschlossen' },\n            ];\n            const channelConfig = {\n                b2b: { emailDomain: 'first-medical-shop.de', label: 'First-medical-shop.de' },\n                ebay_de: { emailDomain: 'members.ebay.com', label: 'Ebay.DE' },\n                ebay_at: { emailDomain: 'members.ebay.com', label: 'Ebay.AT' },\n                kaufland: { emailDomain: 'members.kaufland.de', label: 'KaufLand' },\n                zonami: { emailDomain: 'zonami.example', label: 'Zonami' },\n                peg: { emailDomain: 'peg.example', label: 'PEG' },\n                bezb: { emailDomain: 'bezb.example', label: 'BEZB' },\n            };\n\n            const formatDate = (date) => {\n                const pad = (value) => String(value).padStart(2, '0');\n                return `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(date.getDate())} ${pad(date.getHours())}:${pad(date.getMinutes())}`;\n            };\n\n            const orders = [];\n            const channels = this.channels.map((channel) => channel.id);\n\n            channels.forEach((channelId, channelIndex) => {\n                const config = channelConfig[channelId] ?? { emailDomain: 'example.com', label: channelId };\n                for (let i = 0; i < perChannelCount; i += 1) {\n                    const globalIndex = channelIndex * perChannelCount + i;\n                    const orderNumber = String(baseOrderNumber + globalIndex);\n                    const orderReference = String(baseReference + globalIndex);\n                    const status = statuses[globalIndex % statuses.length];\n                    const name = names[globalIndex % names.length];\n                    const emailPrefix = name.toLowerCase().replace(/[^a-z0-9]+/g, '.');\n                    const date = new Date(baseDate.getTime() - (globalIndex * 36 * 60 * 1000));\n\n                    orders.push({\n                        id: `order-${channelId}-${orderNumber}`,\n                        channel: channelId,\n                        orderNumber,\n                        customerName: name,\n                        orderReference,\n                        email: `${emailPrefix}@${config.emailDomain}`,\n                        date: formatDate(date),\n                        status: status.status,\n                        statusLabel: status.label,\n                        totalItems: (globalIndex % 6) + 1,\n                    });\n                }\n            });\n\n            const totalItems = orders.reduce((sum, order) => sum + order.totalItems, 0);\n            const totalRevenue = orders.reduce((sum, order) => sum + (order.totalItems * 79.5), 0);\n\n            return {\n                orders,\n                summary: {\n                    orderCount: orders.length,\n                    totalRevenue: Number(totalRevenue.toFixed(2)),\n                    totalItems,\n                },\n            };\n        },\n\n    },\n});\n","import './page/external-orders-list';\n\nconst { Module } = Shopware;\n\nModule.register('external-orders', {\n    type: 'plugin',\n    name: 'external-orders',\n    title: 'Bestellübersichten',\n    description: 'Zentrale Übersicht für externe Bestellungen',\n    color: '#009ee3',\n    icon: 'regular-shopping-cart',\n\n    routes: {\n        index: {\n            component: 'external-orders-list',\n            path: 'index',\n            meta: {\n                privilege: 'admin',\n            },\n        },\n    },\n\n    navigation: [\n        {\n            id: 'external-orders',\n            label: 'Bestellübersichten',\n            color: '#009ee3',\n            path: 'external.orders.index',\n            icon: 'regular-shopping-cart',\n            parent: 'sw-order',\n            position: 45,\n        },\n    ],\n});\n"],"names":["ApiService","ExternalOrderService","httpClient","loginService","apiEndpoint","channel","search","params","response","data","orderId","container","initContainer","template","Component","Mixin","_a","searchTerm","order","channelFilter","filtered","channelValue","columnFiltered","value","sortBy","direction","left","right","leftValue","rightValue","start","total","current","_","index","half","end","selectedKeys","config","getConfigValue","key","error","selectedChannel","payload","apiOrders","fakePayload","mergedOrders","sum","page","limit","nextPage","nextLimit","pageNumber","columnKey","filter","orders","activeFilters","candidate","needle","operator","parsedDate","normalized","column","nextSortBy","nextDirection","selection","event","currentKeys","merged","isChecked","item","number","customer","status","id","nameParts","firstName","lastName","orderNumber","totalItems","grossPricePerItem","netPricePerItem","taxRate","items","itemsTotal","pdfData","rows","csv","header","formattedRows","row","columnWidths","longest","paddedRows","headerLine","separatorLine","width","bodyLines","escapeValue","stringValue","escapedValue","totalRevenue","dateRange","revenueLabel","timestamps","min","max","parsed","numeric","_b","summaryLine","pageWidth","pageHeight","marginX","startY","availableWidth","scale","fontSize","lineHeight","tableTop","totalTableWidth","xPositions","positions","last","tableHeight","tableBottom","contentParts","x","rowIndex","y","maxCharsForWidth","textY","columnIndex","cellX","rawText","trimmed","stream","objects","pdf","offsets","encoder","object","xrefStart","offset","maxLengths","minWidths","baseWidths","length","totalWidth","text","maxChars","filename","mimeType","content","blob","url","link","baseDate","names","statuses","channelConfig","formatDate","date","pad","channelId","channelIndex","i","globalIndex","orderReference","name","emailPrefix","Module"],"mappings":"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"}