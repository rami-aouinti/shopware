{"version":3,"file":"external-orders-CsyiabBY.js","sources":["../../../app/administration/src/core/service/external-order.service.js","../../../app/administration/src/component/external-orders-testdata-button/index.js","../../../app/administration/src/module/external-orders/page/external-orders-list/external-orders-list.html.twig","../../../app/administration/src/module/external-orders/page/external-orders-list/index.js","../../../app/administration/src/module/external-orders/index.js"],"sourcesContent":["const { ApiService } = Shopware.Classes;\r\n\r\nclass ExternalOrderService extends ApiService {\r\n    constructor(httpClient, loginService, apiEndpoint = 'external-orders') {\r\n        super(httpClient, loginService, apiEndpoint);\r\n        this.name = 'externalOrderService';\r\n    }\r\n\r\n    async list({ channel = null, search = null } = {}) {\r\n        const params = {};\r\n        if (channel) {\r\n            params.channel = channel;\r\n        }\r\n        if (search) {\r\n            params.search = search;\r\n        }\r\n\r\n        const response = await this.httpClient.get(`_action/${this.getApiBasePath()}/list`, {\r\n            headers: this.getBasicHeaders(),\r\n            params,\r\n        });\r\n\r\n        const data = ApiService.handleResponse(response) ?? response?.data;\r\n        return data?.data ?? data;\r\n    }\r\n\r\n    async detail(orderId) {\r\n        const response = await this.httpClient.get(`_action/${this.getApiBasePath()}/detail/${orderId}`, {\r\n            headers: this.getBasicHeaders(),\r\n        });\r\n\r\n        const data = ApiService.handleResponse(response) ?? response?.data;\r\n        return data?.data ?? data;\r\n    }\r\n\r\n    async seedTestData() {\r\n        const response = await this.httpClient.post(`_action/${this.getApiBasePath()}/test-data`, {}, {\r\n            headers: this.getBasicHeaders(),\r\n        });\r\n\r\n        const data = ApiService.handleResponse(response) ?? response?.data;\r\n        return data?.data ?? data;\r\n    }\r\n}\r\n\r\nShopware.Application.addServiceProvider('externalOrderService', (container) => {\r\n    const initContainer = Shopware.Application.getContainer('init');\r\n    const httpClient = initContainer?.httpClient ?? container.httpClient;\r\n    const loginService = container.loginService ?? Shopware.Service('loginService');\r\n\r\n    return new ExternalOrderService(httpClient, loginService);\r\n});\r\n","const { Component, Mixin } = Shopware;\r\n\r\nComponent.register('external-orders-testdata-button', {\r\n    template: `\r\n        <div class=\"external-orders-testdata-button\">\r\n            <label class=\"sw-field__label\" v-if=\"label\">{{ label }}</label>\r\n            <sw-button\r\n                variant=\"primary\"\r\n                size=\"small\"\r\n                :disabled=\"isSeeding\"\r\n                @click=\"seedTestData\"\r\n            >\r\n                Testdaten speichern\r\n            </sw-button>\r\n            <div v-if=\"helpText\" class=\"sw-field__help-text\">\r\n                {{ helpText }}\r\n            </div>\r\n        </div>\r\n    `,\r\n\r\n    inject: ['externalOrderService'],\r\n\r\n    mixins: [\r\n        Mixin.getByName('notification'),\r\n    ],\r\n\r\n    props: {\r\n        element: {\r\n            type: Object,\r\n            required: false,\r\n            default: null,\r\n        },\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            isSeeding: false,\r\n        };\r\n    },\r\n\r\n    computed: {\r\n        label() {\r\n            return this.element?.label ?? '';\r\n        },\r\n        helpText() {\r\n            return this.element?.helpText ?? '';\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        async seedTestData() {\r\n            if (this.isSeeding) {\r\n                return;\r\n            }\r\n\r\n            this.isSeeding = true;\r\n\r\n            try {\r\n                const response = await this.externalOrderService.seedTestData();\r\n                const inserted = response?.inserted ?? 0;\r\n                this.createNotificationSuccess({\r\n                    title: 'Testdaten gespeichert',\r\n                    message: inserted > 0\r\n                        ? `Es wurden ${inserted} Testbestellungen gespeichert.`\r\n                        : 'Keine neuen Testbestellungen wurden gespeichert.',\r\n                });\r\n            } catch (error) {\r\n                this.createNotificationError({\r\n                    title: 'Testdaten konnten nicht gespeichert werden',\r\n                    message: error?.message || 'Bitte prüfen Sie die Konfiguration der externen APIs.',\r\n                });\r\n            } finally {\r\n                this.isSeeding = false;\r\n            }\r\n        },\r\n    },\r\n});\r\n","<div class=\"external-orders\">\r\n    <header class=\"external-orders__header\">\r\n        <div class=\"external-orders__header-content\">\r\n            <h2>{{ pageTitle }}</h2>\r\n            <div class=\"external-orders__summary external-orders__summary--header\">\r\n                <div class=\"external-orders__summary-metrics\">\r\n                    <div class=\"external-orders__summary-item\">\r\n                        <span class=\"external-orders__summary-label\">Bestellungen</span>\r\n                        <span class=\"external-orders__summary-value\">{{ summary.orderCount }}</span>\r\n                    </div>\r\n                    <div class=\"external-orders__summary-item\">\r\n                        <span class=\"external-orders__summary-label\">Gesamtumsatz</span>\r\n                        <span class=\"external-orders__summary-value\">{{ formatCurrency(summary.totalRevenue) }}</span>\r\n                    </div>\r\n                    <div class=\"external-orders__summary-item\">\r\n                        <span class=\"external-orders__summary-label\">Stück</span>\r\n                        <span class=\"external-orders__summary-value\">{{ summary.totalItems }}</span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"external-orders__summary-actions\">\r\n                    <button\r\n                        class=\"external-orders__button external-orders__button--primary\"\r\n                        type=\"button\"\r\n                        @click=\"exportSelectedOrdersPdf\"\r\n                    >\r\n                        <sw-icon name=\"regular-file-text\" size=\"16\" class=\"external-orders__download-icon\"></sw-icon>\r\n                        PDF herunterladen ({{ selectedOrders.length > 0 ? selectedOrders.length : filteredOrders.length }})\r\n                    </button>\r\n                    <button\r\n                        class=\"external-orders__button external-orders__button--secondary\"\r\n                        type=\"button\"\r\n                        @click=\"exportSelectedOrdersExcel\"\r\n                    >\r\n                        <sw-icon name=\"regular-file\" size=\"16\" class=\"external-orders__download-icon\"></sw-icon>\r\n                        Excel herunterladen ({{ selectedOrders.length > 0 ? selectedOrders.length : filteredOrders.length }})\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </header>\r\n\r\n    <main id=\"main\" class=\"sw-page__main-content\" tabindex=\"-1\">\r\n        <div class=\"external-orders__page\">\r\n            <sw-card class=\"external-orders__channels\" style=\"max-width: none; width: 100%;\">\r\n                <div class=\"external-orders__channel-tabs\">\r\n                    <button\r\n                        v-for=\"channel in channels\"\r\n                        :key=\"channel.id\"\r\n                        class=\"external-orders__channel-tab\"\r\n                        :class=\"{ 'is--active': activeChannel === channel.id }\"\r\n                        type=\"button\"\r\n                        @click=\"activeChannel = channel.id; loadOrders()\"\r\n                    >\r\n                        <span class=\"external-orders__channel-logo\">\r\n                            <img :src=\"channel.logo\" :alt=\"channel.label\" />\r\n                        </span>\r\n                        <span class=\"external-orders__channel-label\">{{ channel.label }}</span>\r\n                    </button>\r\n                </div>\r\n            </sw-card>\r\n\r\n            <sw-card class=\"external-orders__filters-card\" style=\"max-width: none; width: 100%;\">\r\n                <div class=\"external-orders__filters-bar\">\r\n                    <div class=\"external-orders__filters\">\r\n                        <button\r\n                            class=\"external-orders__button external-orders__button--primary\"\r\n                            type=\"button\"\r\n                            @click=\"resetFilters\"\r\n                        >\r\n                            <sw-icon name=\"regular-filter\" size=\"16\"></sw-icon>\r\n                            Filter löschen\r\n                        </button>\r\n                        <sw-datepicker\r\n                            v-model=\"dateFilters.start\"\r\n                            placeholder=\"Start Datum\"\r\n                            class=\"external-orders__date\"\r\n                            size=\"small\"\r\n                            date-type=\"date\"\r\n                            @change=\"setDateFilter('start', $event)\"\r\n                        />\r\n                        <sw-datepicker\r\n                            v-model=\"dateFilters.end\"\r\n                            placeholder=\"End Datum\"\r\n                            class=\"external-orders__date\"\r\n                            size=\"small\"\r\n                            date-type=\"date\"\r\n                            @change=\"setDateFilter('end', $event)\"\r\n                        />\r\n                        <button\r\n                            class=\"external-orders__button external-orders__button--primary\"\r\n                            type=\"button\"\r\n                            @click=\"applyDateFilter\"\r\n                        >\r\n                            Anwenden\r\n                        </button>\r\n                    </div>\r\n                    <div class=\"external-orders__filters-actions\">\r\n                        <sw-text-field\r\n                            v-model=\"tableSearchTerm\"\r\n                            placeholder=\"Suche Bestellungen\"\r\n                            class=\"external-orders__search\"\r\n                            size=\"small\"\r\n                            type=\"search\"></sw-text-field>\r\n                        <button\r\n                            class=\"external-orders__button external-orders__button--primary\"\r\n                            type=\"button\"\r\n                            :disabled=\"!hasSelectedOrders\"\r\n                            @click=\"openTestMarkingModal\"\r\n                        >\r\n                            Testmarkierung Anwenden\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div\r\n                    v-if=\"paginatedOrders.length > 0\"\r\n                    class=\"external-orders__table-wrapper\"\r\n                >\r\n                    <table class=\"external-orders__table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th class=\"external-orders__cell external-orders__cell--checkbox\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        class=\"external-orders__checkbox\"\r\n                                        :checked=\"isAllSelected\"\r\n                                        @change=\"toggleSelectAll($event)\"\r\n                                    />\r\n                                </th>\r\n                                <th class=\"external-orders__cell\">\r\n                                    <div class=\"external-orders__column-header\">\r\n                                        <button\r\n                                            class=\"external-orders__column-sort\"\r\n                                            type=\"button\"\r\n                                            @click=\"onSortColumn('orderNumber')\"\r\n                                        >\r\n                                            BestellNr\r\n                                            <span class=\"external-orders__sort-indicator\">\r\n                                                {{ getSortIndicator('orderNumber') }}\r\n                                            </span>\r\n                                        </button>\r\n                                        <button\r\n                                            class=\"external-orders__column-filter-button\"\r\n                                            :class=\"{ 'is--active': isColumnFilterActive('orderNumber') }\"\r\n                                            type=\"button\"\r\n                                            @click.stop=\"toggleColumnFilter('orderNumber')\"\r\n                                        >\r\n                                            <sw-icon name=\"regular-filter\" size=\"16\" />\r\n                                        </button>\r\n                                        <div\r\n                                            v-if=\"activeColumnFilter === 'orderNumber'\"\r\n                                            class=\"external-orders__column-filter-panel\"\r\n                                            @click.stop\r\n                                        >\r\n                                            <sw-single-select\r\n                                                v-model:value=\"columnFilterMatchMode\"\r\n                                                :options=\"columnFilterMatchOptions\"\r\n                                                value-property=\"value\"\r\n                                                label-property=\"label\"\r\n                                                size=\"small\"\r\n                                                class=\"external-orders__column-filter-field\"\r\n                                                @change=\"setColumnFilterMatchMode\"\r\n                                            />\r\n                                            <sw-single-select\r\n                                                v-model:value=\"columnFilters.orderNumber.operator\"\r\n                                                :options=\"columnFilterOperatorOptions\"\r\n                                                value-property=\"value\"\r\n                                                label-property=\"label\"\r\n                                                size=\"small\"\r\n                                                class=\"external-orders__column-filter-field\"\r\n                                                @change=\"setColumnFilterOperator('orderNumber', $event)\"\r\n                                            />\r\n                                            <sw-text-field\r\n                                                v-model=\"columnFilters.orderNumber.value\"\r\n                                                size=\"small\"\r\n                                                class=\"external-orders__column-filter-field\"></sw-text-field>\r\n                                            <button class=\"external-orders__column-filter-add external-orders__button external-orders__button--primary external-orders__button--small\"\r\n                                                disabled\r\n                                             type=\"button\">\r\n                                                + Add Rule\r\n                                            </button>\r\n                                            <div class=\"external-orders__column-filter-actions\">\r\n                                                <button class=\"external-orders__button external-orders__button--secondary external-orders__button--small\"\r\n                                                    @click=\"clearColumnFilter('orderNumber')\"\r\n                                                 type=\"button\">\r\n                                                    Clear\r\n                                                </button>\r\n                                                <button class=\"external-orders__button external-orders__button--primary external-orders__button--small\"\r\n                                                    @click=\"applyColumnFilter\"\r\n                                                 type=\"button\">\r\n                                                    Apply\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </th>\r\n                                <th class=\"external-orders__cell\">\r\n                                    <div class=\"external-orders__column-header\">\r\n                                        <button\r\n                                            class=\"external-orders__column-sort\"\r\n                                            type=\"button\"\r\n                                            @click=\"onSortColumn('customerName')\"\r\n                                        >\r\n                                            Kundenname\r\n                                            <span class=\"external-orders__sort-indicator\">\r\n                                                {{ getSortIndicator('customerName') }}\r\n                                            </span>\r\n                                        </button>\r\n                                        <button\r\n                                            class=\"external-orders__column-filter-button\"\r\n                                            :class=\"{ 'is--active': isColumnFilterActive('customerName') }\"\r\n                                            type=\"button\"\r\n                                            @click.stop=\"toggleColumnFilter('customerName')\"\r\n                                        >\r\n                                            <sw-icon name=\"regular-filter\" size=\"16\"></sw-icon>\r\n                                        </button>\r\n                                        <div\r\n                                            v-if=\"activeColumnFilter === 'customerName'\"\r\n                                            class=\"external-orders__column-filter-panel\"\r\n                                            @click.stop\r\n                                        >\r\n                                            <sw-single-select\r\n                                                v-model:value=\"columnFilterMatchMode\"\r\n                                                :options=\"columnFilterMatchOptions\"\r\n                                                value-property=\"value\"\r\n                                                label-property=\"label\"\r\n                                                size=\"small\"\r\n                                                class=\"external-orders__column-filter-field\"\r\n                                                @change=\"setColumnFilterMatchMode\"\r\n                                            />\r\n                                            <sw-single-select\r\n                                                v-model:value=\"columnFilters.customerName.operator\"\r\n                                                :options=\"columnFilterOperatorOptions\"\r\n                                                value-property=\"value\"\r\n                                                label-property=\"label\"\r\n                                                size=\"small\"\r\n                                                class=\"external-orders__column-filter-field\"\r\n                                                @change=\"setColumnFilterOperator('customerName', $event)\"\r\n                                            />\r\n                                            <sw-text-field\r\n                                                v-model=\"columnFilters.customerName.value\"\r\n                                                size=\"small\"\r\n                                                class=\"external-orders__column-filter-field\"></sw-text-field>\r\n                                            <button class=\"external-orders__column-filter-add external-orders__button external-orders__button--primary external-orders__button--small\"\r\n                                                disabled\r\n                                             type=\"button\">\r\n                                                + Add Rule\r\n                                            </button>\r\n                                            <div class=\"external-orders__column-filter-actions\">\r\n                                                <button class=\"external-orders__button external-orders__button--secondary external-orders__button--small\"\r\n                                                    @click=\"clearColumnFilter('customerName')\"\r\n                                                 type=\"button\">\r\n                                                    Clear\r\n                                                </button>\r\n                                                <button class=\"external-orders__button external-orders__button--primary external-orders__button--small\"\r\n                                                    @click=\"applyColumnFilter\"\r\n                                                 type=\"button\">\r\n                                                    Apply\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </th>\r\n                                <th class=\"external-orders__cell\">\r\n                                    <div class=\"external-orders__column-header\">\r\n                                        <button\r\n                                            class=\"external-orders__column-sort\"\r\n                                            type=\"button\"\r\n                                            @click=\"onSortColumn('orderReference')\"\r\n                                        >\r\n                                            AuftragsNr\r\n                                            <span class=\"external-orders__sort-indicator\">\r\n                                                {{ getSortIndicator('orderReference') }}\r\n                                            </span>\r\n                                        </button>\r\n                                        <button\r\n                                            class=\"external-orders__column-filter-button\"\r\n                                            :class=\"{ 'is--active': isColumnFilterActive('orderReference') }\"\r\n                                            type=\"button\"\r\n                                            @click.stop=\"toggleColumnFilter('orderReference')\"\r\n                                        >\r\n                                            <sw-icon name=\"regular-filter\" size=\"16\"></sw-icon>\r\n                                        </button>\r\n                                        <div\r\n                                            v-if=\"activeColumnFilter === 'orderReference'\"\r\n                                            class=\"external-orders__column-filter-panel\"\r\n                                            @click.stop\r\n                                        >\r\n                                            <sw-single-select\r\n                                                v-model:value=\"columnFilterMatchMode\"\r\n                                                :options=\"columnFilterMatchOptions\"\r\n                                                value-property=\"value\"\r\n                                                label-property=\"label\"\r\n                                                size=\"small\"\r\n                                                class=\"external-orders__column-filter-field\"\r\n                                                @change=\"setColumnFilterMatchMode\"\r\n                                            />\r\n                                            <sw-single-select\r\n                                                v-model:value=\"columnFilters.orderReference.operator\"\r\n                                                :options=\"columnFilterOperatorOptions\"\r\n                                                value-property=\"value\"\r\n                                                label-property=\"label\"\r\n                                                size=\"small\"\r\n                                                class=\"external-orders__column-filter-field\"\r\n                                                @change=\"setColumnFilterOperator('orderReference', $event)\"\r\n                                            />\r\n                                            <sw-text-field\r\n                                                v-model=\"columnFilters.orderReference.value\"\r\n                                                size=\"small\"\r\n                                                class=\"external-orders__column-filter-field\"></sw-text-field>\r\n                                            <button class=\"external-orders__column-filter-add external-orders__button external-orders__button--primary external-orders__button--small\"\r\n                                                disabled\r\n                                             type=\"button\">\r\n                                                + Add Rule\r\n                                            </button>\r\n                                            <div class=\"external-orders__column-filter-actions\">\r\n                                                <button class=\"external-orders__button external-orders__button--secondary external-orders__button--small\"\r\n                                                    @click=\"clearColumnFilter('orderReference')\"\r\n                                                 type=\"button\">\r\n                                                    Clear\r\n                                                </button>\r\n                                                <button class=\"external-orders__button external-orders__button--primary external-orders__button--small\"\r\n                                                    @click=\"applyColumnFilter\"\r\n                                                 type=\"button\">\r\n                                                    Apply\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </th>\r\n                                <th class=\"external-orders__cell\">\r\n                                    <div class=\"external-orders__column-header\">\r\n                                        <button\r\n                                            class=\"external-orders__column-sort\"\r\n                                            type=\"button\"\r\n                                            @click=\"onSortColumn('email')\"\r\n                                        >\r\n                                            Email\r\n                                            <span class=\"external-orders__sort-indicator\">\r\n                                                {{ getSortIndicator('email') }}\r\n                                            </span>\r\n                                        </button>\r\n                                        <button\r\n                                            class=\"external-orders__column-filter-button\"\r\n                                            :class=\"{ 'is--active': isColumnFilterActive('email') }\"\r\n                                            type=\"button\"\r\n                                            @click.stop=\"toggleColumnFilter('email')\"\r\n                                        >\r\n                                            <sw-icon name=\"regular-filter\" size=\"16\" />\r\n                                        </button>\r\n                                        <div\r\n                                            v-if=\"activeColumnFilter === 'email'\"\r\n                                            class=\"external-orders__column-filter-panel\"\r\n                                            @click.stop\r\n                                        >\r\n                                            <sw-single-select\r\n                                                v-model:value=\"columnFilterMatchMode\"\r\n                                                :options=\"columnFilterMatchOptions\"\r\n                                                value-property=\"value\"\r\n                                                label-property=\"label\"\r\n                                                size=\"small\"\r\n                                                class=\"external-orders__column-filter-field\"\r\n                                                @change=\"setColumnFilterMatchMode\"\r\n                                            />\r\n                                            <sw-single-select\r\n                                                v-model:value=\"columnFilters.email.operator\"\r\n                                                :options=\"columnFilterOperatorOptions\"\r\n                                                value-property=\"value\"\r\n                                                label-property=\"label\"\r\n                                                size=\"small\"\r\n                                                class=\"external-orders__column-filter-field\"\r\n                                                @change=\"setColumnFilterOperator('email', $event)\"\r\n                                            />\r\n                                            <sw-text-field\r\n                                                v-model=\"columnFilters.email.value\"\r\n                                                size=\"small\"\r\n                                                class=\"external-orders__column-filter-field\"></sw-text-field>\r\n                                            <button class=\"external-orders__column-filter-add external-orders__button external-orders__button--primary external-orders__button--small\"\r\n                                                disabled\r\n                                             type=\"button\">\r\n                                                + Add Rule\r\n                                            </button>\r\n                                            <div class=\"external-orders__column-filter-actions\">\r\n                                                <button class=\"external-orders__button external-orders__button--secondary external-orders__button--small\"\r\n                                                    @click=\"clearColumnFilter('email')\"\r\n                                                 type=\"button\">\r\n                                                    Clear\r\n                                                </button>\r\n                                                <button class=\"external-orders__button external-orders__button--primary external-orders__button--small\"\r\n                                                    @click=\"applyColumnFilter\"\r\n                                                 type=\"button\">\r\n                                                    Apply\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </th>\r\n                                <th class=\"external-orders__cell\">\r\n                                    <div class=\"external-orders__column-header\">\r\n                                        <button\r\n                                            class=\"external-orders__column-sort\"\r\n                                            type=\"button\"\r\n                                            @click=\"onSortColumn('date')\"\r\n                                        >\r\n                                            Datum\r\n                                            <span class=\"external-orders__sort-indicator\">\r\n                                                {{ getSortIndicator('date') }}\r\n                                            </span>\r\n                                        </button>\r\n                                        <button\r\n                                            class=\"external-orders__column-filter-button\"\r\n                                            :class=\"{ 'is--active': isColumnFilterActive('date') }\"\r\n                                            type=\"button\"\r\n                                            @click.stop=\"toggleColumnFilter('date')\"\r\n                                        >\r\n                                            <sw-icon name=\"regular-filter\" size=\"16\"></sw-icon>\r\n                                        </button>\r\n                                        <div\r\n                                            v-if=\"activeColumnFilter === 'date'\"\r\n                                            class=\"external-orders__column-filter-panel\"\r\n                                            @click.stop\r\n                                        >\r\n                                            <sw-single-select\r\n                                                v-model:value=\"columnFilterMatchMode\"\r\n                                                :options=\"columnFilterMatchOptions\"\r\n                                                value-property=\"value\"\r\n                                                label-property=\"label\"\r\n                                                size=\"small\"\r\n                                                class=\"external-orders__column-filter-field\"\r\n                                                @change=\"setColumnFilterMatchMode\"\r\n                                            />\r\n                                            <sw-single-select\r\n                                                v-model:value=\"columnFilters.date.operator\"\r\n                                                :options=\"columnFilterOperatorOptions\"\r\n                                                value-property=\"value\"\r\n                                                label-property=\"label\"\r\n                                                size=\"small\"\r\n                                                class=\"external-orders__column-filter-field\"\r\n                                                @change=\"setColumnFilterOperator('date', $event)\"\r\n                                            />\r\n                                            <sw-text-field\r\n                                                v-model=\"columnFilters.date.value\"\r\n                                                size=\"small\"\r\n                                                class=\"external-orders__column-filter-field\"></sw-text-field>\r\n                                            <button class=\"external-orders__column-filter-add external-orders__button external-orders__button--primary external-orders__button--small\"\r\n                                                disabled\r\n                                             type=\"button\">\r\n                                                + Add Rule\r\n                                            </button>\r\n                                            <div class=\"external-orders__column-filter-actions\">\r\n                                                <button class=\"external-orders__button external-orders__button--secondary external-orders__button--small\"\r\n                                                    @click=\"clearColumnFilter('date')\"\r\n                                                 type=\"button\">\r\n                                                    Clear\r\n                                                </button>\r\n                                                <button class=\"external-orders__button external-orders__button--primary external-orders__button--small\"\r\n                                                    @click=\"applyColumnFilter\"\r\n                                                 type=\"button\">\r\n                                                    Apply\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </th>\r\n                                <th class=\"external-orders__cell\">\r\n                                    <div class=\"external-orders__column-header\">\r\n                                        <button\r\n                                            class=\"external-orders__column-sort\"\r\n                                            type=\"button\"\r\n                                            @click=\"onSortColumn('statusLabel')\"\r\n                                        >\r\n                                            Bestellstatus\r\n                                            <span class=\"external-orders__sort-indicator\">\r\n                                                {{ getSortIndicator('statusLabel') }}\r\n                                            </span>\r\n                                        </button>\r\n                                        <button\r\n                                            class=\"external-orders__column-filter-button\"\r\n                                            :class=\"{ 'is--active': isColumnFilterActive('statusLabel') }\"\r\n                                            type=\"button\"\r\n                                            @click.stop=\"toggleColumnFilter('statusLabel')\"\r\n                                        >\r\n                                            <sw-icon name=\"regular-filter\" size=\"16\"></sw-icon>\r\n                                        </button>\r\n                                        <div\r\n                                            v-if=\"activeColumnFilter === 'statusLabel'\"\r\n                                            class=\"external-orders__column-filter-panel\"\r\n                                            @click.stop\r\n                                        >\r\n                                            <sw-single-select\r\n                                                v-model:value=\"columnFilterMatchMode\"\r\n                                                :options=\"columnFilterMatchOptions\"\r\n                                                value-property=\"value\"\r\n                                                label-property=\"label\"\r\n                                                size=\"small\"\r\n                                                class=\"external-orders__column-filter-field\"\r\n                                                @change=\"setColumnFilterMatchMode\"\r\n                                            />\r\n                                            <sw-single-select\r\n                                                v-model:value=\"columnFilters.statusLabel.operator\"\r\n                                                :options=\"columnFilterOperatorOptions\"\r\n                                                value-property=\"value\"\r\n                                                label-property=\"label\"\r\n                                                size=\"small\"\r\n                                                class=\"external-orders__column-filter-field\"\r\n                                                @change=\"setColumnFilterOperator('statusLabel', $event)\"\r\n                                            />\r\n                                            <sw-text-field\r\n                                                v-model=\"columnFilters.statusLabel.value\"\r\n                                                size=\"small\"\r\n                                                class=\"external-orders__column-filter-field\"></sw-text-field>\r\n                                            <button class=\"external-orders__column-filter-add external-orders__button external-orders__button--primary external-orders__button--small\"\r\n                                                disabled\r\n                                             type=\"button\">\r\n                                                + Add Rule\r\n                                            </button>\r\n                                            <div class=\"external-orders__column-filter-actions\">\r\n                                                <button class=\"external-orders__button external-orders__button--secondary external-orders__button--small\"\r\n                                                    @click=\"clearColumnFilter('statusLabel')\"\r\n                                                 type=\"button\">\r\n                                                    Clear\r\n                                                </button>\r\n                                                <button class=\"external-orders__button external-orders__button--primary external-orders__button--small\"\r\n                                                    @click=\"applyColumnFilter\"\r\n                                                 type=\"button\">\r\n                                                    Apply\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </th>\r\n                                <th class=\"external-orders__cell external-orders__cell--actions\">\r\n                                    Ansicht\r\n                                </th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr v-for=\"order in paginatedOrders\" :key=\"getOrderKey(order)\">\r\n                                <td class=\"external-orders__cell external-orders__cell--checkbox\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        class=\"external-orders__checkbox\"\r\n                                        :checked=\"isOrderSelected(order)\"\r\n                                        @change=\"toggleOrderSelection(order, $event)\"\r\n                                    />\r\n                                </td>\r\n                                <td class=\"external-orders__cell\">{{ order.orderNumber }}</td>\r\n                                <td class=\"external-orders__cell\">{{ order.customerName }}</td>\r\n                                <td class=\"external-orders__cell\">{{ order.orderReference }}</td>\r\n                                <td class=\"external-orders__cell\">{{ order.email }}</td>\r\n                                <td class=\"external-orders__cell\">{{ order.date }}</td>\r\n                                <td class=\"external-orders__cell\">\r\n                                    <sw-label :variant=\"statusVariant(order.status)\" size=\"small\">\r\n                                        {{ order.statusLabel }}\r\n                                    </sw-label>\r\n                                </td>\r\n                                <td class=\"external-orders__cell external-orders__cell--actions\">\r\n                                    <button class=\"external-orders__action external-orders__button external-orders__button--ghost external-orders__button--small\"\r\n                                        @click=\"openDetail(order)\"\r\n                                     type=\"button\">\r\n                                        <sw-icon name=\"regular-eye\" size=\"16\"></sw-icon>\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div\r\n                    v-if=\"paginatedOrders.length > 0\"\r\n                    class=\"external-orders__pagination\"\r\n                >\r\n                    <div class=\"external-orders__pagination-controls\">\r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"external-orders__pagination-nav\"\r\n                            :disabled=\"page <= 1\"\r\n                            @click=\"goToFirstPage\"\r\n                        >\r\n                            «\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"external-orders__pagination-nav\"\r\n                            :disabled=\"page <= 1\"\r\n                            @click=\"goToPreviousPage\"\r\n                        >\r\n                            ‹\r\n                        </button>\r\n                        <div class=\"external-orders__pagination-pages\">\r\n                            <button\r\n                                v-for=\"pageNumber in visiblePages\"\r\n                                :key=\"pageNumber\"\r\n                                type=\"button\"\r\n                                class=\"external-orders__pagination-page\"\r\n                                :class=\"{ 'is--active': pageNumber === page }\"\r\n                                @click=\"goToPage(pageNumber)\"\r\n                            >\r\n                                {{ pageNumber }}\r\n                            </button>\r\n                        </div>\r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"external-orders__pagination-nav\"\r\n                            :disabled=\"page >= totalPages\"\r\n                            @click=\"goToNextPage\"\r\n                        >\r\n                            ›\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"external-orders__pagination-nav\"\r\n                            :disabled=\"page >= totalPages\"\r\n                            @click=\"goToLastPage\"\r\n                        >\r\n                            »\r\n                        </button>\r\n                        <sw-single-select\r\n                            :value=\"limitSelection\"\r\n                            :options=\"limitSelectOptions\"\r\n                            size=\"small\"\r\n                            class=\"external-orders__pagination-limit\"></sw-single-select>\r\n                    </div>\r\n                </div>\r\n                <sw-empty-state\r\n                    v-else\r\n                    icon=\"regular-shopping-cart\"\r\n                    title=\"Keine Bestellungen gefunden\"\r\n                    subline=\"Es wurden keine Bestellungen für die aktuelle Auswahl geladen.\"></sw-empty-state>\r\n            </sw-card>\r\n\r\n            <div\r\n                v-if=\"showDetailModal && selectedOrder\"\r\n                class=\"external-orders__detail-overlay\"\r\n                @click.self=\"closeDetail\"\r\n            >\r\n                <div class=\"external-orders__detail-dialog\" role=\"dialog\" aria-modal=\"true\">\r\n                    <header class=\"external-orders__detail-header\">\r\n                        <h3>Bestellübersicht für {{ selectedOrder.orderNumber }}</h3>\r\n                        <button class=\"external-orders__detail-close\" type=\"button\" @click=\"closeDetail\">×</button>\r\n                    </header>\r\n                    <div class=\"external-orders__detail-body\">\r\n                        <div class=\"external-orders__detail\">\r\n                            <section class=\"external-orders__detail-card\">\r\n                                <div class=\"external-orders__detail-card-header\">\r\n                                    <h4>Zusätzliche Bestellinformationen</h4>\r\n                                </div>\r\n                                <div class=\"external-orders__detail-card-body\">\r\n                                    <div class=\"external-orders__detail-grid\">\r\n                                        <div class=\"external-orders__detail-section\">\r\n                                            <h4>Kundendetails</h4>\r\n                                            <dl>\r\n                                                <dt>Kundenname</dt>\r\n                                                <dd>{{ selectedOrder.customer.firstName }} {{ selectedOrder.customer.lastName }}</dd>\r\n                                                <dt>Kundennummer</dt>\r\n                                                <dd>{{ selectedOrder.customer.number }}</dd>\r\n                                                <dt>Vorname</dt>\r\n                                                <dd>{{ selectedOrder.customer.firstName }}</dd>\r\n                                                <dt>Nachname</dt>\r\n                                                <dd>{{ selectedOrder.customer.lastName }}</dd>\r\n                                                <dt>Kunden-Mail-Adresse</dt>\r\n                                                <dd>{{ selectedOrder.customer.email }}</dd>\r\n                                                <dt>Kundengruppe</dt>\r\n                                                <dd>{{ selectedOrder.customer.group }}</dd>\r\n                                            </dl>\r\n                                        </div>\r\n                                        <div class=\"external-orders__detail-section\">\r\n                                            <h4>Zahlungsdetails</h4>\r\n                                            <dl>\r\n                                                <dt>Zahlungsmethode</dt>\r\n                                                <dd>{{ selectedOrder.payment.method }}</dd>\r\n                                                <dt>Zahlungscode</dt>\r\n                                                <dd>{{ selectedOrder.payment.code }}</dd>\r\n                                                <dt>Fälligkeitsdatum</dt>\r\n                                                <dd>{{ selectedOrder.payment.dueDate }}</dd>\r\n                                                <dt>Ausstehender Betrag</dt>\r\n                                                <dd>{{ selectedOrder.payment.outstanding }}</dd>\r\n                                                <dt>Abgerechnet</dt>\r\n                                                <dd>{{ selectedOrder.payment.settled }}</dd>\r\n                                                <dt>Zusatzinfo</dt>\r\n                                                <dd>{{ selectedOrder.payment.extra }}</dd>\r\n                                            </dl>\r\n                                        </div>\r\n                                        <div class=\"external-orders__detail-section\">\r\n                                            <h4>Rechnungsanschrift</h4>\r\n                                            <dl>\r\n                                                <dt>Straße</dt>\r\n                                                <dd>{{ selectedOrder.billingAddress.street }}</dd>\r\n                                                <dt>PLZ</dt>\r\n                                                <dd>{{ selectedOrder.billingAddress.zip }}</dd>\r\n                                                <dt>Stadt</dt>\r\n                                                <dd>{{ selectedOrder.billingAddress.city }}</dd>\r\n                                                <dt>Land</dt>\r\n                                                <dd>{{ selectedOrder.billingAddress.country }}</dd>\r\n                                            </dl>\r\n                                        </div>\r\n                                        <div class=\"external-orders__detail-section\">\r\n                                            <h4>Lieferanschrift</h4>\r\n                                            <dl>\r\n                                                <dt>Lieferadresse</dt>\r\n                                                <dd>{{ selectedOrder.shippingAddress.name }}</dd>\r\n                                                <dt>Lieferstraße</dt>\r\n                                                <dd>{{ selectedOrder.shippingAddress.street }}</dd>\r\n                                                <dt>Postleitzahl/Stadt</dt>\r\n                                                <dd>{{ selectedOrder.shippingAddress.zipCity }}</dd>\r\n                                                <dt>Land</dt>\r\n                                                <dd>{{ selectedOrder.shippingAddress.country }}</dd>\r\n                                            </dl>\r\n                                        </div>\r\n                                        <div class=\"external-orders__detail-section\">\r\n                                            <h4>Weitere Details</h4>\r\n                                            <dl>\r\n                                                <dt>Bestelldatum</dt>\r\n                                                <dd>{{ selectedOrder.additional.orderDate }}</dd>\r\n                                                <dt>Status</dt>\r\n                                                <dd>{{ selectedOrder.additional.status }}</dd>\r\n                                                <dt>Bestelltyp</dt>\r\n                                                <dd>{{ selectedOrder.additional.orderType }}</dd>\r\n                                                <dt>Notizen</dt>\r\n                                                <dd>{{ selectedOrder.additional.notes }}</dd>\r\n                                                <dt>Fachberater</dt>\r\n                                                <dd>{{ selectedOrder.additional.consultant }}</dd>\r\n                                                <dt>Mandant</dt>\r\n                                                <dd>{{ selectedOrder.additional.tenant }}</dd>\r\n                                                <dt>San6 Auftragsnummer</dt>\r\n                                                <dd>{{ selectedOrder.additional.san6OrderNumber }}</dd>\r\n                                            </dl>\r\n                                        </div>\r\n                                        <div class=\"external-orders__detail-section\">\r\n                                            <h4>Erweiterte Bestelldaten</h4>\r\n                                            <dl>\r\n                                                <dt>Versanddienstleister</dt>\r\n                                                <dd>{{ selectedOrder.shipping.carrier }}</dd>\r\n                                                <dt>Trackingnummer(n)</dt>\r\n                                                <dd>{{ selectedOrder.shipping.trackingNumbers.join(', ') }}</dd>\r\n                                                <dt>Einträge in Orgas San6</dt>\r\n                                                <dd>{{ selectedOrder.additional.orgaEntries.join(', ') }}</dd>\r\n                                                <dt>Dokumente aus Bildarchiv San6</dt>\r\n                                                <dd>{{ selectedOrder.additional.documents.join(', ') }}</dd>\r\n                                                <dt>PDMS ID + Variante</dt>\r\n                                                <dd>{{ selectedOrder.additional.pdmsId }} / {{ selectedOrder.additional.pdmsVariant }}</dd>\r\n                                                <dt>TopM Artikelnummer + Ausführung</dt>\r\n                                                <dd>{{ selectedOrder.additional.topmArticleNumber }} / {{ selectedOrder.additional.topmExecution }}</dd>\r\n                                                <dt>Bestellstatushistorie Gambio/Shopware</dt>\r\n                                                <dd>{{ selectedOrder.additional.statusHistorySource }}</dd>\r\n                                            </dl>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </section>\r\n\r\n                            <section class=\"external-orders__detail-card\">\r\n                                <div class=\"external-orders__detail-card-header\">\r\n                                    <h4>Bestellprodukte</h4>\r\n                                </div>\r\n                                <div class=\"external-orders__detail-card-body\">\r\n                                    <sw-data-grid\r\n                                        :data-source=\"selectedOrder.items\"\r\n                                        :columns=\"[\r\n                                            { property: 'name', label: 'Produktname' },\r\n                                            { property: 'quantity', label: 'Menge' },\r\n                                            { property: 'netPrice', label: 'Nettowert' },\r\n                                            { property: 'taxRate', label: 'Steuersatz' },\r\n                                            { property: 'grossPrice', label: 'Bruttowert' },\r\n                                            { property: 'totalPrice', label: 'Gesamtwert' },\r\n                                        ]\"\r\n                                        identifier=\"external-orders-items\"\r\n                                    >\r\n                                        <template #column-netPrice=\"{ item }\">\r\n                                            {{ formatCurrency(item.netPrice) }}\r\n                                        </template>\r\n                                        <template #column-taxRate=\"{ item }\">\r\n                                            {{ item.taxRate }}%\r\n                                        </template>\r\n                                        <template #column-grossPrice=\"{ item }\">\r\n                                            {{ formatCurrency(item.grossPrice) }}\r\n                                        </template>\r\n                                        <template #column-totalPrice=\"{ item }\">\r\n                                            {{ formatCurrency(item.totalPrice) }}\r\n                                        </template>\r\n                                    </sw-data-grid>\r\n                                </div>\r\n                            </section>\r\n\r\n                            <section class=\"external-orders__detail-card\">\r\n                                <div class=\"external-orders__detail-card-header\">\r\n                                    <h4>Statusverlauf</h4>\r\n                                </div>\r\n                                <div class=\"external-orders__detail-card-body\">\r\n                                    <sw-data-grid\r\n                                        :data-source=\"selectedOrder.statusHistory\"\r\n                                        :columns=\"[\r\n                                            { property: 'status', label: 'Status' },\r\n                                            { property: 'date', label: 'Datum' },\r\n                                            { property: 'comment', label: 'Kommentare' },\r\n                                        ]\"\r\n                                        identifier=\"external-orders-history\"></sw-data-grid>\r\n                                </div>\r\n                            </section>\r\n\r\n                            <section class=\"external-orders__detail-card\">\r\n                                <div class=\"external-orders__detail-card-header\">\r\n                                    <h4>Bestellgesamtsummen</h4>\r\n                                </div>\r\n                                <div class=\"external-orders__detail-card-body\">\r\n                                    <div class=\"external-orders__totals\">\r\n                                        <div class=\"external-orders__totals-row\">\r\n                                            <span>Warenwert</span>\r\n                                            <span>{{ formatCurrency(selectedOrder.totals.items) }}</span>\r\n                                        </div>\r\n                                        <div class=\"external-orders__totals-row\">\r\n                                            <span>Versandkosten</span>\r\n                                            <span>{{ formatCurrency(selectedOrder.totals.shipping) }}</span>\r\n                                        </div>\r\n                                        <div class=\"external-orders__totals-row\">\r\n                                            <span>Summe</span>\r\n                                            <span>{{ formatCurrency(selectedOrder.totals.sum) }}</span>\r\n                                        </div>\r\n                                        <div class=\"external-orders__totals-row\">\r\n                                            <span>inkl. MwSt.</span>\r\n                                            <span>{{ formatCurrency(selectedOrder.totals.tax) }}</span>\r\n                                        </div>\r\n                                        <div class=\"external-orders__totals-row\">\r\n                                            <span>Summe netto</span>\r\n                                            <span>{{ formatCurrency(selectedOrder.totals.net) }}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </section>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div\r\n                v-if=\"showTestMarkingModal\"\r\n                class=\"external-orders__testmarking-overlay\"\r\n                role=\"dialog\"\r\n                aria-modal=\"true\"\r\n            >\r\n                <div class=\"external-orders__testmarking-dialog\">\r\n                    <header class=\"external-orders__testmarking-header\">\r\n                        <h3>Bestätigen von Änderungen der Testmarkierung</h3>\r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"external-orders__testmarking-close\"\r\n                            aria-label=\"Modal schließen\"\r\n                            @click=\"closeTestMarkingModal\"\r\n                        >\r\n                            ×\r\n                        </button>\r\n                    </header>\r\n                    <div class=\"external-orders__testmarking-body\">\r\n                        <p class=\"external-orders__testmarking-intro\">\r\n                            Sie sind dabei, die folgenden Bestellungen als Testbestellungen zu markieren bzw. die Markierung\r\n                            aufzuheben. Bitte überprüfen Sie die Änderungen, bevor Sie sie bestätigen.\r\n                        </p>\r\n                        <div class=\"external-orders__testmarking-grid\">\r\n                            <div class=\"external-orders__testmarking-card\">\r\n                                <h4 class=\"external-orders__testmarking-title is--positive\">\r\n                                    Als Test zu markierende Bestellungen\r\n                                </h4>\r\n                                <ul class=\"external-orders__testmarking-list\">\r\n                                    <li\r\n                                        v-for=\"order in testMarkingOrders\"\r\n                                        :key=\"getOrderKey(order)\"\r\n                                    >\r\n                                        {{ getOrderDisplayLabel(order) }}\r\n                                    </li>\r\n                                    <li v-if=\"testMarkingOrders.length === 0\">\r\n                                        Keine Bestellungen ausgewählt.\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                            <div class=\"external-orders__testmarking-card\">\r\n                                <h4 class=\"external-orders__testmarking-title is--negative\">\r\n                                    Bestellungen, die nicht als Test markieren\r\n                                </h4>\r\n                                <ul class=\"external-orders__testmarking-list\">\r\n                                    <li\r\n                                        v-for=\"order in unmarkedTestOrders\"\r\n                                        :key=\"getOrderKey(order)\"\r\n                                    >\r\n                                        {{ getOrderDisplayLabel(order) }}\r\n                                    </li>\r\n                                    <li v-if=\"unmarkedTestOrders.length === 0\">\r\n                                        Keine Bestellungen ausgewählt.\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <footer class=\"external-orders__testmarking-footer\">\r\n                        <sw-button variant=\"secondary\" @click=\"closeTestMarkingModal\">\r\n                            Abbrechen\r\n                        </sw-button>\r\n                        <sw-button variant=\"primary\" @click=\"applyTestMarking\">\r\n                            Bestätige\r\n                        </sw-button>\r\n                    </footer>\r\n                </div>\r\n            </div>\r\n\r\n            \r\n        </div>\r\n    </main>\r\n</div>\r\n","import template from './external-orders-list.html.twig';\r\nimport './external-orders-list.scss';\r\n\r\nconst { Component, Mixin } = Shopware;\r\n\r\nComponent.register('external-orders-list', {\r\n    template,\r\n\r\n    inject: ['externalOrderService', 'systemConfigApiService'],\r\n\r\n    mixins: [\r\n        Mixin.getByName('notification'),\r\n    ],\r\n\r\n    data() {\r\n        return {\r\n            isLoading: false,\r\n            isSeedingTestData: false,\r\n            pageTitle: 'Bestellübersichten',\r\n            orders: [],\r\n            summary: {\r\n                orderCount: 0,\r\n                totalRevenue: 0,\r\n                totalItems: 0,\r\n            },\r\n            channelSources: {},\r\n            channels: [\r\n                {\r\n                    id: 'b2b',\r\n                    label: 'First-medical-shop.de',\r\n                    logo: 'http://controlling.first-medical.de:8480/assets/images/b2b1.png',\r\n                },\r\n                {\r\n                    id: 'ebay_de',\r\n                    label: 'Ebay.DE',\r\n                    logo: 'http://controlling.first-medical.de:8480/assets/images/ebay1.png',\r\n                },\r\n                {\r\n                    id: 'kaufland',\r\n                    label: 'KaufLand',\r\n                    logo: 'http://controlling.first-medical.de:8480/assets/images/kaufland1.png',\r\n                },\r\n                {\r\n                    id: 'ebay_at',\r\n                    label: 'Ebay.AT',\r\n                    logo: 'http://controlling.first-medical.de:8480/assets/images/ebayAT.png',\r\n                },\r\n                {\r\n                    id: 'zonami',\r\n                    label: 'Zonami',\r\n                    logo: 'http://controlling.first-medical.de:8480/assets/images/zonami1.png',\r\n                },\r\n                {\r\n                    id: 'peg',\r\n                    label: 'PEG',\r\n                    logo: 'http://controlling.first-medical.de:8480/assets/images/peg2.png',\r\n                },\r\n                {\r\n                    id: 'bezb',\r\n                    label: 'BEZB',\r\n                    logo: 'http://controlling.first-medical.de:8480/assets/images/bezb1.png',\r\n                },\r\n            ],\r\n            activeChannel: 'b2b',\r\n            tableSearchTerm: '',\r\n            columnFilterMatchMode: 'all',\r\n            columnFilterMatchOptions: [\r\n                { value: 'all', label: 'Match All' },\r\n            ],\r\n            columnFilterOperatorOptions: [\r\n                { value: 'startsWith', label: 'Starts with' },\r\n                { value: 'contains', label: 'Contains' },\r\n                { value: 'equals', label: 'Equals' },\r\n            ],\r\n            columnFilters: {\r\n                orderNumber: { value: '', operator: 'startsWith' },\r\n                customerName: { value: '', operator: 'startsWith' },\r\n                orderReference: { value: '', operator: 'startsWith' },\r\n                email: { value: '', operator: 'startsWith' },\r\n                date: { value: '', operator: 'startsWith' },\r\n                statusLabel: { value: '', operator: 'startsWith' },\r\n            },\r\n            activeColumnFilter: null,\r\n            selectedOrder: null,\r\n            selectedOrders: [],\r\n            showDetailModal: false,\r\n            showTestMarkingModal: false,\r\n            dateFilters: {\r\n                start: null,\r\n                end: null,\r\n            },\r\n            page: 1,\r\n            limit: 10,\r\n            limitOptions: [10, 25, 50, 100],\r\n            sortBy: 'date',\r\n            sortDirection: 'DESC',\r\n        };\r\n    },\r\n\r\n    computed: {\r\n        columns() {\r\n            return [\r\n                {\r\n                    property: 'order-number',\r\n                    dataIndex: 'orderNumber',\r\n                    sortBy: 'orderNumber',\r\n                    label: 'BestellNr',\r\n                    sortable: true,\r\n                    primary: true,\r\n                    allowResize: true,\r\n                },\r\n                {\r\n                    property: 'customer-name',\r\n                    dataIndex: 'customerName',\r\n                    sortBy: 'customerName',\r\n                    label: 'Kundenname',\r\n                    sortable: true,\r\n                    allowResize: true,\r\n                },\r\n                {\r\n                    property: 'order-reference',\r\n                    dataIndex: 'orderReference',\r\n                    sortBy: 'orderReference',\r\n                    label: 'AuftragsNr',\r\n                    sortable: true,\r\n                    allowResize: true,\r\n                },\r\n                {\r\n                    property: 'email',\r\n                    dataIndex: 'email',\r\n                    sortBy: 'email',\r\n                    label: 'Email',\r\n                    sortable: true,\r\n                    allowResize: true,\r\n                },\r\n                {\r\n                    property: 'date',\r\n                    dataIndex: 'date',\r\n                    sortBy: 'date',\r\n                    label: 'Datum',\r\n                    sortable: true,\r\n                    allowResize: true,\r\n                },\r\n                {\r\n                    property: 'status-label',\r\n                    dataIndex: 'statusLabel',\r\n                    sortBy: 'statusLabel',\r\n                    label: 'Bestellstatus',\r\n                    sortable: true,\r\n                    allowResize: true,\r\n                },\r\n                { property: 'actions', label: 'Ansicht', sortable: false, width: '90px' },\r\n            ];\r\n        },\r\n        activeChannelLabel() {\r\n            return this.channels.find((channel) => channel.id === this.activeChannel)?.label || '';\r\n        },\r\n        activeChannelSource() {\r\n            return this.channelSources[this.activeChannel] || '';\r\n        },\r\n        filteredOrders() {\r\n            const searchTerm = this.tableSearchTerm.trim().toLowerCase();\r\n            const channelOrders = this.orders.filter((order) => {\r\n                if (!order.channel) {\r\n                    return true;\r\n                }\r\n                return order.channel === this.activeChannel;\r\n            });\r\n\r\n            const channelFilter = this.activeChannel === 'all' ? null : this.activeChannel;\r\n            const filtered = this.orders.filter((order) => {\r\n                if (!channelFilter) {\r\n                    return true;\r\n                }\r\n\r\n                const channelValue = order.channel\r\n                    ?? order.channelId\r\n                    ?? order.salesChannelId\r\n                    ?? order.salesChannel;\r\n\r\n                return String(channelValue ?? '').toLowerCase() === channelFilter;\r\n            });\r\n\r\n            const columnFiltered = this.applyColumnFilters(filtered);\r\n            const dateFiltered = this.applyDateFilters(columnFiltered);\r\n\r\n            if (!searchTerm) {\r\n                return dateFiltered;\r\n            }\r\n\r\n            return dateFiltered.filter((order) => {\r\n                const values = [\r\n                    order.orderNumber,\r\n                    order.customerName,\r\n                    order.orderReference,\r\n                    order.email,\r\n                    order.statusLabel,\r\n                    order.date,\r\n                ];\r\n\r\n                return values.some((value) => String(value ?? '').toLowerCase().includes(searchTerm));\r\n            });\r\n        },\r\n        sortedOrders() {\r\n            const sortBy = this.sortBy;\r\n            const direction = this.sortDirection === 'DESC' ? -1 : 1;\r\n\r\n            return [...this.filteredOrders].sort((left, right) => {\r\n                const leftValue = this.getSortValue(left, sortBy);\r\n                const rightValue = this.getSortValue(right, sortBy);\r\n\r\n                if (leftValue === rightValue) {\r\n                    return 0;\r\n                }\r\n\r\n                return leftValue > rightValue ? direction : -direction;\r\n            });\r\n        },\r\n        paginatedOrders() {\r\n            const start = (this.page - 1) * this.limit;\r\n            return this.sortedOrders.slice(start, start + this.limit);\r\n        },\r\n        paginationTotal() {\r\n            return this.sortedOrders.length;\r\n        },\r\n        totalPages() {\r\n            if (this.limit <= 0) {\r\n                return 1;\r\n            }\r\n            return Math.max(1, Math.ceil(this.paginationTotal / this.limit));\r\n        },\r\n        visiblePages() {\r\n            const maxVisible = 5;\r\n            const total = this.totalPages;\r\n            const current = this.page;\r\n\r\n            if (total <= maxVisible) {\r\n                return Array.from({ length: total }, (_, index) => index + 1);\r\n            }\r\n\r\n            const half = Math.floor(maxVisible / 2);\r\n            let start = Math.max(1, current - half);\r\n            let end = start + maxVisible - 1;\r\n\r\n            if (end > total) {\r\n                end = total;\r\n                start = end - maxVisible + 1;\r\n            }\r\n\r\n            return Array.from({ length: end - start + 1 }, (_, index) => start + index);\r\n        },\r\n        limitSelectOptions() {\r\n            return this.limitOptions.map((value) => ({\r\n                value: String(value),\r\n                label: String(value),\r\n            }));\r\n        },\r\n        limitSelection() {\r\n            return this.limitSelectOptions.find((option) => option.value === String(this.limit)) || null;\r\n        },\r\n        isAllSelected() {\r\n            if (this.paginatedOrders.length === 0) {\r\n                return false;\r\n            }\r\n            return this.paginatedOrders.every((order) => this.isOrderSelected(order));\r\n        },\r\n        hasSelectedOrders() {\r\n            return this.selectedOrders.length > 0;\r\n        },\r\n        testMarkingOrders() {\r\n            return this.selectedOrders;\r\n        },\r\n        unmarkedTestOrders() {\r\n            const selectedKeys = new Set(this.selectedOrders.map((order) => this.getOrderKey(order)));\r\n            return this.filteredOrders.filter((order) => !selectedKeys.has(this.getOrderKey(order)));\r\n        },\r\n    },\r\n\r\n    watch: {\r\n        tableSearchTerm() {\r\n            this.page = 1;\r\n        },\r\n        activeChannel() {\r\n            this.page = 1;\r\n        },\r\n        columnFilterMatchMode() {\r\n            this.page = 1;\r\n        },\r\n        columnFilters: {\r\n            handler() {\r\n                this.page = 1;\r\n            },\r\n            deep: true,\r\n        },\r\n    },\r\n\r\n    created() {\r\n        this.initializePage();\r\n    },\r\n\r\n    methods: {\r\n        async initializePage() {\r\n            await this.loadOverviewConfiguration();\r\n            await this.loadOrders();\r\n        },\r\n        async loadOverviewConfiguration() {\r\n            try {\r\n                const config = await this.systemConfigApiService.getValues('ExternalOrders');\r\n                const getConfigValue = (key) => config?.[`ExternalOrders.config.${key}`] ?? '';\r\n                const locale = Shopware.Store.get('session')?.currentLocale ?? '';\r\n                const isGermanLocale = locale.toLowerCase().startsWith('de');\r\n                const pageNameDe = getConfigValue('pageNameDe');\r\n                const pageNameEn = getConfigValue('pageNameEn');\r\n                const defaultColumnsPerPage = Number.parseInt(getConfigValue('defaultColumnsPerPage'), 10);\r\n\r\n                this.channelSources = {\r\n                    b2b: getConfigValue('externalOrdersApiUrlB2b'),\r\n                    ebay_de: getConfigValue('externalOrdersApiUrlEbayDe'),\r\n                    kaufland: getConfigValue('externalOrdersApiUrlKaufland'),\r\n                    ebay_at: getConfigValue('externalOrdersApiUrlEbayAt'),\r\n                    zonami: getConfigValue('externalOrdersApiUrlZonami'),\r\n                    peg: getConfigValue('externalOrdersApiUrlPeg'),\r\n                    bezb: getConfigValue('externalOrdersApiUrlBezb'),\r\n                };\r\n\r\n                this.pageTitle = (isGermanLocale ? pageNameDe : pageNameEn) || this.pageTitle;\r\n\r\n                if (Number.isFinite(defaultColumnsPerPage) && defaultColumnsPerPage > 0) {\r\n                    this.limit = defaultColumnsPerPage;\r\n                    if (!this.limitOptions.includes(defaultColumnsPerPage)) {\r\n                        this.limitOptions = [...this.limitOptions, defaultColumnsPerPage]\r\n                            .sort((left, right) => left - right);\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                this.channelSources = {};\r\n                this.createNotificationWarning({\r\n                    title: 'Konfiguration konnte nicht geladen werden',\r\n                    message: error?.message || 'Die Quellen der Übersichten konnten nicht geladen werden.',\r\n                });\r\n            }\r\n        },\r\n        async loadOrders() {\r\n            this.isLoading = true;\r\n            this.page = 1;\r\n\r\n            try {\r\n                const selectedChannel = this.activeChannel || null;\r\n                const response = await this.externalOrderService.list({\r\n                    channel: selectedChannel,\r\n                });\r\n\r\n                const payload = response?.data?.data ?? response?.data ?? response;\r\n\r\n                const apiOrders = Array.isArray(payload?.orders) ? payload.orders : [];\r\n\r\n                this.orders = apiOrders;\r\n                this.page = 1;\r\n\r\n                if (payload?.summary) {\r\n                    this.summary = payload.summary;\r\n                } else {\r\n                    this.summary = {\r\n                        orderCount: apiOrders.length,\r\n                        totalRevenue: apiOrders.reduce((sum, order) => sum + (order.totalRevenue || 0), 0),\r\n                        totalItems: apiOrders.reduce((sum, order) => sum + (order.totalItems || 0), 0),\r\n                    };\r\n                }\r\n            } catch (error) {\r\n                this.orders = [];\r\n                this.summary = {\r\n                    orderCount: 0,\r\n                    totalRevenue: 0,\r\n                    totalItems: 0,\r\n                };\r\n                this.createNotificationError({\r\n                    title: 'Bestellungen konnten nicht geladen werden',\r\n                    message: error?.message || 'Bitte prüfen Sie die Verbindung zu den externen APIs.',\r\n                });\r\n            } finally {\r\n                this.isLoading = false;\r\n            }\r\n        },\r\n        onPageChange(payload) {\r\n            if (typeof payload === 'number') {\r\n                this.page = payload;\r\n                return;\r\n            }\r\n\r\n            const { page, limit } = payload ?? {};\r\n            const nextPage = typeof page === 'number' ? page : this.page;\r\n            const nextLimit = typeof limit === 'number' ? limit : this.limit;\r\n\r\n            this.page = nextPage;\r\n            this.limit = nextLimit;\r\n        },\r\n        goToPreviousPage() {\r\n            if (this.page <= 1) {\r\n                return;\r\n            }\r\n            this.page -= 1;\r\n        },\r\n        goToFirstPage() {\r\n            this.page = 1;\r\n        },\r\n        goToLastPage() {\r\n            this.page = this.totalPages;\r\n        },\r\n        goToPage(pageNumber) {\r\n            if (typeof pageNumber !== 'number') {\r\n                return;\r\n            }\r\n            const nextPage = Math.max(1, Math.min(this.totalPages, pageNumber));\r\n            this.page = nextPage;\r\n        },\r\n        goToNextPage() {\r\n            if (this.page >= this.totalPages) {\r\n                return;\r\n            }\r\n            this.page += 1;\r\n        },\r\n        onLimitChange(value) {\r\n            const nextLimit = Number(this.normalizeSelectValue(value));\r\n            if (Number.isNaN(nextLimit) || nextLimit <= 0) {\r\n                return;\r\n            }\r\n            this.limit = nextLimit;\r\n            this.page = 1;\r\n        },\r\n        onSearch() {\r\n            this.page = 1;\r\n        },\r\n        applyDateFilter() {\r\n            this.page = 1;\r\n        },\r\n        setDateFilter(key, value) {\r\n            if (!Object.prototype.hasOwnProperty.call(this.dateFilters, key)) {\r\n                return;\r\n            }\r\n            this.dateFilters[key] = value;\r\n        },\r\n        setColumnFilterMatchMode(value) {\r\n            this.columnFilterMatchMode = this.normalizeSelectValue(value) ?? 'all';\r\n        },\r\n        setColumnFilterOperator(columnKey, value) {\r\n            if (!this.columnFilters[columnKey]) {\r\n                return;\r\n            }\r\n            this.columnFilters[columnKey].operator = this.normalizeSelectValue(value) ?? 'startsWith';\r\n        },\r\n        resetFilters() {\r\n            this.tableSearchTerm = '';\r\n            this.columnFilterMatchMode = 'all';\r\n            this.dateFilters = {\r\n                start: null,\r\n                end: null,\r\n            };\r\n            Object.keys(this.columnFilters).forEach((key) => {\r\n                this.columnFilters[key].value = '';\r\n                this.columnFilters[key].operator = 'startsWith';\r\n            });\r\n            this.page = 1;\r\n        },\r\n        toggleColumnFilter(columnKey) {\r\n            if (this.activeColumnFilter === columnKey) {\r\n                this.activeColumnFilter = null;\r\n                return;\r\n            }\r\n            this.activeColumnFilter = columnKey;\r\n        },\r\n        applyColumnFilter() {\r\n            this.page = 1;\r\n            this.activeColumnFilter = null;\r\n        },\r\n        clearColumnFilter(columnKey) {\r\n            if (!this.columnFilters[columnKey]) {\r\n                return;\r\n            }\r\n            this.columnFilters[columnKey].value = '';\r\n            this.columnFilters[columnKey].operator = 'startsWith';\r\n            this.activeColumnFilter = null;\r\n        },\r\n        isColumnFilterActive(columnKey) {\r\n            const filter = this.columnFilters[columnKey];\r\n            return Boolean(filter && String(filter.value ?? '').trim());\r\n        },\r\n        applyColumnFilters(orders) {\r\n            const activeFilters = Object.entries(this.columnFilters)\r\n                .filter(([, filter]) => String(filter.value ?? '').trim().length > 0);\r\n\r\n            if (!activeFilters.length) {\r\n                return orders;\r\n            }\r\n\r\n            return orders.filter((order) => activeFilters.every(([columnKey, filter]) => {\r\n                const value = this.getColumnFilterValue(order, columnKey);\r\n                return this.matchesColumnFilter(value, filter);\r\n            }));\r\n        },\r\n        getColumnFilterValue(order, columnKey) {\r\n            return order?.[columnKey] ?? '';\r\n        },\r\n        matchesColumnFilter(value, filter) {\r\n            const candidate = String(value ?? '').toLowerCase();\r\n            const needle = String(filter.value ?? '').toLowerCase();\r\n            const operator = this.normalizeSelectValue(filter.operator) ?? 'startsWith';\r\n\r\n            if (!needle) {\r\n                return true;\r\n            }\r\n\r\n            if (operator === 'equals') {\r\n                return candidate === needle;\r\n            }\r\n\r\n            if (operator === 'contains') {\r\n                return candidate.includes(needle);\r\n            }\r\n\r\n            return candidate.startsWith(needle);\r\n        },\r\n        normalizeSelectValue(value) {\r\n            if (value && typeof value === 'object') {\r\n                return value.value ?? value.id ?? value.name ?? '';\r\n            }\r\n            return value;\r\n        },\r\n        applyDateFilters(orders) {\r\n            const startTimestamp = this.getDateFilterTimestamp(this.dateFilters.start, 'start');\r\n            const endTimestamp = this.getDateFilterTimestamp(this.dateFilters.end, 'end');\r\n\r\n            if (!startTimestamp && !endTimestamp) {\r\n                return orders;\r\n            }\r\n\r\n            return orders.filter((order) => {\r\n                const orderTimestamp = this.parseOrderDate(order?.date);\r\n                if (!Number.isFinite(orderTimestamp)) {\r\n                    return false;\r\n                }\r\n                if (startTimestamp && orderTimestamp < startTimestamp) {\r\n                    return false;\r\n                }\r\n                if (endTimestamp && orderTimestamp > endTimestamp) {\r\n                    return false;\r\n                }\r\n                return true;\r\n            });\r\n        },\r\n        getDateFilterTimestamp(value, boundary) {\r\n            if (!value) {\r\n                return null;\r\n            }\r\n\r\n            const date = value instanceof Date ? new Date(value.getTime()) : new Date(value);\r\n            if (Number.isNaN(date.getTime())) {\r\n                return null;\r\n            }\r\n\r\n            if (boundary === 'start') {\r\n                date.setHours(0, 0, 0, 0);\r\n            } else {\r\n                date.setHours(23, 59, 59, 999);\r\n            }\r\n\r\n            return date.getTime();\r\n        },\r\n        normalizeSortValue(value, sortBy = this.sortBy) {\r\n            if (value === null || value === undefined) {\r\n                return '';\r\n            }\r\n            if (String(sortBy).toLowerCase().includes('date')) {\r\n                const parsedDate = this.parseOrderDate(value);\r\n                return Number.isNaN(parsedDate) ? String(value) : parsedDate;\r\n            }\r\n            if (typeof value === 'number') {\r\n                return value;\r\n            }\r\n            const normalized = String(value).trim();\r\n            if (/^-?\\d+(\\.\\d+)?$/.test(normalized)) {\r\n                return Number(normalized);\r\n            }\r\n            return normalized.toLowerCase();\r\n        },\r\n\r\n        onSortColumn(column) {\r\n            const nextSortBy = column?.sortBy\r\n                ?? column?.dataIndex\r\n                ?? column?.property\r\n                ?? column;\r\n\r\n            if (!nextSortBy) {\r\n                return;\r\n            }\r\n\r\n            const nextDirection = column?.sortDirection ?? column?.direction;\r\n\r\n            if (this.sortBy === nextSortBy && !nextDirection) {\r\n                this.sortDirection = this.sortDirection === 'ASC' ? 'DESC' : 'ASC';\r\n            } else {\r\n                this.sortBy = nextSortBy;\r\n                this.sortDirection = nextDirection ?? 'ASC';\r\n            }\r\n\r\n            this.page = 1;\r\n        },\r\n        onSelectionChange(selection) {\r\n            if (Array.isArray(selection)) {\r\n                this.selectedOrders = selection;\r\n                return;\r\n            }\r\n\r\n            if (selection && typeof selection === 'object') {\r\n                this.selectedOrders = Object.values(selection);\r\n                return;\r\n            }\r\n\r\n            this.selectedOrders = [];\r\n        },\r\n        toggleSelectAll(event) {\r\n            const isChecked = event?.target?.checked;\r\n            if (!isChecked) {\r\n                const currentKeys = new Set(this.paginatedOrders.map((order) => this.getOrderKey(order)));\r\n                this.selectedOrders = this.selectedOrders.filter((order) => !currentKeys.has(this.getOrderKey(order)));\r\n                return;\r\n            }\r\n\r\n            const merged = new Map(this.selectedOrders.map((order) => [this.getOrderKey(order), order]));\r\n            this.paginatedOrders.forEach((order) => {\r\n                merged.set(this.getOrderKey(order), order);\r\n            });\r\n            this.selectedOrders = Array.from(merged.values());\r\n        },\r\n        toggleOrderSelection(order, event) {\r\n            const isChecked = event?.target?.checked;\r\n            const key = this.getOrderKey(order);\r\n            if (!key) {\r\n                return;\r\n            }\r\n\r\n            if (isChecked) {\r\n                const merged = new Map(this.selectedOrders.map((item) => [this.getOrderKey(item), item]));\r\n                merged.set(key, order);\r\n                this.selectedOrders = Array.from(merged.values());\r\n                return;\r\n            }\r\n\r\n            this.selectedOrders = this.selectedOrders.filter((item) => this.getOrderKey(item) !== key);\r\n        },\r\n        isOrderSelected(order) {\r\n            const key = this.getOrderKey(order);\r\n            return this.selectedOrders.some((item) => this.getOrderKey(item) === key);\r\n        },\r\n        getSortIndicator(sortBy) {\r\n            if (this.sortBy !== sortBy) {\r\n                return '↕';\r\n            }\r\n            return this.sortDirection === 'ASC' ? '↑' : '↓';\r\n        },\r\n\r\n        async openDetail(order) {\r\n            this.isLoading = true;\r\n            try {\r\n                if (this.isFakeOrder(order)) {\r\n                    this.selectedOrder = this.normalizeOrderDetail(this.buildFakeOrderDetail(order));\r\n                } else {\r\n                    const detail = await this.externalOrderService.detail(order.id);\r\n                    this.selectedOrder = this.normalizeOrderDetail(detail);\r\n                }\r\n                this.showDetailModal = true;\r\n            } catch (error) {\r\n                this.createNotificationError({\r\n                    title: 'Bestelldetails konnten nicht geladen werden',\r\n                    message: error?.message || 'Bitte prüfen Sie die Verbindung zu den externen APIs.',\r\n                });\r\n            } finally {\r\n                this.isLoading = false;\r\n            }\r\n        },\r\n\r\n        closeDetail() {\r\n            this.showDetailModal = false;\r\n            this.selectedOrder = null;\r\n        },\r\n        normalizeOrderDetail(order) {\r\n            const base = order ?? {};\r\n            const totals = base.totals ?? {};\r\n\r\n            return {\r\n                ...base,\r\n                customer: {\r\n                    number: '',\r\n                    firstName: '',\r\n                    lastName: '',\r\n                    email: '',\r\n                    group: '',\r\n                    ...(base.customer ?? {}),\r\n                },\r\n                payment: {\r\n                    method: '',\r\n                    code: '',\r\n                    dueDate: '',\r\n                    outstanding: '',\r\n                    settled: '',\r\n                    extra: '',\r\n                    ...(base.payment ?? {}),\r\n                },\r\n                billingAddress: {\r\n                    street: '',\r\n                    zip: '',\r\n                    city: '',\r\n                    country: '',\r\n                    ...(base.billingAddress ?? {}),\r\n                },\r\n                shippingAddress: {\r\n                    name: '',\r\n                    street: '',\r\n                    zipCity: '',\r\n                    country: '',\r\n                    ...(base.shippingAddress ?? {}),\r\n                },\r\n                additional: {\r\n                    orderDate: '',\r\n                    status: '',\r\n                    orderType: '',\r\n                    notes: '',\r\n                    consultant: '',\r\n                    tenant: '',\r\n                    san6OrderNumber: '',\r\n                    orgaEntries: [],\r\n                    documents: [],\r\n                    pdmsId: '',\r\n                    pdmsVariant: '',\r\n                    topmArticleNumber: '',\r\n                    topmExecution: '',\r\n                    statusHistorySource: '',\r\n                    ...(base.additional ?? {}),\r\n                },\r\n                shipping: {\r\n                    carrier: '',\r\n                    trackingNumbers: [],\r\n                    ...(base.shipping ?? {}),\r\n                },\r\n                items: Array.isArray(base.items) ? base.items : [],\r\n                statusHistory: Array.isArray(base.statusHistory) ? base.statusHistory : [],\r\n                totals: {\r\n                    items: totals.items ?? 0,\r\n                    shipping: totals.shipping ?? 0,\r\n                    sum: totals.sum ?? 0,\r\n                    tax: totals.tax ?? 0,\r\n                    net: totals.net ?? 0,\r\n                },\r\n            };\r\n        },\r\n        openTestMarkingModal() {\r\n            if (!this.hasSelectedOrders) {\r\n                return;\r\n            }\r\n            this.showTestMarkingModal = true;\r\n        },\r\n        closeTestMarkingModal() {\r\n            this.showTestMarkingModal = false;\r\n        },\r\n        applyTestMarking() {\r\n            this.showTestMarkingModal = false;\r\n        },\r\n        getOrderKey(order) {\r\n            return order?.id ?? order?.orderNumber ?? '';\r\n        },\r\n        getOrderDisplayLabel(order) {\r\n            const number = order?.orderNumber ? `#${order.orderNumber}` : '';\r\n            const customer = order?.customerName ?? '';\r\n            if (number && customer) {\r\n                return `Order ${number} - ${customer}`;\r\n            }\r\n            if (number) {\r\n                return `Order ${number}`;\r\n            }\r\n            return customer || 'Order';\r\n        },\r\n\r\n        formatCurrency(value) {\r\n            return new Intl.NumberFormat('de-DE', {\r\n                style: 'currency',\r\n                currency: 'EUR',\r\n            }).format(value);\r\n        },\r\n\r\n        statusVariant(status) {\r\n            if (status === 'processing') {\r\n                return 'info';\r\n            }\r\n            if (status === 'shipped') {\r\n                return 'success';\r\n            }\r\n            if (status === 'closed') {\r\n                return 'danger';\r\n            }\r\n            return 'neutral';\r\n        },\r\n        isFakeOrder(order) {\r\n            const id = order?.id ?? '';\r\n            return typeof id === 'string' && id.startsWith('order-');\r\n        },\r\n        buildFakeOrderDetail(order) {\r\n            const nameParts = String(order?.customerName ?? 'Max Mustermann').split(' ');\r\n            const firstName = nameParts[0] || 'Max';\r\n            const lastName = nameParts.slice(1).join(' ') || 'Mustermann';\r\n            const orderNumber = order?.orderNumber ?? '0000000';\r\n            const totalItems = order?.totalItems ?? 1;\r\n            const grossPricePerItem = 79.5;\r\n            const netPricePerItem = Number((grossPricePerItem / 1.19).toFixed(2));\r\n            const taxRate = 19;\r\n            const items = Array.from({ length: Math.min(totalItems, 6) }, (_, index) => ({\r\n                name: `Medizinisches Produkt ${index + 1}`,\r\n                quantity: 1,\r\n                netPrice: netPricePerItem,\r\n                taxRate,\r\n                grossPrice: grossPricePerItem,\r\n                totalPrice: grossPricePerItem,\r\n            }));\r\n            const itemsTotal = items.reduce((sum, item) => sum + item.totalPrice, 0);\r\n\r\n            return {\r\n                ...order,\r\n                customer: {\r\n                    number: `KND-${orderNumber}`,\r\n                    firstName,\r\n                    lastName,\r\n                    email: order?.email ?? 'kunde@example.com',\r\n                    group: 'Standard',\r\n                },\r\n                payment: {\r\n                    method: 'Kreditkarte',\r\n                    code: `PAY-${orderNumber}`,\r\n                    dueDate: order?.date ?? '2025-12-31',\r\n                    outstanding: this.formatCurrency(0),\r\n                    settled: this.formatCurrency(itemsTotal),\r\n                    extra: 'Transaktion bestätigt',\r\n                },\r\n                billingAddress: {\r\n                    street: 'Hauptstraße 12',\r\n                    zip: '20354',\r\n                    city: 'Hamburg',\r\n                    country: 'Deutschland',\r\n                },\r\n                shippingAddress: {\r\n                    name: order?.customerName ?? 'Max Mustermann',\r\n                    street: 'Hauptstraße 12',\r\n                    zipCity: '20354 Hamburg',\r\n                    country: 'Deutschland',\r\n                },\r\n                additional: {\r\n                    orderDate: order?.date ?? '2025-12-30 09:31',\r\n                    status: order?.statusLabel ?? 'Bezahlt / in Bearbeitung',\r\n                    orderType: 'Standard',\r\n                    notes: 'Testbestellung aus externer Übersicht',\r\n                    consultant: 'Lisa Berger',\r\n                    tenant: 'FM Shop',\r\n                    san6OrderNumber: `SAN6-${orderNumber}`,\r\n                    orgaEntries: ['ORG-394', 'ORG-402'],\r\n                    documents: ['Archiv 2025-12', 'Scan 444'],\r\n                    pdmsId: 'PDMS-7742',\r\n                    pdmsVariant: 'V2',\r\n                    topmArticleNumber: 'TOPM-331',\r\n                    topmExecution: 'Standard',\r\n                    statusHistorySource: 'System',\r\n                },\r\n                shipping: {\r\n                    carrier: 'DHL',\r\n                    trackingNumbers: [`00340434${orderNumber}`],\r\n                },\r\n                items,\r\n                statusHistory: [\r\n                    { status: 'Bestellung angelegt', date: order?.date ?? '2025-12-30 09:31', comment: 'Automatisch' },\r\n                    { status: order?.statusLabel ?? 'Bezahlt / in Bearbeitung', date: order?.date ?? '2025-12-30 10:15', comment: 'Zahlung bestätigt' },\r\n                    { status: 'Versand vorbereitet', date: '2025-12-31 08:10', comment: 'Kommissionierung gestartet' },\r\n                ],\r\n            };\r\n        },\r\n        exportSelectedOrdersPdf() {\r\n            const orders = this.getOrdersForExport();\r\n            if (!orders.length) {\r\n                this.createNotificationWarning({\r\n                    title: 'Keine Bestellungen gefunden',\r\n                    message: 'Für den aktuellen Filter sind keine Bestellungen verfügbar.',\r\n                });\r\n                return;\r\n            }\r\n\r\n            const pdfData = this.buildTablePdf(orders);\r\n            this.downloadBlob('external-orders.pdf', 'application/pdf', pdfData);\r\n        },\r\n        exportSelectedOrdersExcel() {\r\n            const orders = this.getOrdersForExport();\r\n            if (!orders.length) {\r\n                this.createNotificationWarning({\r\n                    title: 'Keine Bestellungen gefunden',\r\n                    message: 'Für den aktuellen Filter sind keine Bestellungen verfügbar.',\r\n                });\r\n                return;\r\n            }\r\n\r\n            const rows = this.buildExportRows(orders);\r\n            const csv = this.buildCsv(rows);\r\n            this.downloadBlob('external-orders.csv', 'text/csv;charset=utf-8;', csv);\r\n        },\r\n        async seedTestData() {\r\n            if (this.isSeedingTestData) {\r\n                return;\r\n            }\r\n\r\n            this.isSeedingTestData = true;\r\n\r\n            try {\r\n                const response = await this.externalOrderService.seedTestData();\r\n                const inserted = response?.inserted ?? 0;\r\n                this.createNotificationSuccess({\r\n                    title: 'Testdaten gespeichert',\r\n                    message: inserted > 0\r\n                        ? `Es wurden ${inserted} Testbestellungen gespeichert.`\r\n                        : 'Keine neuen Testbestellungen wurden gespeichert.',\r\n                });\r\n                await this.loadOrders();\r\n            } catch (error) {\r\n                this.createNotificationError({\r\n                    title: 'Testdaten konnten nicht gespeichert werden',\r\n                    message: error?.message || 'Bitte prüfen Sie die Konfiguration der externen APIs.',\r\n                });\r\n            } finally {\r\n                this.isSeedingTestData = false;\r\n            }\r\n        },\r\n        getOrdersForExport() {\r\n            return this.filteredOrders;\r\n        },\r\n        buildExportRows(orders) {\r\n            const header = [\r\n                'Bestellnummer',\r\n                'Kundenname',\r\n                'Land',\r\n                'Zahlungsmethode',\r\n                'Datum',\r\n                'Bestellstatus',\r\n                'Stück',\r\n                'Summe',\r\n            ];\r\n\r\n            const rows = orders.map((order) => ([\r\n                order.orderNumber ?? '',\r\n                order.customerName ?? '',\r\n                this.getOrderCountry(order),\r\n                this.getOrderPaymentMethod(order),\r\n                this.formatDateForExport(order.date),\r\n                order.statusLabel ?? '',\r\n                this.getOrderItemCount(order),\r\n                this.formatNumberForExport(this.getOrderTotal(order)),\r\n            ]));\r\n\r\n            return [header, ...rows];\r\n        },\r\n        buildExportLines(orders) {\r\n            const rows = this.buildExportRows(orders);\r\n            const formattedRows = rows.map((row) => row.map((value) => String(value ?? '')));\r\n            const columnWidths = formattedRows[0].map((_, index) => {\r\n                const longest = Math.max(...formattedRows.map((row) => row[index].length));\r\n                return Math.min(Math.max(longest, 6), 24);\r\n            });\r\n\r\n            const paddedRows = formattedRows.map((row) => row.map((value, index) => {\r\n                const trimmed = value.length > columnWidths[index]\r\n                    ? `${value.slice(0, columnWidths[index] - 1)}…`\r\n                    : value;\r\n                return trimmed.padEnd(columnWidths[index]);\r\n            }));\r\n\r\n            const headerLine = paddedRows[0].join(' | ');\r\n            const separatorLine = columnWidths.map((width) => '-'.repeat(width)).join('-|-');\r\n            const bodyLines = paddedRows.slice(1).map((row) => row.join(' | '));\r\n\r\n            return [\r\n                this.buildExportSummaryLine(orders),\r\n                headerLine,\r\n                separatorLine,\r\n                ...bodyLines,\r\n            ];\r\n        },\r\n        buildCsv(rows) {\r\n            const delimiter = ';';\r\n            const escapeValue = (value) => {\r\n                const stringValue = String(value ?? '');\r\n                const escapedValue = stringValue.replace(/\"/g, '\"\"');\r\n                const needsEscaping = stringValue.includes(delimiter)\r\n                    || stringValue.includes('\\n')\r\n                    || stringValue.includes('\\r')\r\n                    || stringValue.includes('\"');\r\n                return needsEscaping ? `\"${escapedValue}\"` : escapedValue;\r\n            };\r\n\r\n            const content = rows\r\n                .map((row) => row.map(escapeValue).join(delimiter))\r\n                .join('\\r\\n');\r\n\r\n            return `\\ufeff${content}`;\r\n        },\r\n        buildExportSummaryLine(orders) {\r\n            const totalItems = orders.reduce((sum, order) => sum + this.getOrderItemCount(order), 0);\r\n            const totalRevenue = orders.reduce((sum, order) => sum + this.getOrderTotal(order), 0);\r\n            const dateRange = this.getExportDateRange(orders);\r\n            const revenueLabel = this.formatCurrency(totalRevenue);\r\n\r\n            return [\r\n                'Shopbestellungen',\r\n                dateRange ? `${dateRange}` : null,\r\n                `${orders.length} Bestellungen`,\r\n                `${revenueLabel} Gesamtumsatz`,\r\n                `${totalItems} Stück`,\r\n            ].filter(Boolean).join(' | ');\r\n        },\r\n        getExportDateRange(orders) {\r\n            const timestamps = orders\r\n                .map((order) => this.parseOrderDate(order.date))\r\n                .filter((value) => Number.isFinite(value));\r\n\r\n            if (!timestamps.length) {\r\n                return '';\r\n            }\r\n\r\n            const min = new Date(Math.min(...timestamps));\r\n            const max = new Date(Math.max(...timestamps));\r\n\r\n            return `${this.formatDateForExport(min)} - ${this.formatDateForExport(max)}`;\r\n        },\r\n        parseOrderDate(value) {\r\n            if (!value) {\r\n                return NaN;\r\n            }\r\n            const normalized = String(value).replace(' ', 'T');\r\n            const parsed = Date.parse(normalized);\r\n            return Number.isNaN(parsed) ? NaN : parsed;\r\n        },\r\n        formatDateForExport(value) {\r\n            if (!value) {\r\n                return '';\r\n            }\r\n            if (value instanceof Date) {\r\n                return value.toLocaleDateString('de-DE');\r\n            }\r\n            const parsed = this.parseOrderDate(value);\r\n            if (Number.isNaN(parsed)) {\r\n                return String(value);\r\n            }\r\n            return new Date(parsed).toISOString().slice(0, 10);\r\n        },\r\n        formatNumberForExport(value) {\r\n            const numeric = typeof value === 'number' ? value : Number(value);\r\n            if (!Number.isFinite(numeric)) {\r\n                return '';\r\n            }\r\n            return new Intl.NumberFormat('de-DE', {\r\n                minimumFractionDigits: 2,\r\n                maximumFractionDigits: 2,\r\n            }).format(numeric);\r\n        },\r\n        getOrderCountry(order) {\r\n            return order?.billingAddress?.country\r\n                ?? order?.shippingAddress?.country\r\n                ?? order?.country\r\n                ?? '';\r\n        },\r\n        getOrderPaymentMethod(order) {\r\n            return order?.payment?.method\r\n                ?? order?.paymentMethod\r\n                ?? order?.payment\r\n                ?? '';\r\n        },\r\n        getOrderItemCount(order) {\r\n            return order?.totalItems ?? order?.itemsCount ?? order?.items?.length ?? 0;\r\n        },\r\n        getOrderTotal(order) {\r\n            return order?.totalPrice\r\n                ?? order?.totalRevenue\r\n                ?? order?.amountTotal\r\n                ?? order?.priceTotal\r\n                ?? 0;\r\n        },\r\n        buildTablePdf(orders) {\r\n            const rows = this.buildExportRows(orders);\r\n            const summaryLine = this.buildExportSummaryLine(orders);\r\n            const pageWidth = 595;\r\n            const pageHeight = 842;\r\n            const marginX = 30;\r\n            const marginTop = 40;\r\n            const startY = pageHeight - marginTop;\r\n            const availableWidth = pageWidth - marginX * 2;\r\n            const { columnWidths, scale } = this.getPdfColumnWidths(rows, availableWidth);\r\n            const fontSize = Math.max(8, Math.floor(10 * scale));\r\n            const lineHeight = Math.max(14, Math.round(fontSize * 1.8));\r\n            const tableTop = startY - (lineHeight * 2);\r\n            const totalTableWidth = columnWidths.reduce((sum, width) => sum + width, 0);\r\n            const xPositions = columnWidths.reduce((positions, width) => {\r\n                const last = positions[positions.length - 1];\r\n                positions.push(last + width);\r\n                return positions;\r\n            }, [marginX]);\r\n\r\n            const tableHeight = rows.length * lineHeight;\r\n            const tableBottom = tableTop - tableHeight;\r\n\r\n            const contentParts = [];\r\n            contentParts.push('BT');\r\n            contentParts.push(`/F1 ${fontSize} Tf`);\r\n            contentParts.push(`1 0 0 1 ${marginX} ${startY} Tm`);\r\n            contentParts.push(`(${this.escapePdfText(summaryLine)}) Tj`);\r\n            contentParts.push('ET');\r\n\r\n            contentParts.push('0.5 w');\r\n            xPositions.forEach((x) => {\r\n                contentParts.push(`${x} ${tableTop} m ${x} ${tableBottom} l S`);\r\n            });\r\n            for (let rowIndex = 0; rowIndex <= rows.length; rowIndex += 1) {\r\n                const y = tableTop - (rowIndex * lineHeight);\r\n                contentParts.push(`${marginX} ${y} m ${marginX + totalTableWidth} ${y} l S`);\r\n            }\r\n\r\n            const maxCharsForWidth = (width) => Math.floor((width - 6) / (fontSize * 0.55));\r\n            rows.forEach((row, rowIndex) => {\r\n                const textY = tableTop - ((rowIndex + 1) * lineHeight) + Math.round(fontSize * 0.6);\r\n                row.forEach((value, columnIndex) => {\r\n                    const cellX = xPositions[columnIndex] + 3;\r\n                    const width = columnWidths[columnIndex];\r\n                    const rawText = String(value ?? '');\r\n                    const trimmed = this.trimPdfText(rawText, maxCharsForWidth(width));\r\n                    contentParts.push('BT');\r\n                    contentParts.push(`/F1 ${fontSize} Tf`);\r\n                    contentParts.push(`1 0 0 1 ${cellX} ${textY} Tm`);\r\n                    contentParts.push(`(${this.escapePdfText(trimmed)}) Tj`);\r\n                    contentParts.push('ET');\r\n                });\r\n            });\r\n\r\n            const stream = contentParts.join('\\n');\r\n            const objects = [];\r\n            objects.push('1 0 obj\\n<< /Type /Catalog /Pages 2 0 R >>\\nendobj\\n');\r\n            objects.push('2 0 obj\\n<< /Type /Pages /Kids [3 0 R] /Count 1 >>\\nendobj\\n');\r\n            objects.push('3 0 obj\\n<< /Type /Page /Parent 2 0 R /MediaBox [0 0 595 842] /Contents 5 0 R /Resources << /Font << /F1 4 0 R >> >> >>\\nendobj\\n');\r\n            objects.push('4 0 obj\\n<< /Type /Font /Subtype /Type1 /BaseFont /Helvetica >>\\nendobj\\n');\r\n            objects.push(`5 0 obj\\n<< /Length ${stream.length} >>\\nstream\\n${stream}\\nendstream\\nendobj\\n`);\r\n\r\n            let pdf = '%PDF-1.4\\n';\r\n            const offsets = [];\r\n            const encoder = new TextEncoder();\r\n\r\n            objects.forEach((object) => {\r\n                offsets.push(encoder.encode(pdf).length);\r\n                pdf += object;\r\n            });\r\n\r\n            const xrefStart = encoder.encode(pdf).length;\r\n            pdf += `xref\\n0 ${objects.length + 1}\\n0000000000 65535 f \\n`;\r\n            offsets.forEach((offset) => {\r\n                pdf += `${String(offset).padStart(10, '0')} 00000 n \\n`;\r\n            });\r\n            pdf += `trailer\\n<< /Size ${objects.length + 1} /Root 1 0 R >>\\nstartxref\\n${xrefStart}\\n%%EOF`;\r\n\r\n            return encoder.encode(pdf);\r\n        },\r\n        getPdfColumnWidths(rows, availableWidth) {\r\n            const maxLengths = rows[0].map((_, index) => Math.max(...rows.map((row) => String(row[index] ?? '').length)));\r\n            const minWidths = [60, 120, 55, 95, 65, 110, 45, 70];\r\n            const baseWidths = maxLengths.map((length, index) => Math.max(minWidths[index], length * 6));\r\n            const totalWidth = baseWidths.reduce((sum, width) => sum + width, 0);\r\n            const scale = totalWidth > availableWidth ? (availableWidth / totalWidth) : 1;\r\n            return {\r\n                columnWidths: baseWidths.map((width) => Math.floor(width * scale)),\r\n                scale,\r\n            };\r\n        },\r\n        trimPdfText(text, maxChars) {\r\n            if (maxChars <= 0) {\r\n                return '';\r\n            }\r\n            if (text.length <= maxChars) {\r\n                return text;\r\n            }\r\n            if (maxChars === 1) {\r\n                return '…';\r\n            }\r\n            return `${text.slice(0, maxChars - 1)}…`;\r\n        },\r\n        escapePdfText(text) {\r\n            return String(text)\r\n                .replace(/\\\\/g, '\\\\\\\\')\r\n                .replace(/\\(/g, '\\\\(')\r\n                .replace(/\\)/g, '\\\\)');\r\n        },\r\n        downloadBlob(filename, mimeType, content) {\r\n            const blob = content instanceof Uint8Array\r\n                ? new Blob([content], { type: mimeType })\r\n                : new Blob([content], { type: mimeType });\r\n            const url = URL.createObjectURL(blob);\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.download = filename;\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n            URL.revokeObjectURL(url);\r\n        },\r\n\r\n        getSortValue(order, sortBy) {\r\n            if (!sortBy) {\r\n                return '';\r\n            }\r\n\r\n            const value = order?.[sortBy];\r\n            return this.normalizeSortValue(value, sortBy);\r\n        },\r\n\r\n    },\r\n});\r\n","import './page/external-orders-list';\n\nconst { Module } = Shopware;\n\nModule.register('external-orders', {\n    type: 'plugin',\n    name: 'external-orders',\n    title: 'Bestellübersichten',\n    description: 'Zentrale Übersicht für externe Bestellungen',\n    color: '#009ee3',\n    icon: 'regular-shopping-cart',\n\n    routes: {\n        index: {\n            component: 'external-orders-list',\n            path: 'index',\n            meta: {\n                privilege: 'admin',\n            },\n        },\n    },\n\n    navigation: [\n        {\n            id: 'external-orders',\n            label: 'Bestellübersichten',\n            color: '#009ee3',\n            path: 'external.orders.index',\n            icon: 'regular-shopping-cart',\n            parent: 'sw-order',\n            position: 45,\n        },\n    ],\n});\n"],"names":["ApiService","ExternalOrderService","httpClient","loginService","apiEndpoint","channel","search","params","response","data","orderId","container","initContainer","Component","Mixin","_a","inserted","error","template","searchTerm","order","channelFilter","filtered","channelValue","columnFiltered","dateFiltered","value","sortBy","direction","left","right","leftValue","rightValue","start","total","current","_","index","half","end","option","selectedKeys","config","getConfigValue","key","isGermanLocale","pageNameDe","pageNameEn","defaultColumnsPerPage","selectedChannel","payload","apiOrders","sum","page","limit","nextPage","nextLimit","pageNumber","columnKey","filter","orders","activeFilters","candidate","needle","operator","startTimestamp","endTimestamp","orderTimestamp","boundary","date","parsedDate","normalized","column","nextSortBy","nextDirection","selection","event","currentKeys","merged","isChecked","item","detail","base","totals","number","customer","status","id","nameParts","firstName","lastName","orderNumber","totalItems","grossPricePerItem","netPricePerItem","taxRate","items","itemsTotal","pdfData","rows","csv","header","formattedRows","row","columnWidths","longest","paddedRows","headerLine","separatorLine","width","bodyLines","escapeValue","stringValue","escapedValue","totalRevenue","dateRange","revenueLabel","timestamps","min","max","parsed","numeric","_b","summaryLine","pageWidth","pageHeight","marginX","startY","availableWidth","scale","fontSize","lineHeight","tableTop","totalTableWidth","xPositions","positions","last","tableHeight","tableBottom","contentParts","x","rowIndex","y","maxCharsForWidth","textY","columnIndex","cellX","rawText","trimmed","stream","objects","pdf","offsets","encoder","object","xrefStart","offset","maxLengths","minWidths","baseWidths","length","totalWidth","text","maxChars","filename","mimeType","content","blob","url","link","Module"],"mappings":"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"}