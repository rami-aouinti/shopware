const{ApiService:F}=Shopware.Classes;class E extends F{constructor(t,r,s="external-orders"){super(t,r,s),this.name="externalOrderService"}async list({channel:t=null,search:r=null}={}){const s={};t&&(s.channel=t),r&&(s.search=r);const a=await this.httpClient.get(`_action/${this.getApiBasePath()}/list`,{headers:this.getBasicHeaders(),params:s}),l=F.handleResponse(a)??(a==null?void 0:a.data);return(l==null?void 0:l.data)??l}async detail(t){const r=await this.httpClient.get(`_action/${this.getApiBasePath()}/detail/${t}`,{headers:this.getBasicHeaders()}),s=F.handleResponse(r)??(r==null?void 0:r.data);return(s==null?void 0:s.data)??s}}Shopware.Application.addServiceProvider("externalOrderService",e=>{const t=Shopware.Application.getContainer("init"),r=(t==null?void 0:t.httpClient)??e.httpClient,s=e.loginService??Shopware.Service("loginService");return new E(r,s)});const R=`<div class="external-orders"> <header class="external-orders__header"> <h2>Bestellübersichten</h2> </header> <main id="main" class="sw-page__main-content" tabindex="-1"> <div class="external-orders__page"> <sw-card class="external-orders__channels" style="max-width: none; width: 100%;"> <div class="external-orders__channel-tabs"> <button v-for="channel in channels" :key="channel.id" class="external-orders__channel-tab" :class="{ 'is--active': activeChannel === channel.id }" type="button" @click="activeChannel = channel.id; loadOrders()" > <span class="external-orders__channel-logo"> <img :src="channel.logo" :alt="channel.label" /> </span> <span class="external-orders__channel-label">{{ channel.label }}</span> </button> </div> <div class="external-orders__summary"> <div class="external-orders__summary-title"> <span>Bestellungen aus {{ activeChannelLabel }}</span> </div> <div v-if="activeChannelSource" class="external-orders__summary-source" > Quelle: {{ activeChannelSource }} </div> <div class="external-orders__summary-metrics"> <div class="external-orders__summary-item"> <span class="external-orders__summary-label">Bestellungen</span> <span class="external-orders__summary-value">{{ summary.orderCount }}</span> </div> <div class="external-orders__summary-item"> <span class="external-orders__summary-label">Gesamtumsatz</span> <span class="external-orders__summary-value">{{ formatCurrency(summary.totalRevenue) }}</span> </div> <div class="external-orders__summary-item"> <span class="external-orders__summary-label">Stück</span> <span class="external-orders__summary-value">{{ summary.totalItems }}</span> </div> </div> <div class="external-orders__summary-actions"> <button class="external-orders__button external-orders__button--primary" type="button" @click="exportSelectedOrdersPdf" > <sw-icon name="regular-file-text" size="16" class="external-orders__download-icon" /> PDF herunterladen ({{ selectedOrders.length > 0 ? selectedOrders.length : filteredOrders.length }}) </button> <button class="external-orders__button external-orders__button--secondary" type="button" @click="exportSelectedOrdersExcel" > <sw-icon name="regular-file" size="16" class="external-orders__download-icon" /> Excel herunterladen ({{ selectedOrders.length > 0 ? selectedOrders.length : filteredOrders.length }}) </button> </div> </div> </sw-card> <sw-card class="external-orders__filters-card" style="max-width: none; width: 100%;"> <div class="external-orders__filters-bar"> <div class="external-orders__filters"> <button class="external-orders__button external-orders__button--primary" type="button" @click="resetFilters" > <sw-icon name="regular-filter" size="16" /> Filter löschen </button> <sw-datepicker placeholder="Start Datum" class="external-orders__date" size="small" date-type="date" /> <sw-datepicker placeholder="End Datum" class="external-orders__date" size="small" date-type="date" /> <button class="external-orders__button external-orders__button--primary" type="button">Anwenden</button> </div> <div class="external-orders__filters-actions"> <sw-text-field v-model="tableSearchTerm" placeholder="Suche Bestellungen" class="external-orders__search" size="small" type="search" /> <button class="external-orders__button external-orders__button--primary" type="button" :disabled="!hasSelectedOrders" @click="openTestMarkingModal" > Testmarkierung Anwenden </button> </div> </div> <div v-if="paginatedOrders.length > 0" class="external-orders__table-wrapper" > <table class="external-orders__table"> <thead> <tr> <th class="external-orders__cell external-orders__cell--checkbox"> <input type="checkbox" class="external-orders__checkbox" :checked="isAllSelected" @change="toggleSelectAll($event)" /> </th> <th class="external-orders__cell"> <div class="external-orders__column-header"> <button class="external-orders__column-sort" type="button" @click="onSortColumn('orderNumber')" > BestellNr <span class="external-orders__sort-indicator"> {{ getSortIndicator('orderNumber') }} </span> </button> <button class="external-orders__column-filter-button" :class="{ 'is--active': isColumnFilterActive('orderNumber') }" type="button" @click.stop="toggleColumnFilter('orderNumber')" > <sw-icon name="regular-filter" size="16" /> </button> <div v-if="activeColumnFilter === 'orderNumber'" class="external-orders__column-filter-panel" @click.stop > <sw-single-select v-model="columnFilterMatchMode" :options="columnFilterMatchOptions" size="small" class="external-orders__column-filter-field" /> <sw-single-select v-model="columnFilters.orderNumber.operator" :options="columnFilterOperatorOptions" size="small" class="external-orders__column-filter-field" /> <sw-text-field v-model="columnFilters.orderNumber.value" size="small" class="external-orders__column-filter-field" /> <button class="external-orders__column-filter-add external-orders__button external-orders__button--primary external-orders__button--small" disabled type="button"> + Add Rule </button> <div class="external-orders__column-filter-actions"> <button class="external-orders__button external-orders__button--secondary external-orders__button--small" @click="clearColumnFilter('orderNumber')" type="button"> Clear </button> <button class="external-orders__button external-orders__button--primary external-orders__button--small" @click="applyColumnFilter" type="button"> Apply </button> </div> </div> </div> </th> <th class="external-orders__cell"> <div class="external-orders__column-header"> <button class="external-orders__column-sort" type="button" @click="onSortColumn('customerName')" > Kundenname <span class="external-orders__sort-indicator"> {{ getSortIndicator('customerName') }} </span> </button> <button class="external-orders__column-filter-button" :class="{ 'is--active': isColumnFilterActive('customerName') }" type="button" @click.stop="toggleColumnFilter('customerName')" > <sw-icon name="regular-filter" size="16" /> </button> <div v-if="activeColumnFilter === 'customerName'" class="external-orders__column-filter-panel" @click.stop > <sw-single-select v-model="columnFilterMatchMode" :options="columnFilterMatchOptions" size="small" class="external-orders__column-filter-field" /> <sw-single-select v-model="columnFilters.customerName.operator" :options="columnFilterOperatorOptions" size="small" class="external-orders__column-filter-field" /> <sw-text-field v-model="columnFilters.customerName.value" size="small" class="external-orders__column-filter-field" /> <button class="external-orders__column-filter-add external-orders__button external-orders__button--primary external-orders__button--small" disabled type="button"> + Add Rule </button> <div class="external-orders__column-filter-actions"> <button class="external-orders__button external-orders__button--secondary external-orders__button--small" @click="clearColumnFilter('customerName')" type="button"> Clear </button> <button class="external-orders__button external-orders__button--primary external-orders__button--small" @click="applyColumnFilter" type="button"> Apply </button> </div> </div> </div> </th> <th class="external-orders__cell"> <div class="external-orders__column-header"> <button class="external-orders__column-sort" type="button" @click="onSortColumn('orderReference')" > AuftragsNr <span class="external-orders__sort-indicator"> {{ getSortIndicator('orderReference') }} </span> </button> <button class="external-orders__column-filter-button" :class="{ 'is--active': isColumnFilterActive('orderReference') }" type="button" @click.stop="toggleColumnFilter('orderReference')" > <sw-icon name="regular-filter" size="16" /> </button> <div v-if="activeColumnFilter === 'orderReference'" class="external-orders__column-filter-panel" @click.stop > <sw-single-select v-model="columnFilterMatchMode" :options="columnFilterMatchOptions" size="small" class="external-orders__column-filter-field" /> <sw-single-select v-model="columnFilters.orderReference.operator" :options="columnFilterOperatorOptions" size="small" class="external-orders__column-filter-field" /> <sw-text-field v-model="columnFilters.orderReference.value" size="small" class="external-orders__column-filter-field" /> <button class="external-orders__column-filter-add external-orders__button external-orders__button--primary external-orders__button--small" disabled type="button"> + Add Rule </button> <div class="external-orders__column-filter-actions"> <button class="external-orders__button external-orders__button--secondary external-orders__button--small" @click="clearColumnFilter('orderReference')" type="button"> Clear </button> <button class="external-orders__button external-orders__button--primary external-orders__button--small" @click="applyColumnFilter" type="button"> Apply </button> </div> </div> </div> </th> <th class="external-orders__cell"> <div class="external-orders__column-header"> <button class="external-orders__column-sort" type="button" @click="onSortColumn('email')" > Email <span class="external-orders__sort-indicator"> {{ getSortIndicator('email') }} </span> </button> <button class="external-orders__column-filter-button" :class="{ 'is--active': isColumnFilterActive('email') }" type="button" @click.stop="toggleColumnFilter('email')" > <sw-icon name="regular-filter" size="16" /> </button> <div v-if="activeColumnFilter === 'email'" class="external-orders__column-filter-panel" @click.stop > <sw-single-select v-model="columnFilterMatchMode" :options="columnFilterMatchOptions" size="small" class="external-orders__column-filter-field" /> <sw-single-select v-model="columnFilters.email.operator" :options="columnFilterOperatorOptions" size="small" class="external-orders__column-filter-field" /> <sw-text-field v-model="columnFilters.email.value" size="small" class="external-orders__column-filter-field" /> <button class="external-orders__column-filter-add external-orders__button external-orders__button--primary external-orders__button--small" disabled type="button"> + Add Rule </button> <div class="external-orders__column-filter-actions"> <button class="external-orders__button external-orders__button--secondary external-orders__button--small" @click="clearColumnFilter('email')" type="button"> Clear </button> <button class="external-orders__button external-orders__button--primary external-orders__button--small" @click="applyColumnFilter" type="button"> Apply </button> </div> </div> </div> </th> <th class="external-orders__cell"> <div class="external-orders__column-header"> <button class="external-orders__column-sort" type="button" @click="onSortColumn('date')" > Datum <span class="external-orders__sort-indicator"> {{ getSortIndicator('date') }} </span> </button> <button class="external-orders__column-filter-button" :class="{ 'is--active': isColumnFilterActive('date') }" type="button" @click.stop="toggleColumnFilter('date')" > <sw-icon name="regular-filter" size="16" /> </button> <div v-if="activeColumnFilter === 'date'" class="external-orders__column-filter-panel" @click.stop > <sw-single-select v-model="columnFilterMatchMode" :options="columnFilterMatchOptions" size="small" class="external-orders__column-filter-field" /> <sw-single-select v-model="columnFilters.date.operator" :options="columnFilterOperatorOptions" size="small" class="external-orders__column-filter-field" /> <sw-text-field v-model="columnFilters.date.value" size="small" class="external-orders__column-filter-field" /> <button class="external-orders__column-filter-add external-orders__button external-orders__button--primary external-orders__button--small" disabled type="button"> + Add Rule </button> <div class="external-orders__column-filter-actions"> <button class="external-orders__button external-orders__button--secondary external-orders__button--small" @click="clearColumnFilter('date')" type="button"> Clear </button> <button class="external-orders__button external-orders__button--primary external-orders__button--small" @click="applyColumnFilter" type="button"> Apply </button> </div> </div> </div> </th> <th class="external-orders__cell"> <div class="external-orders__column-header"> <button class="external-orders__column-sort" type="button" @click="onSortColumn('statusLabel')" > Bestellstatus <span class="external-orders__sort-indicator"> {{ getSortIndicator('statusLabel') }} </span> </button> <button class="external-orders__column-filter-button" :class="{ 'is--active': isColumnFilterActive('statusLabel') }" type="button" @click.stop="toggleColumnFilter('statusLabel')" > <sw-icon name="regular-filter" size="16" /> </button> <div v-if="activeColumnFilter === 'statusLabel'" class="external-orders__column-filter-panel" @click.stop > <sw-single-select v-model="columnFilterMatchMode" :options="columnFilterMatchOptions" size="small" class="external-orders__column-filter-field" /> <sw-single-select v-model="columnFilters.statusLabel.operator" :options="columnFilterOperatorOptions" size="small" class="external-orders__column-filter-field" /> <sw-text-field v-model="columnFilters.statusLabel.value" size="small" class="external-orders__column-filter-field" /> <button class="external-orders__column-filter-add external-orders__button external-orders__button--primary external-orders__button--small" disabled type="button"> + Add Rule </button> <div class="external-orders__column-filter-actions"> <button class="external-orders__button external-orders__button--secondary external-orders__button--small" @click="clearColumnFilter('statusLabel')" type="button"> Clear </button> <button class="external-orders__button external-orders__button--primary external-orders__button--small" @click="applyColumnFilter" type="button"> Apply </button> </div> </div> </div> </th> <th class="external-orders__cell external-orders__cell--actions"> Ansicht </th> </tr> </thead> <tbody> <tr v-for="order in paginatedOrders" :key="getOrderKey(order)"> <td class="external-orders__cell external-orders__cell--checkbox"> <input type="checkbox" class="external-orders__checkbox" :checked="isOrderSelected(order)" @change="toggleOrderSelection(order, $event)" /> </td> <td class="external-orders__cell">{{ order.orderNumber }}</td> <td class="external-orders__cell">{{ order.customerName }}</td> <td class="external-orders__cell">{{ order.orderReference }}</td> <td class="external-orders__cell">{{ order.email }}</td> <td class="external-orders__cell">{{ order.date }}</td> <td class="external-orders__cell"> <sw-label :variant="statusVariant(order.status)" size="small"> {{ order.statusLabel }} </sw-label> </td> <td class="external-orders__cell external-orders__cell--actions"> <button class="external-orders__action external-orders__button external-orders__button--ghost external-orders__button--small" @click="openDetail(order)" type="button"> <sw-icon name="regular-eye" size="16" /> </button> </td> </tr> </tbody> </table> </div> <div v-if="paginatedOrders.length > 0" class="external-orders__pagination" > <div class="external-orders__pagination-controls"> <button type="button" class="external-orders__pagination-nav" :disabled="page <= 1" @click="goToFirstPage" > « </button> <button type="button" class="external-orders__pagination-nav" :disabled="page <= 1" @click="goToPreviousPage" > ‹ </button> <div class="external-orders__pagination-pages"> <button v-for="pageNumber in visiblePages" :key="pageNumber" type="button" class="external-orders__pagination-page" :class="{ 'is--active': pageNumber === page }" @click="goToPage(pageNumber)" > {{ pageNumber }} </button> </div> <button type="button" class="external-orders__pagination-nav" :disabled="page >= totalPages" @click="goToNextPage" > › </button> <button type="button" class="external-orders__pagination-nav" :disabled="page >= totalPages" @click="goToLastPage" > » </button> <sw-single-select v-model="limit" :options="limitSelectOptions" size="small" class="external-orders__pagination-limit" @change="onLimitChange" /> </div> </div> <sw-empty-state v-else icon="regular-shopping-cart" title="Keine Bestellungen gefunden" subline="Es wurden keine Bestellungen für die aktuelle Auswahl geladen." /> </sw-card> <sw-modal v-if="showDetailModal && selectedOrder" :title="\`Bestellübersicht für \${selectedOrder.orderNumber}\`" variant="large" class="external-orders__detail-modal" @modal-close="closeDetail" > <div class="external-orders__detail"> <sw-card title="Zusätzliche Bestellinformationen" class="external-orders__detail-card"> <div class="external-orders__detail-grid"> <div class="external-orders__detail-section"> <h4>Kundendetails</h4> <dl> <dt>Kundenname</dt> <dd>{{ selectedOrder.customer.firstName }} {{ selectedOrder.customer.lastName }}</dd> <dt>Kundennummer</dt> <dd>{{ selectedOrder.customer.number }}</dd> <dt>Vorname</dt> <dd>{{ selectedOrder.customer.firstName }}</dd> <dt>Nachname</dt> <dd>{{ selectedOrder.customer.lastName }}</dd> <dt>Kunden-Mail-Adresse</dt> <dd>{{ selectedOrder.customer.email }}</dd> <dt>Kundengruppe</dt> <dd>{{ selectedOrder.customer.group }}</dd> </dl> </div> <div class="external-orders__detail-section"> <h4>Zahlungsdetails</h4> <dl> <dt>Zahlungsmethode</dt> <dd>{{ selectedOrder.payment.method }}</dd> <dt>Zahlungscode</dt> <dd>{{ selectedOrder.payment.code }}</dd> <dt>Fälligkeitsdatum</dt> <dd>{{ selectedOrder.payment.dueDate }}</dd> <dt>Ausstehender Betrag</dt> <dd>{{ selectedOrder.payment.outstanding }}</dd> <dt>Abgerechnet</dt> <dd>{{ selectedOrder.payment.settled }}</dd> <dt>Zusatzinfo</dt> <dd>{{ selectedOrder.payment.extra }}</dd> </dl> </div> <div class="external-orders__detail-section"> <h4>Rechnungsanschrift</h4> <dl> <dt>Straße</dt> <dd>{{ selectedOrder.billingAddress.street }}</dd> <dt>PLZ</dt> <dd>{{ selectedOrder.billingAddress.zip }}</dd> <dt>Stadt</dt> <dd>{{ selectedOrder.billingAddress.city }}</dd> <dt>Land</dt> <dd>{{ selectedOrder.billingAddress.country }}</dd> </dl> </div> <div class="external-orders__detail-section"> <h4>Lieferanschrift</h4> <dl> <dt>Lieferadresse</dt> <dd>{{ selectedOrder.shippingAddress.name }}</dd> <dt>Lieferstraße</dt> <dd>{{ selectedOrder.shippingAddress.street }}</dd> <dt>Postleitzahl/Stadt</dt> <dd>{{ selectedOrder.shippingAddress.zipCity }}</dd> <dt>Land</dt> <dd>{{ selectedOrder.shippingAddress.country }}</dd> </dl> </div> <div class="external-orders__detail-section"> <h4>Weitere Details</h4> <dl> <dt>Bestelldatum</dt> <dd>{{ selectedOrder.additional.orderDate }}</dd> <dt>Status</dt> <dd>{{ selectedOrder.additional.status }}</dd> <dt>Bestelltyp</dt> <dd>{{ selectedOrder.additional.orderType }}</dd> <dt>Notizen</dt> <dd>{{ selectedOrder.additional.notes }}</dd> <dt>Fachberater</dt> <dd>{{ selectedOrder.additional.consultant }}</dd> <dt>Mandant</dt> <dd>{{ selectedOrder.additional.tenant }}</dd> <dt>San6 Auftragsnummer</dt> <dd>{{ selectedOrder.additional.san6OrderNumber }}</dd> </dl> </div> <div class="external-orders__detail-section"> <h4>Erweiterte Bestelldaten</h4> <dl> <dt>Versanddienstleister</dt> <dd>{{ selectedOrder.shipping.carrier }}</dd> <dt>Trackingnummer(n)</dt> <dd>{{ selectedOrder.shipping.trackingNumbers.join(', ') }}</dd> <dt>Einträge in Orgas San6</dt> <dd>{{ selectedOrder.additional.orgaEntries.join(', ') }}</dd> <dt>Dokumente aus Bildarchiv San6</dt> <dd>{{ selectedOrder.additional.documents.join(', ') }}</dd> <dt>PDMS ID + Variante</dt> <dd>{{ selectedOrder.additional.pdmsId }} / {{ selectedOrder.additional.pdmsVariant }}</dd> <dt>TopM Artikelnummer + Ausführung</dt> <dd>{{ selectedOrder.additional.topmArticleNumber }} / {{ selectedOrder.additional.topmExecution }}</dd> <dt>Bestellstatushistorie Gambio/Shopware</dt> <dd>{{ selectedOrder.additional.statusHistorySource }}</dd> </dl> </div> </div> </sw-card> <sw-card title="Bestellprodukte" class="external-orders__detail-card"> <sw-data-grid :data-source="selectedOrder.items" :columns="[ { property: 'name', label: 'Produktname' }, { property: 'quantity', label: 'Menge' }, { property: 'netPrice', label: 'Nettowert' }, { property: 'taxRate', label: 'Steuersatz' }, { property: 'grossPrice', label: 'Bruttowert' }, { property: 'totalPrice', label: 'Gesamtwert' }, ]" identifier="external-orders-items" > <template #column-netPrice="{ item }"> {{ formatCurrency(item.netPrice) }} </template> <template #column-taxRate="{ item }"> {{ item.taxRate }}% </template> <template #column-grossPrice="{ item }"> {{ formatCurrency(item.grossPrice) }} </template> <template #column-totalPrice="{ item }"> {{ formatCurrency(item.totalPrice) }} </template> </sw-data-grid> </sw-card> <sw-card title="Statusverlauf" class="external-orders__detail-card"> <sw-data-grid :data-source="selectedOrder.statusHistory" :columns="[ { property: 'status', label: 'Status' }, { property: 'date', label: 'Datum' }, { property: 'comment', label: 'Kommentare' }, ]" identifier="external-orders-history" /> </sw-card> <sw-card title="Bestellgesamtsummen" class="external-orders__detail-card"> <div class="external-orders__totals"> <div class="external-orders__totals-row"> <span>Warenwert</span> <span>{{ formatCurrency(selectedOrder.totals.items) }}</span> </div> <div class="external-orders__totals-row"> <span>Versandkosten</span> <span>{{ formatCurrency(selectedOrder.totals.shipping) }}</span> </div> <div class="external-orders__totals-row"> <span>Summe</span> <span>{{ formatCurrency(selectedOrder.totals.sum) }}</span> </div> <div class="external-orders__totals-row"> <span>inkl. MwSt.</span> <span>{{ formatCurrency(selectedOrder.totals.tax) }}</span> </div> <div class="external-orders__totals-row"> <span>Summe netto</span> <span>{{ formatCurrency(selectedOrder.totals.net) }}</span> </div> </div> </sw-card> </div> </sw-modal> <div v-if="showTestMarkingModal" class="external-orders__testmarking-overlay" role="dialog" aria-modal="true" > <div class="external-orders__testmarking-dialog"> <header class="external-orders__testmarking-header"> <h3>Bestätigen von Änderungen der Testmarkierung</h3> <button type="button" class="external-orders__testmarking-close" aria-label="Modal schließen" @click="closeTestMarkingModal" > × </button> </header> <div class="external-orders__testmarking-body"> <p class="external-orders__testmarking-intro"> Sie sind dabei, die folgenden Bestellungen als Testbestellungen zu markieren bzw. die Markierung aufzuheben. Bitte überprüfen Sie die Änderungen, bevor Sie sie bestätigen. </p> <div class="external-orders__testmarking-grid"> <div class="external-orders__testmarking-card"> <h4 class="external-orders__testmarking-title is--positive"> Als Test zu markierende Bestellungen </h4> <ul class="external-orders__testmarking-list"> <li v-for="order in testMarkingOrders" :key="getOrderKey(order)" > {{ getOrderDisplayLabel(order) }} </li> <li v-if="testMarkingOrders.length === 0"> Keine Bestellungen ausgewählt. </li> </ul> </div> <div class="external-orders__testmarking-card"> <h4 class="external-orders__testmarking-title is--negative"> Bestellungen, die nicht als Test markieren </h4> <ul class="external-orders__testmarking-list"> <li v-for="order in unmarkedTestOrders" :key="getOrderKey(order)" > {{ getOrderDisplayLabel(order) }} </li> <li v-if="unmarkedTestOrders.length === 0"> Keine Bestellungen ausgewählt. </li> </ul> </div> </div> </div> <footer class="external-orders__testmarking-footer"> <sw-button variant="secondary" @click="closeTestMarkingModal"> Abbrechen </sw-button> <sw-button variant="primary" @click="applyTestMarking"> Bestätige </sw-button> </footer> </div> </div> </div> </main> </div>`,{Component:L,Mixin:$}=Shopware;L.register("external-orders-list",{template:R,inject:["externalOrderService","systemConfigApiService"],mixins:[$.getByName("notification")],data(){return{isLoading:!1,orders:[],summary:{orderCount:0,totalRevenue:0,totalItems:0},channelSources:{},channels:[{id:"b2b",label:"First-medical-shop.de",logo:"http://controlling.first-medical.de:8480/assets/images/b2b1.png"},{id:"ebay_de",label:"Ebay.DE",logo:"http://controlling.first-medical.de:8480/assets/images/ebay1.png"},{id:"kaufland",label:"KaufLand",logo:"http://controlling.first-medical.de:8480/assets/images/kaufland1.png"},{id:"ebay_at",label:"Ebay.AT",logo:"http://controlling.first-medical.de:8480/assets/images/ebayAT.png"},{id:"zonami",label:"Zonami",logo:"http://controlling.first-medical.de:8480/assets/images/zonami1.png"},{id:"peg",label:"PEG",logo:"http://controlling.first-medical.de:8480/assets/images/peg2.png"},{id:"bezb",label:"BEZB",logo:"http://controlling.first-medical.de:8480/assets/images/bezb1.png"}],activeChannel:"b2b",tableSearchTerm:"",columnFilterMatchMode:"all",columnFilterMatchOptions:[{value:"all",label:"Match All"}],columnFilterOperatorOptions:[{value:"startsWith",label:"Starts with"},{value:"contains",label:"Contains"},{value:"equals",label:"Equals"}],columnFilters:{orderNumber:{value:"",operator:"startsWith"},customerName:{value:"",operator:"startsWith"},orderReference:{value:"",operator:"startsWith"},email:{value:"",operator:"startsWith"},date:{value:"",operator:"startsWith"},statusLabel:{value:"",operator:"startsWith"}},activeColumnFilter:null,selectedOrder:null,selectedOrders:[],showDetailModal:!1,showTestMarkingModal:!1,page:1,limit:10,limitOptions:[10,25,50,100],sortBy:"date",sortDirection:"DESC"}},computed:{columns(){return[{property:"order-number",dataIndex:"orderNumber",sortBy:"orderNumber",label:"BestellNr",sortable:!0,primary:!0,allowResize:!0},{property:"customer-name",dataIndex:"customerName",sortBy:"customerName",label:"Kundenname",sortable:!0,allowResize:!0},{property:"order-reference",dataIndex:"orderReference",sortBy:"orderReference",label:"AuftragsNr",sortable:!0,allowResize:!0},{property:"email",dataIndex:"email",sortBy:"email",label:"Email",sortable:!0,allowResize:!0},{property:"date",dataIndex:"date",sortBy:"date",label:"Datum",sortable:!0,allowResize:!0},{property:"status-label",dataIndex:"statusLabel",sortBy:"statusLabel",label:"Bestellstatus",sortable:!0,allowResize:!0},{property:"actions",label:"Ansicht",sortable:!1,width:"90px"}]},activeChannelLabel(){var e;return((e=this.channels.find(t=>t.id===this.activeChannel))==null?void 0:e.label)||""},activeChannelSource(){return this.channelSources[this.activeChannel]||""},filteredOrders(){const e=this.tableSearchTerm.trim().toLowerCase();this.orders.filter(a=>a.channel?a.channel===this.activeChannel:!0);const t=this.activeChannel==="all"?null:this.activeChannel,r=this.orders.filter(a=>{if(!t)return!0;const l=a.channel??a.channelId??a.salesChannelId??a.salesChannel;return String(l??"").toLowerCase()===t}),s=this.applyColumnFilters(r);return e?s.filter(a=>[a.orderNumber,a.customerName,a.orderReference,a.email,a.statusLabel,a.date].some(n=>String(n??"").toLowerCase().includes(e))):s},sortedOrders(){const e=this.sortBy,t=this.sortDirection==="DESC"?-1:1;return[...this.filteredOrders].sort((r,s)=>{const a=this.getSortValue(r,e),l=this.getSortValue(s,e);return a===l?0:a>l?t:-t})},paginatedOrders(){const e=(this.page-1)*this.limit;return this.sortedOrders.slice(e,e+this.limit)},paginationTotal(){return this.sortedOrders.length},totalPages(){return this.limit<=0?1:Math.max(1,Math.ceil(this.paginationTotal/this.limit))},visiblePages(){const t=this.totalPages,r=this.page;if(t<=5)return Array.from({length:t},(n,d)=>d+1);const s=Math.floor(5/2);let a=Math.max(1,r-s),l=a+5-1;return l>t&&(l=t,a=l-5+1),Array.from({length:l-a+1},(n,d)=>a+d)},limitSelectOptions(){return this.limitOptions.map(e=>({value:e,label:String(e)}))},isAllSelected(){return this.paginatedOrders.length===0?!1:this.paginatedOrders.every(e=>this.isOrderSelected(e))},hasSelectedOrders(){return this.selectedOrders.length>0},testMarkingOrders(){return this.selectedOrders},unmarkedTestOrders(){const e=new Set(this.selectedOrders.map(t=>this.getOrderKey(t)));return this.filteredOrders.filter(t=>!e.has(this.getOrderKey(t)))}},watch:{tableSearchTerm(){this.page=1},activeChannel(){this.page=1},columnFilterMatchMode(){this.page=1},columnFilters:{handler(){this.page=1},deep:!0}},created(){this.initializePage()},methods:{async initializePage(){await this.loadOverviewConfiguration(),await this.loadOrders()},async loadOverviewConfiguration(){try{const e=await this.systemConfigApiService.getValues("ExternalOrders"),t=r=>(e==null?void 0:e[`ExternalOrders.config.${r}`])??"";this.channelSources={b2b:t("sourceB2b"),ebay_de:t("sourceEbayDe"),kaufland:t("sourceKaufland"),ebay_at:t("sourceEbayAt"),zonami:t("sourceZonami"),peg:t("sourcePeg"),bezb:t("sourceBezb")}}catch(e){this.channelSources={},this.createNotificationWarning({title:"Konfiguration konnte nicht geladen werden",message:(e==null?void 0:e.message)||"Die Quellen der Übersichten konnten nicht geladen werden."})}},async loadOrders(){var e;this.isLoading=!0,this.page=1;try{const t=this.activeChannel||null,r=await this.externalOrderService.list({channel:t}),s=((e=r==null?void 0:r.data)==null?void 0:e.data)??(r==null?void 0:r.data)??r,a=Array.isArray(s==null?void 0:s.orders)?s.orders:[],l=this.buildFakeOrders(),n=a.length>0?[...a,...l.orders]:l.orders;this.orders=n,this.page=1,s!=null&&s.summary?this.summary={orderCount:n.length,totalRevenue:(s.summary.totalRevenue||0)+l.summary.totalRevenue,totalItems:(s.summary.totalItems||0)+l.summary.totalItems}:this.summary={orderCount:n.length,totalRevenue:l.summary.totalRevenue,totalItems:n.reduce((d,i)=>d+(i.totalItems||0),0)}}catch(t){this.orders=[],this.summary={orderCount:0,totalRevenue:0,totalItems:0},this.createNotificationError({title:"Bestellungen konnten nicht geladen werden",message:(t==null?void 0:t.message)||"Bitte prüfen Sie die Verbindung zu den externen APIs."})}finally{this.isLoading=!1}},onPageChange(e){if(typeof e=="number"){this.page=e;return}const{page:t,limit:r}=e??{},s=typeof t=="number"?t:this.page,a=typeof r=="number"?r:this.limit;this.page=s,this.limit=a},goToPreviousPage(){this.page<=1||(this.page-=1)},goToFirstPage(){this.page=1},goToLastPage(){this.page=this.totalPages},goToPage(e){if(typeof e!="number")return;const t=Math.max(1,Math.min(this.totalPages,e));this.page=t},goToNextPage(){this.page>=this.totalPages||(this.page+=1)},onLimitChange(e){const t=Number(e);Number.isNaN(t)||t<=0||(this.limit=t,this.page=1)},onSearch(){this.page=1},resetFilters(){this.tableSearchTerm="",this.columnFilterMatchMode="all",Object.keys(this.columnFilters).forEach(e=>{this.columnFilters[e].value="",this.columnFilters[e].operator="startsWith"}),this.page=1},toggleColumnFilter(e){if(this.activeColumnFilter===e){this.activeColumnFilter=null;return}this.activeColumnFilter=e},applyColumnFilter(){this.page=1,this.activeColumnFilter=null},clearColumnFilter(e){this.columnFilters[e]&&(this.columnFilters[e].value="",this.columnFilters[e].operator="startsWith",this.activeColumnFilter=null)},isColumnFilterActive(e){const t=this.columnFilters[e];return!!(t&&String(t.value??"").trim())},applyColumnFilters(e){const t=Object.entries(this.columnFilters).filter(([,r])=>String(r.value??"").trim().length>0);return t.length?e.filter(r=>t.every(([s,a])=>{const l=this.getColumnFilterValue(r,s);return this.matchesColumnFilter(l,a)})):e},getColumnFilterValue(e,t){return(e==null?void 0:e[t])??""},matchesColumnFilter(e,t){const r=String(e??"").toLowerCase(),s=String(t.value??"").toLowerCase(),a=t.operator??"startsWith";return s?a==="equals"?r===s:a==="contains"?r.includes(s):r.startsWith(s):!0},normalizeSortValue(e,t=this.sortBy){if(e==null)return"";if(String(t).toLowerCase().includes("date")){const s=this.parseOrderDate(e);return Number.isNaN(s)?String(e):s}if(typeof e=="number")return e;const r=String(e).trim();return/^-?\d+(\.\d+)?$/.test(r)?Number(r):r.toLowerCase()},onSortColumn(e){const t=(e==null?void 0:e.sortBy)??(e==null?void 0:e.dataIndex)??(e==null?void 0:e.property)??e;if(!t)return;const r=(e==null?void 0:e.sortDirection)??(e==null?void 0:e.direction);this.sortBy===t&&!r?this.sortDirection=this.sortDirection==="ASC"?"DESC":"ASC":(this.sortBy=t,this.sortDirection=r??"ASC"),this.page=1},onSelectionChange(e){if(Array.isArray(e)){this.selectedOrders=e;return}if(e&&typeof e=="object"){this.selectedOrders=Object.values(e);return}this.selectedOrders=[]},toggleSelectAll(e){var s;if(!((s=e==null?void 0:e.target)==null?void 0:s.checked)){const a=new Set(this.paginatedOrders.map(l=>this.getOrderKey(l)));this.selectedOrders=this.selectedOrders.filter(l=>!a.has(this.getOrderKey(l)));return}const r=new Map(this.selectedOrders.map(a=>[this.getOrderKey(a),a]));this.paginatedOrders.forEach(a=>{r.set(this.getOrderKey(a),a)}),this.selectedOrders=Array.from(r.values())},toggleOrderSelection(e,t){var a;const r=(a=t==null?void 0:t.target)==null?void 0:a.checked,s=this.getOrderKey(e);if(s){if(r){const l=new Map(this.selectedOrders.map(n=>[this.getOrderKey(n),n]));l.set(s,e),this.selectedOrders=Array.from(l.values());return}this.selectedOrders=this.selectedOrders.filter(l=>this.getOrderKey(l)!==s)}},isOrderSelected(e){const t=this.getOrderKey(e);return this.selectedOrders.some(r=>this.getOrderKey(r)===t)},getSortIndicator(e){return this.sortBy!==e?"↕":this.sortDirection==="ASC"?"↑":"↓"},async openDetail(e){this.isLoading=!0;try{this.isFakeOrder(e)?this.selectedOrder=this.buildFakeOrderDetail(e):this.selectedOrder=await this.externalOrderService.detail(e.id),this.showDetailModal=!0}catch(t){this.createNotificationError({title:"Bestelldetails konnten nicht geladen werden",message:(t==null?void 0:t.message)||"Bitte prüfen Sie die Verbindung zu den externen APIs."})}finally{this.isLoading=!1}},closeDetail(){this.showDetailModal=!1,this.selectedOrder=null},openTestMarkingModal(){this.hasSelectedOrders&&(this.showTestMarkingModal=!0)},closeTestMarkingModal(){this.showTestMarkingModal=!1},applyTestMarking(){this.showTestMarkingModal=!1},getOrderKey(e){return(e==null?void 0:e.id)??(e==null?void 0:e.orderNumber)??""},getOrderDisplayLabel(e){const t=e!=null&&e.orderNumber?`#${e.orderNumber}`:"",r=(e==null?void 0:e.customerName)??"";return t&&r?`Order ${t} - ${r}`:t?`Order ${t}`:r||"Order"},formatCurrency(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(e)},statusVariant(e){return e==="processing"?"info":e==="shipped"?"success":e==="closed"?"danger":"neutral"},isFakeOrder(e){const t=(e==null?void 0:e.id)??"";return typeof t=="string"&&t.startsWith("order-")},buildFakeOrderDetail(e){const t=String((e==null?void 0:e.customerName)??"Max Mustermann").split(" "),r=t[0]||"Max",s=t.slice(1).join(" ")||"Mustermann",a=(e==null?void 0:e.orderNumber)??"0000000",l=(e==null?void 0:e.totalItems)??1,n=79.5,d=Number((n/1.19).toFixed(2)),i=19,u=Array.from({length:Math.min(l,6)},(p,o)=>({name:`Medizinisches Produkt ${o+1}`,quantity:1,netPrice:d,taxRate:i,grossPrice:n,totalPrice:n})),g=u.reduce((p,o)=>p+o.totalPrice,0);return{...e,customer:{number:`KND-${a}`,firstName:r,lastName:s,email:(e==null?void 0:e.email)??"kunde@example.com",group:"Standard"},payment:{method:"Kreditkarte",code:`PAY-${a}`,dueDate:(e==null?void 0:e.date)??"2025-12-31",outstanding:this.formatCurrency(0),settled:this.formatCurrency(g),extra:"Transaktion bestätigt"},billingAddress:{street:"Hauptstraße 12",zip:"20354",city:"Hamburg",country:"Deutschland"},shippingAddress:{name:(e==null?void 0:e.customerName)??"Max Mustermann",street:"Hauptstraße 12",zipCity:"20354 Hamburg",country:"Deutschland"},additional:{orderDate:(e==null?void 0:e.date)??"2025-12-30 09:31",status:(e==null?void 0:e.statusLabel)??"Bezahlt / in Bearbeitung",orderType:"Standard",notes:"Testbestellung aus externer Übersicht",consultant:"Lisa Berger",tenant:"FM Shop",san6OrderNumber:`SAN6-${a}`,orgaEntries:["ORG-394","ORG-402"],documents:["Archiv 2025-12","Scan 444"],pdmsId:"PDMS-7742",pdmsVariant:"V2",topmArticleNumber:"TOPM-331",topmExecution:"Standard",statusHistorySource:"System"},shipping:{carrier:"DHL",trackingNumbers:[`00340434${a}`]},items:u,statusHistory:[{status:"Bestellung angelegt",date:(e==null?void 0:e.date)??"2025-12-30 09:31",comment:"Automatisch"},{status:(e==null?void 0:e.statusLabel)??"Bezahlt / in Bearbeitung",date:(e==null?void 0:e.date)??"2025-12-30 10:15",comment:"Zahlung bestätigt"},{status:"Versand vorbereitet",date:"2025-12-31 08:10",comment:"Kommissionierung gestartet"}]}},exportSelectedOrdersPdf(){const e=this.getOrdersForExport();if(!e.length){this.createNotificationWarning({title:"Keine Bestellungen gefunden",message:"Für den aktuellen Filter sind keine Bestellungen verfügbar."});return}const t=this.buildTablePdf(e);this.downloadBlob("external-orders.pdf","application/pdf",t)},exportSelectedOrdersExcel(){const e=this.getOrdersForExport();if(!e.length){this.createNotificationWarning({title:"Keine Bestellungen gefunden",message:"Für den aktuellen Filter sind keine Bestellungen verfügbar."});return}const t=this.buildExportRows(e),r=this.buildCsv(t);this.downloadBlob("external-orders.csv","text/csv;charset=utf-8;",r)},getOrdersForExport(){return this.filteredOrders},buildExportRows(e){const t=["Bestellnummer","Kundenname","Land","Zahlungsmethode","Datum","Bestellstatus","Stück","Summe"],r=e.map(s=>[s.orderNumber??"",s.customerName??"",this.getOrderCountry(s),this.getOrderPaymentMethod(s),this.formatDateForExport(s.date),s.statusLabel??"",this.getOrderItemCount(s),this.formatNumberForExport(this.getOrderTotal(s))]);return[t,...r]},buildExportLines(e){const r=this.buildExportRows(e).map(i=>i.map(u=>String(u??""))),s=r[0].map((i,u)=>{const g=Math.max(...r.map(p=>p[u].length));return Math.min(Math.max(g,6),24)}),a=r.map(i=>i.map((u,g)=>(u.length>s[g]?`${u.slice(0,s[g]-1)}…`:u).padEnd(s[g]))),l=a[0].join(" | "),n=s.map(i=>"-".repeat(i)).join("-|-"),d=a.slice(1).map(i=>i.join(" | "));return[this.buildExportSummaryLine(e),l,n,...d]},buildCsv(e){const r=a=>{const l=String(a??""),n=l.replace(/"/g,'""');return l.includes(";")||l.includes(`
`)||l.includes("\r")||l.includes('"')?`"${n}"`:n};return`\uFEFF${e.map(a=>a.map(r).join(";")).join(`\r
`)}`},buildExportSummaryLine(e){const t=e.reduce((l,n)=>l+this.getOrderItemCount(n),0),r=e.reduce((l,n)=>l+this.getOrderTotal(n),0),s=this.getExportDateRange(e),a=this.formatCurrency(r);return["Shopbestellungen",s?`${s}`:null,`${e.length} Bestellungen`,`${a} Gesamtumsatz`,`${t} Stück`].filter(Boolean).join(" | ")},getExportDateRange(e){const t=e.map(a=>this.parseOrderDate(a.date)).filter(a=>Number.isFinite(a));if(!t.length)return"";const r=new Date(Math.min(...t)),s=new Date(Math.max(...t));return`${this.formatDateForExport(r)} - ${this.formatDateForExport(s)}`},parseOrderDate(e){if(!e)return NaN;const t=String(e).replace(" ","T"),r=Date.parse(t);return Number.isNaN(r)?NaN:r},formatDateForExport(e){if(!e)return"";if(e instanceof Date)return e.toLocaleDateString("de-DE");const t=this.parseOrderDate(e);return Number.isNaN(t)?String(e):new Date(t).toISOString().slice(0,10)},formatNumberForExport(e){const t=typeof e=="number"?e:Number(e);return Number.isFinite(t)?new Intl.NumberFormat("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t):""},getOrderCountry(e){var t,r;return((t=e==null?void 0:e.billingAddress)==null?void 0:t.country)??((r=e==null?void 0:e.shippingAddress)==null?void 0:r.country)??(e==null?void 0:e.country)??""},getOrderPaymentMethod(e){var t;return((t=e==null?void 0:e.payment)==null?void 0:t.method)??(e==null?void 0:e.paymentMethod)??(e==null?void 0:e.payment)??""},getOrderItemCount(e){var t;return(e==null?void 0:e.totalItems)??(e==null?void 0:e.itemsCount)??((t=e==null?void 0:e.items)==null?void 0:t.length)??0},getOrderTotal(e){return(e==null?void 0:e.totalPrice)??(e==null?void 0:e.totalRevenue)??(e==null?void 0:e.amountTotal)??(e==null?void 0:e.priceTotal)??0},buildTablePdf(e){const t=this.buildExportRows(e),r=this.buildExportSummaryLine(e),s=595,a=842,l=30,d=a-40,i=s-l*2,{columnWidths:u,scale:g}=this.getPdfColumnWidths(t,i),p=Math.max(8,Math.floor(10*g)),o=Math.max(14,Math.round(p*1.8)),h=d-o*2,v=u.reduce((c,f)=>c+f,0),y=u.reduce((c,f)=>{const k=c[c.length-1];return c.push(k+f),c},[l]),x=t.length*o,w=h-x,m=[];m.push("BT"),m.push(`/F1 ${p} Tf`),m.push(`1 0 0 1 ${l} ${d} Tm`),m.push(`(${this.escapePdfText(r)}) Tj`),m.push("ET"),m.push("0.5 w"),y.forEach(c=>{m.push(`${c} ${h} m ${c} ${w} l S`)});for(let c=0;c<=t.length;c+=1){const f=h-c*o;m.push(`${l} ${f} m ${l+v} ${f} l S`)}const S=c=>Math.floor((c-6)/(p*.55));t.forEach((c,f)=>{const k=h-(f+1)*o+Math.round(p*.6);c.forEach((D,N)=>{const A=y[N]+3,T=u[N],P=String(D??""),z=this.trimPdfText(P,S(T));m.push("BT"),m.push(`/F1 ${p} Tf`),m.push(`1 0 0 1 ${A} ${k} Tm`),m.push(`(${this.escapePdfText(z)}) Tj`),m.push("ET")})});const O=m.join(`
`),b=[];b.push(`1 0 obj
<< /Type /Catalog /Pages 2 0 R >>
endobj
`),b.push(`2 0 obj
<< /Type /Pages /Kids [3 0 R] /Count 1 >>
endobj
`),b.push(`3 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 595 842] /Contents 5 0 R /Resources << /Font << /F1 4 0 R >> >> >>
endobj
`),b.push(`4 0 obj
<< /Type /Font /Subtype /Type1 /BaseFont /Helvetica >>
endobj
`),b.push(`5 0 obj
<< /Length ${O.length} >>
stream
${O}
endstream
endobj
`);let _=`%PDF-1.4
`;const M=[],C=new TextEncoder;b.forEach(c=>{M.push(C.encode(_).length),_+=c});const B=C.encode(_).length;return _+=`xref
0 ${b.length+1}
0000000000 65535 f 
`,M.forEach(c=>{_+=`${String(c).padStart(10,"0")} 00000 n 
`}),_+=`trailer
<< /Size ${b.length+1} /Root 1 0 R >>
startxref
${B}
%%EOF`,C.encode(_)},getPdfColumnWidths(e,t){const r=e[0].map((d,i)=>Math.max(...e.map(u=>String(u[i]??"").length))),s=[60,120,55,95,65,110,45,70],a=r.map((d,i)=>Math.max(s[i],d*6)),l=a.reduce((d,i)=>d+i,0),n=l>t?t/l:1;return{columnWidths:a.map(d=>Math.floor(d*n)),scale:n}},trimPdfText(e,t){return t<=0?"":e.length<=t?e:t===1?"…":`${e.slice(0,t-1)}…`},escapePdfText(e){return String(e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},downloadBlob(e,t,r){const s=r instanceof Uint8Array?new Blob([r],{type:t}):new Blob([r],{type:t}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download=e,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)},getSortValue(e,t){if(!t)return"";const r=e==null?void 0:e[t];return this.normalizeSortValue(r,t)},buildFakeOrders(){const s=new Date("2025-12-30T09:31:00"),a=["Andreas Nanke","Lea Wagner","Frank Sagert","Sophie Bauer","Noah Berg","Julia Krüger","Tim König","Maja Keller","Lina Hoffmann","Jonas Richter","Karsten Stieler","Peter Scholl","Jasmin Roth","Oliver Hahn","Mara Schulz","Tobias Link","Lukas Meier","Svenja Graf","Nina Krämer","David Winter"],l=[{status:"processing",label:"Bezahlt / in Bearbeitung"},{status:"shipped",label:"Versendet"},{status:"closed",label:"Abgeschlossen"}],n={b2b:{emailDomain:"first-medical-shop.de",label:"First-medical-shop.de"},ebay_de:{emailDomain:"members.ebay.com",label:"Ebay.DE"},ebay_at:{emailDomain:"members.ebay.com",label:"Ebay.AT"},kaufland:{emailDomain:"members.kaufland.de",label:"KaufLand"},zonami:{emailDomain:"zonami.example",label:"Zonami"},peg:{emailDomain:"peg.example",label:"PEG"},bezb:{emailDomain:"bezb.example",label:"BEZB"}},d=o=>{const h=v=>String(v).padStart(2,"0");return`${o.getFullYear()}-${h(o.getMonth()+1)}-${h(o.getDate())} ${h(o.getHours())}:${h(o.getMinutes())}`},i=[];this.channels.map(o=>o.id).forEach((o,h)=>{const v=n[o]??{emailDomain:"example.com"};for(let y=0;y<100;y+=1){const x=h*100+y,w=String(1009e3+x),m=String(446500+x),S=l[x%l.length],O=a[x%a.length],b=O.toLowerCase().replace(/[^a-z0-9]+/g,"."),_=new Date(s.getTime()-x*36*60*1e3);i.push({id:`order-${o}-${w}`,channel:o,orderNumber:w,customerName:O,orderReference:m,email:`${b}@${v.emailDomain}`,date:d(_),status:S.status,statusLabel:S.label,totalItems:x%6+1})}});const g=i.reduce((o,h)=>o+h.totalItems,0),p=i.reduce((o,h)=>o+h.totalItems*79.5,0);return{orders:i,summary:{orderCount:i.length,totalRevenue:Number(p.toFixed(2)),totalItems:g}}}}});const{Module:I}=Shopware;I.register("external-orders",{type:"plugin",name:"external-orders",title:"Bestellübersichten",description:"Zentrale Übersicht für externe Bestellungen",color:"#009ee3",icon:"regular-shopping-cart",routes:{index:{component:"external-orders-list",path:"index",meta:{privilege:"admin"}}},navigation:[{id:"external-orders",label:"Bestellübersichten",color:"#009ee3",path:"external.orders.index",icon:"regular-shopping-cart",parent:"sw-order",position:45}]});
//# sourceMappingURL=external-orders-Bbpa0VtF.js.map
